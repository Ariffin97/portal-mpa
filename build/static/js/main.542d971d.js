/*! For license information please see main.542d971d.js.LICENSE.txt */
(()=>{"use strict";var e={579:(e,t,n)=>{e.exports=n(2799)},2284:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},4288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var v=y.prototype=new b;v.constructor=y,m(v,x.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function N(e,t,r,a,i,s){return r=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:s}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(){}function P(e,t,a,i,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(o){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case h:return P((d=e._init)(e._payload),t,a,i,s)}}if(d)return s=s(e),d=""===i?"."+A(e,0):i,w(s)?(a="",null!=d&&(a=d.replace(C,"$&/")+"/"),P(s,t,a,"",function(e){return e})):null!=s&&(k(s)&&(l=s,c=a+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+d,s=N(l.type,c,void 0,0,0,l.props)),t.push(s)),1;d=0;var u,f=""===i?".":i+":";if(w(e))for(var m=0;m<e.length;m++)d+=P(i=e[m],t,a,o=f+A(i,m),s);else if("function"===typeof(m=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=p&&u[p]||u["@@iterator"])?u:null))for(e=m.call(e),m=0;!(i=e.next()).done;)d+=P(i=i.value,t,a,o=f+A(i,m++),s);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function L(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function z(){}t.Children={map:L,forEach:function(e,t,n){L(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=a,t.Profiler=s,t.PureComponent=y,t.StrictMode=i,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!S.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return N(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];a.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return N(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,n={};j.T=n;try{var r=e(),a=j.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(z,E)}catch(i){E(i)}finally{j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,n){return j.H.useActionState(e,t,n)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=j.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,n){return j.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return j.H.useReducer(e,t,n)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.H.useTransition()},t.version="19.1.1"},4391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7004)},4980:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(2284);function a(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,r.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function i(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{e.exports=n(4288)},5896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,s=a>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>i(l,n))c<a&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,x=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,N||(N=!0,S());else{var t=r(d);null!==t&&E(j,t.startTime-e)}}var S,N=!1,k=-1,C=5,A=-1;function _(){return!!x||!(t.unstable_now()-A<C)}function P(){if(x=!1,N){var e=t.unstable_now();A=e;var n=!0;try{e:{m=!1,g&&(g=!1,y(k),k=-1),f=!0;var i=p;try{t:{for(w(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,w(e),n=!0;break t}h===r(c)&&a(c),w(e)}else a(c);h=r(c)}if(null!==h)n=!0;else{var l=r(d);null!==l&&E(j,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?S():N=!1}}}if("function"===typeof v)S=function(){v(P)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,T=L.port2;L.port1.onmessage=P,S=function(){T.postMessage(null)}}else S=function(){b(P,0)};function E(e,n){k=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(y(k),k=-1):g=!0,E(j,i-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,N||(N=!0,S()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},6672:(e,t,n)=>{var r=n(5043);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},7004:(e,t,n)=>{var r=n(8853),a=n(5043),i=n(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),w=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case b:return"Profiler";case x:return"StrictMode";case S:return"Suspense";case N:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case v:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return E(e(t))}catch(F){}}return null}var z=Array.isArray,R=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},M=[],O=-1;function B(e){return{current:e}}function q(e){0>O||(e.current=M[O],M[O]=null,O--)}function U(e,t){O++,M[O]=e.current,e.current=t}var W=B(null),H=B(null),V=B(null),G=B(null);function Y(e,t){switch(U(V,t),U(H,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?iu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=su(t=iu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(W),U(W,e)}function K(){q(W),q(H),q(V)}function J(e){null!==e.memoizedState&&U(G,e);var t=W.current,n=su(t,e.type);t!==n&&(U(H,e),U(W,n))}function Q(e){H.current===e&&(q(W),q(H)),G.current===e&&(q(G),Ju._currentValue=D)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,ee=r.unstable_shouldYield,te=r.unstable_requestPaint,ne=r.unstable_now,re=r.unstable_getCurrentPriorityLevel,ae=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,oe=r.unstable_LowPriority,le=r.unstable_IdlePriority,ce=r.log,de=r.unstable_setDisableYieldValue,ue=null,he=null;function pe(e){if("function"===typeof ce&&de(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(me(e)/ge|0)|0},me=Math.log,ge=Math.LN2;var xe=256,be=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ve(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,i=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?a=ye(r):0!==(s&=o)?a=ye(s):n||0!==(n=o&~e)&&(a=ye(n)):0!==(o=r&~i)?a=ye(o):0!==s?a=ye(s):n||0!==(n=r&~e)&&(a=ye(n)),0===a?0:0!==t&&t!==a&&0===(t&i)&&((i=a&-a)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:a}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=xe;return 0===(4194048&(xe<<=1))&&(xe=256),e}function Ne(){var e=be;return 0===(62914560&(be<<=1))&&(be=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=I.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Ee=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ee,Re="__reactProps$"+Ee,Fe="__reactContainer$"+Ee,Ie="__reactEvents$"+Ee,De="__reactListeners$"+Ee,Me="__reactHandles$"+Ee,Oe="__reactResources$"+Ee,Be="__reactMarker$"+Ee;function qe(e){delete e[ze],delete e[Re],delete e[Ie],delete e[De],delete e[Me]}function Ue(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=vu(e);null!==e;){if(n=e[ze])return n;e=vu(e)}return t}n=(e=n).parentNode}return null}function We(e){if(e=e[ze]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ve(e){var t=e[Oe];return t||(t=e[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Be]=!0}var Ye=new Set,Ke={};function Je(e,t){Qe(e,t),Qe(e+"Capture",t)}function Qe(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ye.add(t[e])}var Xe,$e,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),et={},tt={};function nt(e,t,n){if(a=t,X.call(tt,a)||!X.call(et,a)&&(Ze.test(a)?tt[a]=!0:(et[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function rt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function at(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(F){var t=F.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<F.stack.indexOf("\n    at")?" (<anonymous>)":-1<F.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(F){var r=F}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(a=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===l.length||a===c.length)for(r=l.length-1,a=c.length-1;1<=r&&0<=a&&l[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(l[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||l[r]!==c[a]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=a);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function lt(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function ct(e){try{var t="";do{t+=lt(e),e=e.return}while(e);return t}catch(F){return"\nError generating stack: "+F.message+"\n"+F.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function gt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function xt(e,t,n,r,a,i,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?yt(e,s,dt(t)):null!=n?yt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=i&&(e.defaultChecked=!!i),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,a,i,s,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function jt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(z(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&kt(e,a,r)}else for(var i in t)t.hasOwnProperty(i)&&kt(e,i,t[i])}function At(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zt=null,Rt=null;function Ft(e){var t=We(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(xt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Re]||null;if(!a)throw Error(s(90));xt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var It=!1;function Dt(e,t,n){if(It)return e(t,n);It=!0;try{return e(t)}finally{if(It=!1,(null!==zt||null!==Rt)&&(Uc(),zt&&(t=zt,e=Rt,Rt=zt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Re]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ot=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Ot)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Rh){Bt=!1}var Ut=null,Wt=null,Ht=null;function Vt(){if(Ht)return Ht;var e,t,n=Wt,r=n.length,a="value"in Ut?Ut.value:Ut.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===a[i-t];t++);return Ht=a.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Kt(){return!1}function Jt(e){function t(t,n,r,a,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(a):a[s]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Yt:Kt,this.isPropagationStopped=Kt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Qt,Xt,$t,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},en=Jt(Zt),tn=h({},Zt,{view:0,detail:0}),nn=Jt(tn),rn=h({},tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Qt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Qt=0,$t=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),an=Jt(rn),sn=Jt(h({},rn,{dataTransfer:0})),on=Jt(h({},tn,{relatedTarget:0})),ln=Jt(h({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Jt(h({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Jt(h({},Zt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function mn(){return fn}var gn=Jt(h({},tn,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),xn=Jt(h({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=Jt(h({},tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),yn=Jt(h({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vn=Jt(h({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Jt(h({},Zt,{newState:0,oldState:0})),jn=[9,13,27,32],Sn=Ot&&"CompositionEvent"in window,Nn=null;Ot&&"documentMode"in document&&(Nn=document.documentMode);var kn=Ot&&"TextEvent"in window&&!Nn,Cn=Ot&&(!Sn||Nn&&8<Nn&&11>=Nn),An=String.fromCharCode(32),_n=!1;function Pn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var En={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!En[e.type]:"textarea"===t}function Rn(e,t,n,r){zt?Rt?Rt.push(r):Rt=[r]:zt=r,0<(t=Vd(t,"onChange")).length&&(n=new en("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,In=null;function Dn(e){Dd(e,0)}function Mn(e){if(pt(He(e)))return e}function On(e,t){if("change"===e)return t}var Bn=!1;if(Ot){var qn;if(Ot){var Un="oninput"in document;if(!Un){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Un="function"===typeof Wn.oninput}qn=Un}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Hn(){Fn&&(Fn.detachEvent("onpropertychange",Vn),In=Fn=null)}function Vn(e){if("value"===e.propertyName&&Mn(In)){var t=[];Rn(t,In,e,Et(e)),Dt(Dn,t)}}function Gn(e,t,n){"focusin"===e?(Hn(),In=n,(Fn=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Hn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mn(In)}function Kn(e,t){if("click"===e)return Mn(t)}function Jn(e,t){if("input"===e||"change"===e)return Mn(t)}var Qn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Qn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Qn(e[a],t[a]))return!1}return!0}function $n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=$n(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$n(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rr=Ot&&"documentMode"in document&&11>=document.documentMode,ar=null,ir=null,sr=null,or=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==ar||ar!==ft(r)||("selectionStart"in(r=ar)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Xn(sr,r)||(sr=r,0<(r=Vd(ir,"onSelect")).length&&(t=new en("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},ur={},hr={};function pr(e){if(ur[e])return ur[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}Ot&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var fr=pr("animationend"),mr=pr("animationiteration"),gr=pr("animationstart"),xr=pr("transitionrun"),br=pr("transitionstart"),yr=pr("transitioncancel"),vr=pr("transitionend"),wr=new Map,jr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){wr.set(e,t),Je(t,[e])}jr.push("scrollEnd");var Nr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Nr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ct(t)},Nr.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var Cr=[],Ar=0,_r=0;function Pr(){for(var e=Ar,t=_r=Ar=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var a=Cr[t];Cr[t++]=null;var i=Cr[t];if(Cr[t++]=null,null!==r&&null!==a){var s=r.pending;null===s?a.next=a:(a.next=s.next,s.next=a),r.pending=a}0!==i&&zr(n,a,i)}}function Lr(e,t,n,r){Cr[Ar++]=e,Cr[Ar++]=t,Cr[Ar++]=n,Cr[Ar++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Tr(e,t,n,r){return Lr(e,t,n,r),Rr(e)}function Er(e,t){return Lr(e,null,null,t),Rr(e)}function zr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(a=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,a&&null!==t&&(a=31-fe(n),null===(r=(e=i.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<zc)throw zc=0,Rc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fr={};function Ir(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(e,t,n,r){return new Ir(e,t,n,r)}function Mr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Or(e,t){var n=e.alternate;return null===n?((n=Dr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,a,i){var o=0;if(r=e,"function"===typeof e)Mr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,W.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Dr(31,n,t,a)).elementType=A,e.lanes=i,e;case g:return Ur(n.children,a,i,t);case x:o=8,a|=24;break;case b:return(e=Dr(12,n,t,2|a)).elementType=b,e.lanes=i,e;case S:return(e=Dr(13,n,t,a)).elementType=S,e.lanes=i,e;case N:return(e=Dr(19,n,t,a)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case w:o=10;break e;case v:o=9;break e;case j:o=11;break e;case k:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=Dr(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ur(e,t,n,r){return(e=Dr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=Dr(6,e,null,t)).lanes=n,e}function Hr(e,t,n){return(t=Dr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=[],Gr=0,Yr=null,Kr=0,Jr=[],Qr=0,Xr=null,$r=1,Zr="";function ea(e,t){Vr[Gr++]=Kr,Vr[Gr++]=Yr,Yr=e,Kr=t}function ta(e,t,n){Jr[Qr++]=$r,Jr[Qr++]=Zr,Jr[Qr++]=Xr,Xr=e;var r=$r;e=Zr;var a=32-fe(r)-1;r&=~(1<<a),n+=1;var i=32-fe(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,$r=1<<32-fe(t)+a|n<<a|r,Zr=i+e}else $r=1<<i|n<<a|r,Zr=e}function na(e){null!==e.return&&(ea(e,1),ta(e,1,0))}function ra(e){for(;e===Yr;)Yr=Vr[--Gr],Vr[Gr]=null,Kr=Vr[--Gr],Vr[Gr]=null;for(;e===Xr;)Xr=Jr[--Qr],Jr[Qr]=null,Zr=Jr[--Qr],Jr[Qr]=null,$r=Jr[--Qr],Jr[Qr]=null}var aa=null,ia=null,sa=!1,oa=null,la=!1,ca=Error(s(519));function da(e){throw ga(kr(Error(s(418,"")),e)),ca}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Re]=r,n){case"dialog":Md("cancel",t),Md("close",t);break;case"iframe":case"object":case"embed":Md("load",t);break;case"video":case"audio":for(n=0;n<Fd.length;n++)Md(Fd[n],t);break;case"source":Md("error",t);break;case"img":case"image":case"link":Md("error",t),Md("load",t);break;case"details":Md("toggle",t);break;case"input":Md("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Md("invalid",t);break;case"textarea":Md("invalid",t),jt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xd(t.textContent,n)?(null!=r.popover&&(Md("beforetoggle",t),Md("toggle",t)),null!=r.onScroll&&Md("scroll",t),null!=r.onScrollEnd&&Md("scrollend",t),null!=r.onClick&&(t.onclick=$d),t=!0):t=!1,t||da(e)}function ha(e){for(aa=e.return;aa;)switch(aa.tag){case 5:case 13:return void(la=!1);case 27:case 3:return void(la=!0);default:aa=aa.return}}function pa(e){if(e!==aa)return!1;if(!sa)return ha(e),sa=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ou(e.type,e.memoizedProps)),t=!t),t&&ia&&da(e),ha(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ia=bu(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ia=null}}else 27===n?(n=ia,fu(e.type)?(e=yu,yu=null,ia=e):ia=n):ia=aa?bu(e.stateNode.nextSibling):null;return!0}function fa(){ia=aa=null,sa=!1}function ma(){var e=oa;return null!==e&&(null===vc?vc=e:vc.push.apply(vc,e),oa=null),e}function ga(e){null===oa?oa=[e]:oa.push(e)}var xa=B(null),ba=null,ya=null;function va(e,t,n){U(xa,t._currentValue),t._currentValue=n}function wa(e){e._currentValue=xa.current,q(xa)}function ja(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),ja(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),ja(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Na(e,t,n,r){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(0!==(524288&a.flags))i=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=a.type;Qn(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===G.current){if(null===(o=a.alternate))throw Error(s(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(Ju):e=[Ju])}a=a.return}null!==e&&Sa(t,e,n,r),t.flags|=262144}function ka(e){for(e=e.firstContext;null!==e;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){ba=e,ya=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Aa(e){return Pa(ba,e)}function _a(e,t){return null===ba&&Ca(e),Pa(e,t)}function Pa(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===ya){if(null===e)throw Error(s(308));ya=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ya=ya.next=t;return n}var La="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ta=r.unstable_scheduleCallback,Ea=r.unstable_NormalPriority,za={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ra(){return{controller:new La,data:new Map,refCount:0}}function Fa(e){e.refCount--,0===e.refCount&&Ta(Ea,function(){e.controller.abort()})}var Ia=null,Da=0,Ma=0,Oa=null;function Ba(){if(0===--Da&&null!==Ia){null!==Oa&&(Oa.status="fulfilled");var e=Ia;Ia=null,Ma=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qa=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ia){var n=Ia=[];Da=0,Ma=Ld(),Oa={status:"pending",value:void 0,then:function(e){n.push(e)}}}Da++,t.then(Ba,Ba)}(0,t),null!==qa&&qa(e,t)};var Ua=B(null);function Wa(){var e=Ua.current;return null!==e?e:ac.pooledCache}function Ha(e,t){U(Ua,null===t?Ua.current:t.pool)}function Va(){var e=Wa();return null===e?null:{parent:za._currentValue,pool:e}}var Ga=Error(s(460)),Ya=Error(s(474)),Ka=Error(s(542)),Ja={then:function(){}};function Qa(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function $a(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=ac)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ti(e=t.reason),e}throw Za=t,Ga}}var Za=null;function ei(){if(null===Za)throw Error(s(459));var e=Za;return Za=null,e}function ti(e){if(e===Ga||e===Ka)throw Error(s(483))}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function si(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Rr(e),zr(e,null,n),t}return Lr(e,r,t,n),Rr(e)}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?a=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ci=!1;function di(){if(ci){if(null!==Oa)throw Oa}}function ui(e,t,n,r){ci=!1;var a=e.updateQueue;ni=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=a.baseState;for(s=0,d=c=l=null,o=i;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(sc&p)===p:(r&p)===p){0!==p&&p===Ma&&(ci=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;p=t;var x=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(x,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(x,u,p):m)||void 0===p)break e;u=h({},u,p);break e;case 2:ni=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=a.callbacks)?a.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,s|=p;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(f=o).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}null===d&&(l=u),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null===i&&(a.shared.lanes=0),fc|=s,e.lanes=s,e.memoizedState=u}}function hi(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function pi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hi(n[e],t)}var fi=B(null),mi=B(0);function gi(e,t){U(mi,e=hc),U(fi,t),hc=e|t.baseLanes}function xi(){U(mi,hc),U(fi,fi.current)}function bi(){hc=mi.current,q(fi),q(mi)}var yi=0,vi=null,wi=null,ji=null,Si=!1,Ni=!1,ki=!1,Ci=0,Ai=0,_i=null,Pi=0;function Li(){throw Error(s(321))}function Ti(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qn(e[n],t[n]))return!1;return!0}function Ei(e,t,n,r,a,i){return yi=i,vi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Gs:Ys,ki=!1,i=n(r,a),ki=!1,Ni&&(i=Ri(t,n,r,a)),zi(e),i}function zi(e){R.H=Vs;var t=null!==wi&&null!==wi.next;if(yi=0,ji=wi=vi=null,Si=!1,Ai=0,_i=null,t)throw Error(s(300));null===e||_o||null!==(e=e.dependencies)&&ka(e)&&(_o=!0)}function Ri(e,t,n,r){vi=e;var a=0;do{if(Ni&&(_i=null),Ai=0,Ni=!1,25<=a)throw Error(s(301));if(a+=1,ji=wi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}R.H=Ks,i=t(n,r)}while(Ni);return i}function Fi(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?qi(t):t,e=e.useState()[0],(null!==wi?wi.memoizedState:null)!==e&&(vi.flags|=1024),t}function Ii(){var e=0!==Ci;return Ci=0,e}function Di(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Mi(e){if(Si){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Si=!1}yi=0,ji=wi=vi=null,Ni=!1,Ai=Ci=0,_i=null}function Oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ji?vi.memoizedState=ji=e:ji=ji.next=e,ji}function Bi(){if(null===wi){var e=vi.alternate;e=null!==e?e.memoizedState:null}else e=wi.next;var t=null===ji?vi.memoizedState:ji.next;if(null!==t)ji=t,wi=e;else{if(null===e){if(null===vi.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(wi=e).memoizedState,baseState:wi.baseState,baseQueue:wi.baseQueue,queue:wi.queue,next:null},null===ji?vi.memoizedState=ji=e:ji=ji.next=e}return ji}function qi(e){var t=Ai;return Ai+=1,null===_i&&(_i=[]),e=$a(_i,e,t),t=vi,null===(null===ji?t.memoizedState:ji.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Gs:Ys),e}function Ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return qi(e);if(e.$$typeof===w)return Aa(e)}throw Error(s(438,String(e)))}function Wi(e){var t=null,n=vi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=vi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},vi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function Hi(e,t){return"function"===typeof t?t(e):t}function Vi(e){return Gi(Bi(),wi,e)}function Gi(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var a=e.baseQueue,i=r.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,r.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var h=-536870913&d.lane;if(h!==d.lane?(sc&h)===h:(yi&h)===h){var p=d.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),h===Ma&&(u=!0);else{if((yi&p)===p){d=d.next,p===Ma&&(u=!0);continue}h={lane:0,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,vi.lanes|=p,fc|=p}h=d.action,ki&&n(i,h),i=d.hasEagerState?d.eagerState:n(i,h)}else p={lane:h,revertLane:d.revertLane,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,vi.lanes|=h,fc|=h;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!Qn(i,e.memoizedState)&&(_o=!0,u&&null!==(n=Oa)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Yi(e){var t=Bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Qn(i,t.memoizedState)||(_o=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ki(e,t,n){var r=vi,a=Bi(),i=sa;if(i){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Qn((wi||a).memoizedState,n);if(o&&(a.memoizedState=n,_o=!0),a=a.queue,xs(2048,8,Xi.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==ji&&1&ji.memoizedState.tag){if(r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qi.bind(null,r,a,n,t),null),null===ac)throw Error(s(349));i||0!==(124&yi)||Ji(r,t,n)}return n}function Ji(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},vi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Qi(e,t,n,r){t.value=n,t.getSnapshot=r,$i(t)&&Zi(e)}function Xi(e,t,n){return n(function(){$i(t)&&Zi(e)})}function $i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qn(e,n)}catch(r){return!0}}function Zi(e){var t=Er(e,2);null!==t&&Dc(t,e,2)}function es(e){var t=Oi();if("function"===typeof e){var n=e;if(e=n(),ki){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},t}function ts(e,t,n,r){return e.baseState=n,Gi(e,wi,"function"===typeof r?r:Hi)}function ns(e,t,n,r,a){if(Us(e))throw Error(s(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==R.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,rs(t,i)):(i.next=n.next,t.pending=n.next=i)}}function rs(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var i=R.T,s={};R.T=s;try{var o=n(a,r),l=R.S;null!==l&&l(s,o),as(e,t,o)}catch(c){ss(e,t,c)}finally{R.T=i}}else try{as(e,t,i=n(a,r))}catch(d){ss(e,t,d)}}function as(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){is(e,t,n)},function(n){return ss(e,t,n)}):is(e,t,n)}function is(e,t,n){t.status="fulfilled",t.value=n,os(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,rs(e,n)))}function ss(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,os(t),t=t.next}while(t!==r)}e.action=null}function os(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(sa){var n=ac.formState;if(null!==n){e:{var r=vi;if(sa){if(ia){t:{for(var a=ia,i=la;8!==a.nodeType;){if(!i){a=null;break t}if(null===(a=bu(a.nextSibling))){a=null;break t}}a="F!"===(i=a.data)||"F"===i?a:null}if(a){ia=bu(a.nextSibling),r="F!"===a.data;break e}}da(r)}r=!1}r&&(t=n[0])}}return(n=Oi()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=r,n=Os.bind(null,vi,r),r.dispatch=n,r=es(!1),i=qs.bind(null,vi,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Oi()).queue=a,n=ns.bind(null,vi,a,i,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function ds(e){return us(Bi(),wi,e)}function us(e,t,n){if(t=Gi(e,t,ls)[0],e=Vi(Hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=qi(t)}catch(F){if(F===Ga)throw Ka;throw F}else r=t;var a=(t=Bi()).queue,i=a.dispatch;return n!==t.memoizedState&&(vi.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,a,n),null)),[r,i,e]}function hs(e,t){e.action=t}function ps(e){var t=Bi(),n=wi;if(null!==n)return us(t,n,e);Bi(),t=t.memoizedState;var r=(n=Bi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fs(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=vi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},vi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ms(){return Bi().memoizedState}function gs(e,t,n,r){var a=Oi();r=void 0===r?null:r,vi.flags|=e,a.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,r)}function xs(e,t,n,r){var a=Bi();r=void 0===r?null:r;var i=a.memoizedState.inst;null!==wi&&null!==r&&Ti(r,wi.memoizedState.deps)?a.memoizedState=fs(t,i,n,r):(vi.flags|=e,a.memoizedState=fs(1|t,i,n,r))}function bs(e,t){gs(8390656,8,e,t)}function ys(e,t){xs(2048,8,e,t)}function vs(e,t){return xs(4,2,e,t)}function ws(e,t){return xs(4,4,e,t)}function js(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,xs(4,4,js.bind(null,t,e),n)}function Ns(){}function ks(e,t){var n=Bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ti(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=Bi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ti(t,r[1]))return r[0];if(r=e(),ki){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function As(e,t,n){return void 0===n||0!==(1073741824&yi)?e.memoizedState=t:(e.memoizedState=n,e=Ic(),vi.lanes|=e,fc|=e,n)}function _s(e,t,n,r){return Qn(n,t)?n:null!==fi.current?(e=As(e,n,r),Qn(e,t)||(_o=!0),e):0===(42&yi)?(_o=!0,e.memoizedState=n):(e=Ic(),vi.lanes|=e,fc|=e,t)}function Ps(e,t,n,r,a){var i=I.p;I.p=0!==i&&8>i?i:8;var s=R.T,o={};R.T=o,qs(e,!1,t,n);try{var l=a(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);Bs(e,t,d,Fc())}else Bs(e,t,r,Fc())}catch(u){Bs(e,t,{then:function(){},status:"rejected",reason:u},Fc())}finally{I.p=i,R.T=s}}function Ls(){}function Ts(e,t,n,r){if(5!==e.tag)throw Error(s(476));var a=Es(e).queue;Ps(e,a,t,D,null===n?Ls:function(){return zs(e),n(r)})}function Es(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function zs(e){Bs(e,Es(e).next.queue,{},Fc())}function Rs(){return Aa(Ju)}function Fs(){return Bi().memoizedState}function Is(){return Bi().memoizedState}function Ds(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Fc(),r=si(t,e=ii(n),n);return null!==r&&(Dc(r,t,n),oi(r,t,n)),t={cache:Ra()},void(e.payload=t)}t=t.return}}function Ms(e,t,n){var r=Fc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Ws(t,n):null!==(n=Tr(e,t,n,r))&&(Dc(n,e,r),Hs(n,t,r))}function Os(e,t,n){Bs(e,t,n,Fc())}function Bs(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Ws(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,Qn(o,s))return Lr(e,t,a,0),null===ac&&Pr(),!1}catch(l){}if(null!==(n=Tr(e,t,a,r)))return Dc(n,e,r),Hs(n,t,r),!0}return!1}function qs(e,t,n,r){if(r={lane:2,revertLane:Ld(),action:r,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else null!==(t=Tr(e,n,r,2))&&Dc(t,e,2)}function Us(e){var t=e.alternate;return e===vi||null!==t&&t===vi}function Ws(e,t){Ni=Si=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var Vs={readContext:Aa,use:Ui,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useLayoutEffect:Li,useInsertionEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useSyncExternalStore:Li,useId:Li,useHostTransitionStatus:Li,useFormState:Li,useActionState:Li,useOptimistic:Li,useMemoCache:Li,useCacheRefresh:Li},Gs={readContext:Aa,use:Ui,useCallback:function(e,t){return Oi().memoizedState=[e,void 0===t?null:t],e},useContext:Aa,useEffect:bs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4194308,4,js.bind(null,t,e),n)},useLayoutEffect:function(e,t){return gs(4194308,4,e,t)},useInsertionEffect:function(e,t){gs(4,2,e,t)},useMemo:function(e,t){var n=Oi();t=void 0===t?null:t;var r=e();if(ki){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Oi();if(void 0!==n){var a=n(t);if(ki){pe(!0);try{n(t)}finally{pe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ms.bind(null,vi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Oi().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Os.bind(null,vi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ns,useDeferredValue:function(e,t){return As(Oi(),e,t)},useTransition:function(){var e=es(!1);return e=Ps.bind(null,vi,e.queue,!0,!1),Oi().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=vi,a=Oi();if(sa){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ac)throw Error(s(349));0!==(124&sc)||Ji(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,bs(Xi.bind(null,r,i,e),[e]),r.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Qi.bind(null,r,i,n,t),null),n},useId:function(){var e=Oi(),t=ac.identifierPrefix;if(sa){var n=Zr;t="\xab"+t+"R"+(n=($r&~(1<<32-fe($r)-1)).toString(32)+n),0<(n=Ci++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Pi++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Oi();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qs.bind(null,vi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wi,useCacheRefresh:function(){return Oi().memoizedState=Ds.bind(null,vi)}},Ys={readContext:Aa,use:Ui,useCallback:ks,useContext:Aa,useEffect:ys,useImperativeHandle:Ss,useInsertionEffect:vs,useLayoutEffect:ws,useMemo:Cs,useReducer:Vi,useRef:ms,useState:function(){return Vi(Hi)},useDebugValue:Ns,useDeferredValue:function(e,t){return _s(Bi(),wi.memoizedState,e,t)},useTransition:function(){var e=Vi(Hi)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:qi(e),t]},useSyncExternalStore:Ki,useId:Fs,useHostTransitionStatus:Rs,useFormState:ds,useActionState:ds,useOptimistic:function(e,t){return ts(Bi(),0,e,t)},useMemoCache:Wi,useCacheRefresh:Is},Ks={readContext:Aa,use:Ui,useCallback:ks,useContext:Aa,useEffect:ys,useImperativeHandle:Ss,useInsertionEffect:vs,useLayoutEffect:ws,useMemo:Cs,useReducer:Yi,useRef:ms,useState:function(){return Yi(Hi)},useDebugValue:Ns,useDeferredValue:function(e,t){var n=Bi();return null===wi?As(n,e,t):_s(n,wi.memoizedState,e,t)},useTransition:function(){var e=Yi(Hi)[0],t=Bi().memoizedState;return["boolean"===typeof e?e:qi(e),t]},useSyncExternalStore:Ki,useId:Fs,useHostTransitionStatus:Rs,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Bi();return null!==wi?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wi,useCacheRefresh:Is},Js=null,Qs=0;function Xs(e){var t=Qs;return Qs+=1,null===Js&&(Js=[]),$a(Js,e,t)}function $s(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zs(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function eo(e){return(0,e._init)(e._payload)}function to(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Or(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===g?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&eo(i)===t.type)?($s(t=a(t,n.props),n),t.return=e,t):($s(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Ur(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return $s(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Hr(t,e.mode,n)).return=e,t;case C:return h(e,t=(0,t._init)(t._payload),n)}if(z(t)||L(t))return(t=Ur(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Xs(t),n);if(t.$$typeof===w)return h(e,_a(e,t),n);Zs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?d(e,t,n,r):null;case C:return p(e,t,n=(a=n._init)(n._payload),r)}if(z(n)||L(n))return null!==a?null:u(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Xs(n),r);if(n.$$typeof===w)return p(e,t,_a(e,n),r);Zs(e,n)}return null}function x(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return x(e,t,n,r=(0,r._init)(r._payload),a)}if(z(r)||L(r))return u(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return x(e,t,n,Xs(r),a);if(r.$$typeof===w)return x(e,t,n,_a(t,r),a);Zs(t,r)}return null}function b(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===g&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case f:e:{for(var y=d.key;null!==c;){if(c.key===y){if((y=d.type)===g){if(7===c.tag){n(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===C&&eo(y)===c.type){n(l,c.sibling),$s(u=a(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===g?((u=Ur(d.props.children,l.mode,u,d.key)).return=l,l=u):($s(u=qr(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case m:e:{for(y=d.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=Hr(d,l.mode,u)).return=l,l=u}return o(l);case C:return b(l,c,d=(y=d._init)(d._payload),u)}if(z(d))return function(a,s,o,l){for(var c=null,d=null,u=s,f=s=0,m=null;null!==u&&f<o.length;f++){u.index>f?(m=u,u=null):m=u.sibling;var g=p(a,u,o[f],l);if(null===g){null===u&&(u=m);break}e&&u&&null===g.alternate&&t(a,u),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g,u=m}if(f===o.length)return n(a,u),sa&&ea(a,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(a,o[f],l))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return sa&&ea(a,f),c}for(u=r(u);f<o.length;f++)null!==(m=x(u,a,f,o[f],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?f:m.key),s=i(m,s,f),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(a,e)}),sa&&ea(a,f),c}(l,c,d,u);if(L(d)){if("function"!==typeof(y=L(d)))throw Error(s(150));return function(a,o,l,c){if(null==l)throw Error(s(151));for(var d=null,u=null,f=o,m=o=0,g=null,b=l.next();null!==f&&!b.done;m++,b=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var y=p(a,f,b.value,c);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(a,f),o=i(y,o,m),null===u?d=y:u.sibling=y,u=y,f=g}if(b.done)return n(a,f),sa&&ea(a,m),d;if(null===f){for(;!b.done;m++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,m),null===u?d=b:u.sibling=b,u=b);return sa&&ea(a,m),d}for(f=r(f);!b.done;m++,b=l.next())null!==(b=x(f,a,m,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?m:b.key),o=i(b,o,m),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(a,e)}),sa&&ea(a,m),d}(l,c,d=y.call(d),u)}if("function"===typeof d.then)return b(l,c,Xs(d),u);if(d.$$typeof===w)return b(l,c,_a(l,d),u);Zs(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=a(c,d)).return=l,l=u):(n(l,c),(u=Wr(d,l.mode,u)).return=l,l=u),o(l)):n(l,c)}return function(e,t,n,r){try{Qs=0;var a=b(e,t,n,r);return Js=null,a}catch(F){if(F===Ga||F===Ka)throw F;var i=Dr(29,F,null,e.mode);return i.lanes=r,i.return=e,i}}}var no=to(!0),ro=to(!1),ao=B(null),io=null;function so(e){var t=e.alternate;U(uo,1&uo.current),U(ao,e),null===io&&(null===t||null!==fi.current||null!==t.memoizedState)&&(io=e)}function oo(e){if(22===e.tag){if(U(uo,uo.current),U(ao,e),null===io){var t=e.alternate;null!==t&&null!==t.memoizedState&&(io=e)}}else lo()}function lo(){U(uo,uo.current),U(ao,ao.current)}function co(e){q(ao),io===e&&(io=null),q(uo)}var uo=B(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||xu(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fc(),a=ii(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=si(e,a,r))&&(Dc(t,e,r),oi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fc(),a=ii(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=si(e,a,r))&&(Dc(t,e,r),oi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fc(),r=ii(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=si(e,r,n))&&(Dc(t,e,n),oi(t,e,n))}};function mo(e,t,n,r,a,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,i))}function go(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fo.enqueueReplaceState(t,t.state,null)}function xo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=h({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var bo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function yo(e){bo(e)}function vo(e){console.error(e)}function wo(e){bo(e)}function jo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function So(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function No(e,t,n){return(n=ii(n)).tag=3,n.payload={element:null},n.callback=function(){jo(e,t)},n}function ko(e){return(e=ii(e)).tag=3,e}function Co(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var i=r.value;e.payload=function(){return a(i)},e.callback=function(){So(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){So(t,n,r),"function"!==typeof a&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ao=Error(s(461)),_o=!1;function Po(e,t,n,r){t.child=null===e?ro(t,null,n,r):no(t,e.child,n,r)}function Lo(e,t,n,r,a){n=n.render;var i=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return Ca(t),r=Ei(e,t,n,s,i,a),o=Ii(),null===e||_o?(sa&&o&&na(t),t.flags|=1,Po(e,t,r,a),t.child):(Di(e,t,a),Qo(e,t,a))}function To(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Mr(i)||void 0!==i.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Eo(e,t,i,r,a))}if(i=e.child,!Xo(e,a)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(s,r)&&e.ref===t.ref)return Qo(e,t,a)}return t.flags|=1,(e=Or(i,r)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(Xn(i,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=i,!Xo(e,a))return t.lanes=e.lanes,Qo(e,t,a);0!==(131072&e.flags)&&(_o=!0)}}return Io(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==i?i.baseLanes|n:n,null!==e){for(a=t.child=e.child,i=0;null!==a;)i=i|a.lanes|a.childLanes,a=a.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ha(0,null!==i?i.cachePool:null),null!==i?gi(t,i):xi(),oo(t)}else null!==i?(Ha(0,i.cachePool),gi(t,i),lo(),t.memoizedState=null):(null!==e&&Ha(0,null),xi(),lo());return Po(e,t,a,n),t.child}function Ro(e,t,n,r){var a=Wa();return a=null===a?null:{parent:za._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ha(0,null),xi(),oo(t),null!==e&&Na(e,t,r,!0),null}function Fo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Io(e,t,n,r,a){return Ca(t),n=Ei(e,t,n,r,void 0,a),r=Ii(),null===e||_o?(sa&&r&&na(t),t.flags|=1,Po(e,t,n,a),t.child):(Di(e,t,a),Qo(e,t,a))}function Do(e,t,n,r,a,i){return Ca(t),t.updateQueue=null,n=Ri(t,r,n,a),zi(e),r=Ii(),null===e||_o?(sa&&r&&na(t),t.flags|=1,Po(e,t,n,i),t.child):(Di(e,t,i),Qo(e,t,i))}function Mo(e,t,n,r,a){if(Ca(t),null===t.stateNode){var i=Fr,s=n.contextType;"object"===typeof s&&null!==s&&(i=Aa(s)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=fo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},ri(t),s=n.contextType,i.context="object"===typeof s&&null!==s?Aa(s):Fr,i.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(po(t,n,s,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(s=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),s!==i.state&&fo.enqueueReplaceState(i,i.state,null),ui(t,r,i,a),di(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=xo(n,o);i.props=l;var c=i.context,d=n.contextType;s=Fr,"object"===typeof d&&null!==d&&(s=Aa(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==s)&&go(t,i,r,s),ni=!1;var h=t.memoizedState;i.state=h,ui(t,r,i,a),di(),c=t.memoizedState,o||h!==c||ni?("function"===typeof u&&(po(t,n,u,r),c=t.memoizedState),(l=ni||mo(t,n,l,r,h,c,s))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=s,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ai(e,t),d=xo(n,s=t.memoizedProps),i.props=d,u=t.pendingProps,h=i.context,c=n.contextType,l=Fr,"object"===typeof c&&null!==c&&(l=Aa(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==u||h!==l)&&go(t,i,r,l),ni=!1,h=t.memoizedState,i.state=h,ui(t,r,i,a),di();var p=t.memoizedState;s!==u||h!==p||ni||null!==e&&null!==e.dependencies&&ka(e.dependencies)?("function"===typeof o&&(po(t,n,o,r),p=t.memoizedState),(d=ni||mo(t,n,d,r,h,p,l)||null!==e&&null!==e.dependencies&&ka(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=d):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Fo(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=no(t,e.child,null,a),t.child=no(t,null,n,a)):Po(e,t,n,a),t.memoizedState=i.state,e=t.child):e=Qo(e,t,a),e}function Oo(e,t,n,r){return fa(),t.flags|=256,Po(e,t,n,r),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qo(e){return{baseLanes:e,cachePool:Va()}}function Uo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=xc),e}function Wo(e,t,n){var r,a=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&uo.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(sa){if(i?so(t):lo(),sa){var l,c=ia;if(l=c){e:{for(l=c,c=la;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=bu(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:$r,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Dr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,aa=t,ia=null,l=!0):l=!1}l||da(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return xu(c)?t.lanes=32:t.lanes=536870912,null;co(t)}return c=a.children,a=a.fallback,i?(lo(),c=Vo({mode:"hidden",children:c},i=t.mode),a=Ur(a,i,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(i=t.child).memoizedState=qo(n),i.childLanes=Uo(e,r,n),t.memoizedState=Bo,a):(so(t),Ho(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(so(t),t.flags&=-257,t=Go(e,t,n)):null!==t.memoizedState?(lo(),t.child=e.child,t.flags|=128,t=null):(lo(),i=a.fallback,c=t.mode,a=Vo({mode:"visible",children:a.children},c),(i=Ur(i,c,n,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,no(t,e.child,null,n),(a=t.child).memoizedState=qo(n),a.childLanes=Uo(e,r,n),t.memoizedState=Bo,t=i);else if(so(t),xu(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var d=r.dgst;r=d,(a=Error(s(419))).stack="",a.digest=r,ga({value:a,source:null,stack:null}),t=Go(e,t,n)}else if(_o||Na(e,t,n,!1),r=0!==(n&e.childLanes),_o||r){if(null!==(r=ac)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:Pe(a))&(r.suspendedLanes|n))?0:a)&&a!==l.retryLane))throw l.retryLane=a,Er(e,a),Dc(r,e,a),Ao;"$?"===c.data||Kc(),t=Go(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ia=bu(c.nextSibling),aa=t,sa=!0,oa=null,la=!1,null!==e&&(Jr[Qr++]=$r,Jr[Qr++]=Zr,Jr[Qr++]=Xr,$r=e.id,Zr=e.overflow,Xr=t),(t=Ho(t,a.children)).flags|=4096);return t}return i?(lo(),i=a.fallback,c=t.mode,d=(l=e.child).sibling,(a=Or(l,{mode:"hidden",children:a.children})).subtreeFlags=65011712&l.subtreeFlags,null!==d?i=Or(d,i):(i=Ur(i,c,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,null===(c=e.child.memoizedState)?c=qo(n):(null!==(l=c.cachePool)?(d=za._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=Va(),c={baseLanes:c.baseLanes|n,cachePool:l}),i.memoizedState=c,i.childLanes=Uo(e,r,n),t.memoizedState=Bo,a):(so(t),e=(n=e.child).sibling,(n=Or(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ho(e,t){return(t=Vo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Vo(e,t){return(e=Dr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Go(e,t,n){return no(t,e.child,null,n),(e=Ho(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ja(e.return,t,n)}function Ko(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Jo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Po(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Yo(e,n,t);else if(19===e.tag)Yo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(uo,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ho(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ko(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ho(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ko(t,!0,n,null,i);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Na(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Or(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Or(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ka(e))}function $o(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_o=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),va(0,za,e.memoizedState.cache),fa();break;case 27:case 5:J(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:va(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(so(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Wo(e,t,n):(so(t),null!==(e=Qo(e,t,n))?e.sibling:null);so(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Na(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return Jo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),U(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,zo(e,t,n);case 24:va(0,za,e.memoizedState.cache)}return Qo(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,sa&&0!==(1048576&t.flags)&&ta(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===j){t.tag=11,t=Lo(null,t,r,e,n);break e}if(a===k){t.tag=14,t=To(null,t,r,e,n);break e}}throw t=E(r)||r,Error(s(306,t,""))}Mr(r)?(e=xo(r,e),t.tag=1,t=Mo(null,t,r,e,n)):(t.tag=0,t=Io(null,t,r,e,n))}return t;case 0:return Io(e,t,t.type,t.pendingProps,n);case 1:return Mo(e,t,r=t.type,a=xo(r,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var i=t.memoizedState;a=i.element,ai(e,t),ui(t,r,null,n);var o=t.memoizedState;if(r=o.cache,va(0,za,r),r!==i.cache&&Sa(t,[za],n,!0),di(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Oo(e,t,r,n);break e}if(r!==a){ga(a=kr(Error(s(424)),t)),t=Oo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ia=bu(e.firstChild),aa=t,sa=!0,oa=null,la=!0,n=ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===a){t=Qo(e,t,n);break e}Po(e,t,r,n)}t=t.child}return t;case 26:return Fo(e,t),null===e?(n=Pu(t.type,null,t.pendingProps,null))?t.memoizedState=n:sa||(n=t.type,e=t.pendingProps,(r=au(V.current).createElement(n))[ze]=t,r[Re]=e,tu(r,n,e),Ge(r),t.stateNode=r):t.memoizedState=Pu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&sa&&(r=t.stateNode=wu(t.type,t.pendingProps,V.current),aa=t,la=!0,a=ia,fu(t.type)?(yu=a,ia=bu(r.firstChild)):ia=a),Po(e,t,t.pendingProps.children,n),Fo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&sa&&((a=r=ia)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===i)return e}if(null===(e=bu(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,la))?(t.stateNode=r,aa=t,ia=bu(r.firstChild),la=!1,a=!0):a=!1),a||da(t)),J(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,ou(a,i)?r=null:null!==o&&ou(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Ei(e,t,Fi,null,null,n),Ju._currentValue=a),Fo(e,t),Po(e,t,r,n),t.child;case 6:return null===e&&sa&&((e=n=ia)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bu(e.nextSibling)))return null}return e}(n,t.pendingProps,la))?(t.stateNode=n,aa=t,ia=null,e=!0):e=!1),e||da(t)),null;case 13:return Wo(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=no(t,null,r,n):Po(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,va(0,t.type,r.value),Po(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Ca(t),r=r(a=Aa(a)),t.flags|=1,Po(e,t,r,n),t.child;case 14:return To(e,t,t.type,t.pendingProps,n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 19:return Jo(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Vo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Or(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return zo(e,t,n);case 24:return Ca(t),r=Aa(za),null===e?(null===(a=Wa())&&(a=ac,i=Ra(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=n),a=i),t.memoizedState={parent:r,cache:a},ri(t),va(0,za,a)):(0!==(e.lanes&n)&&(ai(e,t),ui(t,null,null,n),di()),a=e.memoizedState,i=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),va(0,za,r)):(r=i.cache,va(0,za,r),r!==a.cache&&Sa(t,[za],n,!0))),Po(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Zo(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Uu(t)){if(null!==(t=ao.current)&&((4194048&sc)===sc?null!==io:(62914560&sc)!==sc&&0===(536870912&sc)||t!==io))throw Za=Ja,Ya;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,bc|=t)}function nl(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function al(e,t,n){var r=t.pendingProps;switch(ra(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wa(za),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pa(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ma())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),rl(t),t.flags&=-16777217),null;case 27:Q(t),n=V.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}e=W.current,pa(t)?ua(t):(e=wu(a,r,n),t.stateNode=e,Zo(t))}return rl(t),null;case 5:if(Q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return rl(t),null}if(e=W.current,pa(t))ua(t);else{switch(a=au(V.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[ze]=t,e[Re]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(tu(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=V.current,pa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=aa))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xd(e.nodeValue,n)))||da(t)}else(e=au(e).createTextNode(r))[ze]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=pa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[ze]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),a=!1}else a=ma(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(co(t),t):(co(t),null)}if(co(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var i=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return K(),null===e&&qd(t.stateNode.containerInfo),rl(t),null;case 10:return wa(t.type),rl(t),null;case 19:if(q(uo),null===(a=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(i=a.rendering))if(r)nl(a,!1);else{if(0!==pc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=ho(e))){for(t.flags|=128,nl(a,!1),e=i.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return U(uo,1&uo.current|2),t.child}e=e.sibling}null!==a.tail&&ne()>Sc&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ho(i))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate&&!sa)return rl(t),null}else 2*ne()-a.renderingStartTime>Sc&&536870912!==n&&(t.flags|=128,r=!0,nl(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=a.last)?e.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,e=uo.current,U(uo,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return co(t),bi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Ua),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(za),rl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function il(e,t){switch(ra(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wa(za),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 13:if(co(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(uo),null;case 4:return K(),null;case 10:return wa(t.type),null;case 22:case 23:return co(t),bi(),null!==e&&q(Ua),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wa(za),null;default:return null}}function sl(e,t){switch(ra(t),t.tag){case 3:wa(za),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 13:co(t);break;case 19:q(uo);break;case 10:wa(t.type);break;case 22:case 23:co(t),bi(),null!==e&&q(Ua);break;case 24:wa(za)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){ud(t,t.return,o)}}function ll(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var i=a.next;r=i;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,a=t;var l=n,c=o;try{c()}catch(d){ud(a,l,d)}}}r=r.next}while(r!==i)}}catch(d){ud(t,t.return,d)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{pi(t,n)}catch(r){ud(e,e.return,r)}}}function dl(e,t,n){n.props=xo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){ud(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){ud(e,t,a)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){ud(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){ud(e,t,i)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){ud(e,e.return,a)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,d=null,u=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||Zd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":a=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Zd(e,t,p,f,r,h)}}return void xt(e,o,l,c,d,u,i,a);case"select":for(i in f=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||Zd(e,t,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&Zd(e,t,a,i,r,c)}return t=l,n=o,r=f,void(null!=p?vt(e,!!n,p,!1):!!r!==!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(a=n[l],n.hasOwnProperty(l)&&null!=a&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zd(e,t,l,null,r,a)}for(o in r)if(a=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":p=a;break;case"defaultValue":f=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(s(91));break;default:a!==i&&Zd(e,t,o,a,r,i)}return void wt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Zd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Zd(e,t,g,null,r,p);for(d in r)if(p=r[d],f=n[d],r.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Zd(e,t,d,p,r,f)}return;default:if(At(t)){for(var x in n)p=n[x],n.hasOwnProperty(x)&&void 0!==p&&!r.hasOwnProperty(x)&&eu(e,t,x,void 0,r,p);for(u in r)p=r[u],f=n[u],!r.hasOwnProperty(u)||p===f||void 0===p&&void 0===f||eu(e,t,u,p,r,f);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&null!=p&&!r.hasOwnProperty(b)&&Zd(e,t,b,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||Zd(e,t,h,p,r,f)}(r,e.type,n,t),r[Re]=t}catch(a){ud(e,e.return,a)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fu(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$d));else if(4!==r&&(27===r&&fu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);tu(t,r,n),t[ze]=e,t[Re]=n}catch(i){ud(e,e.return,i)}}var vl=!1,wl=!1,jl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,Nl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ml(e,n),4&r&&ol(5,n);break;case 1:if(Ml(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){ud(n,n.return,s)}else{var a=xo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ud(n,n.return,o)}}64&r&&cl(n),512&r&&ul(n,n.return);break;case 3:if(Ml(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{pi(e,t)}catch(s){ud(n,n.return,s)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Ml(e,n),null===t&&4&r&&pl(n),512&r&&ul(n,n.return);break;case 12:Ml(e,n);break;case 13:Ml(e,n),4&r&&Tl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=md.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||vl)){t=null!==t&&null!==t.memoizedState||wl,a=vl;var i=wl;vl=r,(wl=t)&&!i?Bl(e,n,0!==(8772&n.subtreeFlags)):Ml(e,n),vl=a,wl=i}break;case 30:break;default:Ml(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Al=null,_l=!1;function Pl(e,t,n){for(n=n.child;null!==n;)Ll(e,t,n),n=n.sibling}function Ll(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(i){}switch(n.tag){case 26:wl||hl(n,t),Pl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=Al,a=_l;fu(n.type)&&(Al=n.stateNode,_l=!1),Pl(e,t,n),ju(n.stateNode),Al=r,_l=a;break;case 5:wl||hl(n,t);case 6:if(r=Al,a=_l,Al=null,Pl(e,t,n),_l=a,null!==(Al=r))if(_l)try{(9===Al.nodeType?Al.body:"HTML"===Al.nodeName?Al.ownerDocument.body:Al).removeChild(n.stateNode)}catch(s){ud(n,t,s)}else try{Al.removeChild(n.stateNode)}catch(s){ud(n,t,s)}break;case 18:null!==Al&&(_l?(mu(9===(e=Al).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_h(e)):mu(Al,n.stateNode));break;case 4:r=Al,a=_l,Al=n.stateNode.containerInfo,_l=!0,Pl(e,t,n),Al=r,_l=a;break;case 0:case 11:case 14:case 15:wl||ll(2,n,t),wl||ll(4,n,t),Pl(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Pl(e,t,n);break;case 21:Pl(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Pl(e,t,n),wl=r;break;default:Pl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_h(e)}catch(n){ud(t,t.return,n)}}function El(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var r=gd.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function zl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(fu(l.type)){Al=l.stateNode,_l=!1;break e}break;case 5:Al=l.stateNode,_l=!1;break e;case 3:case 4:Al=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===Al)throw Error(s(160));Ll(i,o,a),Al=null,_l=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Fl(t,e),t=t.sibling}var Rl=null;function Fl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zl(t,e),Il(e),4&r&&(ll(3,e,e.return),ol(3,e),ll(5,e,e.return));break;case 1:zl(t,e),Il(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&vl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Rl;if(zl(t,e),Il(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Be]||i[ze]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),tu(i,r,n),i[ze]=e,Ge(i),r=i;break e;case"link":var o=Bu("link","href",a).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}tu(i=a.createElement(r),r,n),a.head.appendChild(i);break;case"meta":if(o=Bu("meta","content",a).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}tu(i=a.createElement(r),r,n),a.head.appendChild(i);break;default:throw Error(s(468,r))}i[ze]=e,Ge(i),r=i}e.stateNode=r}else qu(a,e.type,e.stateNode);else e.stateNode=Fu(a,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?qu(a,e.type,e.stateNode):Fu(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:zl(t,e),Il(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(zl(t,e),Il(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){a=e.stateNode;try{St(a,"")}catch(f){ud(e,e.return,f)}}4&r&&null!=e.stateNode&&fl(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(jl=!0);break;case 6:if(zl(t,e),Il(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){ud(e,e.return,f)}}break;case 3:if(Ou=null,a=Rl,Rl=ku(t.containerInfo),zl(t,e),Rl=a,Il(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_h(t.containerInfo)}catch(f){ud(e,e.return,f)}jl&&(jl=!1,Dl(e));break;case 4:r=Rl,Rl=ku(e.stateNode.containerInfo),zl(t,e),Il(e),Rl=r;break;case 12:default:zl(t,e),Il(e);break;case 13:zl(t,e),Il(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(jc=ne()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,El(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=vl,u=wl;if(vl=d||a,wl=u||c,zl(t,e),wl=u,vl=d,Il(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||vl||wl||Ol(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,a)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){ud(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){ud(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,El(e,n))));break;case 19:zl(t,e),Il(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,El(e,r)));case 30:case 21:}}function Il(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var a=n.stateNode;bl(e,gl(e),a);break;case 5:var i=n.stateNode;32&n.flags&&(St(i,""),n.flags&=-33),bl(e,gl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;xl(e,gl(e),o);break;default:throw Error(s(161))}}catch(l){ud(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Dl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Dl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ml(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Ol(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),Ol(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&dl(t,t.return,n),Ol(t);break;case 27:ju(t.stateNode);case 26:case 5:hl(t,t.return),Ol(t);break;case 22:null===t.memoizedState&&Ol(t);break;default:Ol(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,i=t,s=i.flags;switch(i.tag){case 0:case 11:case 15:Bl(a,i,n),ol(4,i);break;case 1:if(Bl(a,i,n),"function"===typeof(a=(r=i).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){ud(r,r.return,c)}if(null!==(a=(r=i).updateQueue)){var o=r.stateNode;try{var l=a.shared.hiddenCallbacks;if(null!==l)for(a.shared.hiddenCallbacks=null,a=0;a<l.length;a++)hi(l[a],o)}catch(c){ud(r,r.return,c)}}n&&64&s&&cl(i),ul(i,i.return);break;case 27:yl(i);case 26:case 5:Bl(a,i,n),n&&null===r&&4&s&&pl(i),ul(i,i.return);break;case 12:Bl(a,i,n);break;case 13:Bl(a,i,n),n&&4&s&&Tl(a,i);break;case 22:null===i.memoizedState&&Bl(a,i,n),ul(i,i.return);break;case 30:break;default:Bl(a,i,n)}t=t.sibling}}function ql(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Fa(n))}function Ul(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e))}function Wl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Hl(e,t,n,r),t=t.sibling}function Hl(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Wl(e,t,n,r),2048&a&&ol(9,t);break;case 1:case 13:default:Wl(e,t,n,r);break;case 3:Wl(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fa(e)));break;case 12:if(2048&a){Wl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,s=i.id,o=i.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){ud(t,t.return,l)}}else Wl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,s=t.alternate,null!==t.memoizedState?2&i._visibility?Wl(e,t,n,r):Gl(e,t):2&i._visibility?Wl(e,t,n,r):(i._visibility|=2,Vl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&ql(s,t);break;case 24:Wl(e,t,n,r),2048&a&&Ul(t.alternate,t)}}function Vl(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Vl(i,s,o,l,a),ol(8,s);break;case 23:break;case 22:var d=s.stateNode;null!==s.memoizedState?2&d._visibility?Vl(i,s,o,l,a):Gl(i,s):(d._visibility|=2,Vl(i,s,o,l,a)),a&&2048&c&&ql(s.alternate,s);break;case 24:Vl(i,s,o,l,a),a&&2048&c&&Ul(s.alternate,s);break;default:Vl(i,s,o,l,a)}t=t.sibling}}function Gl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Gl(n,r),2048&a&&ql(r.alternate,r);break;case 24:Gl(n,r),2048&a&&Ul(r.alternate,r);break;default:Gl(n,r)}t=t.sibling}}var Yl=8192;function Kl(e){if(e.subtreeFlags&Yl)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 26:Kl(e),e.flags&Yl&&null!==e.memoizedState&&function(e,t,n){if(null===Wu)throw Error(s(475));var r=Wu;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Lu(n.href),i=e.querySelector(Tu(a));if(i)return null!==(e=i._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Vu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=i,void Ge(i);i=e.ownerDocument||e,n=Eu(n),(a=Su.get(a))&&Du(n,a),Ge(i=i.createElement("link"));var o=i;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),tu(i,"link",n),t.instance=i}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Vu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Rl;Rl=ku(e.stateNode.containerInfo),Kl(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Yl,Yl=16777216,Kl(e),Yl=t):Kl(e))}}function Ql(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,ec(r,e)}Ql(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)$l(e),e=e.sibling}function $l(e){switch(e.tag){case 0:case 11:case 15:Xl(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:Xl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):Xl(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Nl=r,ec(r,e)}Ql(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==Nl;){var n=Nl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Fa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Nl=r;else e:for(n=e;null!==Nl;){var a=(r=Nl).sibling,i=r.return;if(Cl(r),r===n){Nl=null;break e}if(null!==a){a.return=i,Nl=a;break e}Nl=i}}}var tc={getCacheForType:function(e){var t=Aa(za),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ac=null,ic=null,sc=0,oc=0,lc=null,cc=!1,dc=!1,uc=!1,hc=0,pc=0,fc=0,mc=0,gc=0,xc=0,bc=0,yc=null,vc=null,wc=!1,jc=0,Sc=1/0,Nc=null,kc=null,Cc=0,Ac=null,_c=null,Pc=0,Lc=0,Tc=null,Ec=null,zc=0,Rc=null;function Fc(){if(0!==(2&rc)&&0!==sc)return sc&-sc;if(null!==R.T){return 0!==Ma?Ma:Ld()}return Te()}function Ic(){0===xc&&(xc=0===(536870912&sc)||sa?Se():536870912);var e=ao.current;return null!==e&&(e.flags|=32),xc}function Dc(e,t,n){(e!==ac||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(Hc(e,0),qc(e,sc,xc,!1)),Ce(e,n),0!==(2&rc)&&e===ac||(e===ac&&(0===(2&rc)&&(mc|=n),4===pc&&qc(e,sc,xc,!1)),Sd(e))}function Mc(e,t,n){if(0!==(6&rc))throw Error(s(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),a=r?function(e,t){var n=rc;rc|=2;var r=Gc(),a=Yc();ac!==e||sc!==t?(Nc=null,Sc=ne()+500,Hc(e,t)):dc=we(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var i=lc;t:switch(oc){case 1:oc=0,lc=null,ed(e,t,i,1);break;case 2:case 9:if(Qa(i)){oc=0,lc=null,Zc(t);break}t=function(){2!==oc&&9!==oc||ac!==e||(oc=7),Sd(e)},i.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Qa(i)?(oc=0,lc=null,Zc(t)):(oc=0,lc=null,ed(e,t,i,7));break;case 5:var o=null;switch(ic.tag){case 26:o=ic.memoizedState;case 5:case 27:var l=ic;if(!o||Uu(o)){oc=0,lc=null;var c=l.sibling;if(null!==c)ic=c;else{var d=l.return;null!==d?(ic=d,td(d)):ic=null}break t}}oc=0,lc=null,ed(e,t,i,5);break;case 6:oc=0,lc=null,ed(e,t,i,6);break;case 8:Wc(),pc=6;break e;default:throw Error(s(462))}}Xc();break}catch(u){Vc(e,u)}return ya=ba=null,R.H=r,R.A=a,rc=n,null!==ic?0:(ac=null,sc=0,Pr(),pc)}(e,t):Jc(e,t,!0),i=r;;){if(0===a){dc&&!r&&qc(e,t,0,!1);break}if(n=e.current.alternate,!i||Bc(n)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=yc;var c=l.current.memoizedState.isDehydrated;if(c&&(Hc(l,o).flags|=256),2!==(o=Jc(l,o,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=i,mc|=i,a=4;break e}i=vc,vc=a,null!==i&&(null===vc?vc=i:vc.push.apply(vc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){Hc(e,0),qc(e,t,0,!0);break}e:{switch(r=e,i=a){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:qc(r,t,xc,!cc);break e;case 2:vc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(a=jc+300-ne())){if(qc(r,t,xc,!cc),0!==ve(r,0,!0))break e;r.timeoutHandle=cu(Oc.bind(null,r,n,vc,Nc,wc,t,xc,mc,bc,cc,i,2,-0,0),a)}else Oc(r,n,vc,Nc,wc,t,xc,mc,bc,cc,i,0,-0,0)}break}a=Jc(e,t,!1),i=!1}Sd(e)}function Oc(e,t,n,r,a,i,o,l,c,d,u,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Wu={stylesheets:null,count:0,unsuspend:Hu},Jl(t),null!==(h=function(){if(null===Wu)throw Error(s(475));var e=Wu;return e.stylesheets&&0===e.count&&Yu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Yu(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(rd.bind(null,e,t,i,n,r,a,o,l,c,u,1,p,f)),void qc(e,i,o,!d);rd(e,t,i,n,r,a,o,l,c)}function Bc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!Qn(i(),a))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var i=31-fe(a),s=1<<i;r[i]=-1,a&=~s}0!==n&&Ae(e,n,t)}function Uc(){return 0!==(6&rc)||(Nd(0,!1),!1)}function Wc(){if(null!==ic){if(0===oc)var e=ic.return;else ya=ba=null,Mi(e=ic),Js=null,Qs=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function Hc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,du(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc(),ac=e,ic=n=Or(e.current,null),sc=t,oc=0,lc=null,cc=!1,dc=we(e,t),uc=!1,bc=xc=gc=mc=fc=pc=0,vc=yc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-fe(r),i=1<<a;t|=e[a],r&=~i}return hc=t,Pr(),n}function Vc(e,t){vi=null,R.H=Vs,t===Ga||t===Ka?(t=ei(),oc=3):t===Ya?(t=ei(),oc=4):oc=t===Ao?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ic&&(pc=1,jo(e,kr(t,e.current)))}function Gc(){var e=R.H;return R.H=Vs,null===e?Vs:e}function Yc(){var e=R.A;return R.A=tc,e}function Kc(){pc=4,cc||(4194048&sc)!==sc&&null!==ao.current||(dc=!0),0===(134217727&fc)&&0===(134217727&mc)||null===ac||qc(ac,sc,xc,!1)}function Jc(e,t,n){var r=rc;rc|=2;var a=Gc(),i=Yc();ac===e&&sc===t||(Nc=null,Hc(e,t)),t=!1;var s=pc;e:for(;;)try{if(0!==oc&&null!==ic){var o=ic,l=lc;switch(oc){case 8:Wc(),s=6;break e;case 3:case 2:case 9:case 6:null===ao.current&&(t=!0);var c=oc;if(oc=0,lc=null,ed(e,o,l,c),n&&dc){s=0;break e}break;default:c=oc,oc=0,lc=null,ed(e,o,l,c)}}Qc(),s=pc;break}catch(d){Vc(e,d)}return t&&e.shellSuspendCounter++,ya=ba=null,rc=r,R.H=a,R.A=i,null===ic&&(ac=null,sc=0,Pr()),s}function Qc(){for(;null!==ic;)$c(ic)}function Xc(){for(;null!==ic&&!ee();)$c(ic)}function $c(e){var t=$o(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?td(e):ic=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Do(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=Do(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Mi(t);default:sl(n,t),t=$o(n,t=ic=Br(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?td(e):ic=t}function ed(e,t,n,r){ya=ba=null,Mi(t),Js=null,Qs=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Na(t,n,a,!0),null!==(n=ao.current)){switch(n.tag){case 13:return null===io?Kc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===Ja?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hd(e,r,a)),!1;case 22:return n.flags|=65536,r===Ja?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hd(e,r,a)),!1}throw Error(s(435,n.tag))}return hd(e,r,a),Kc(),!1}if(sa)return null!==(t=ao.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==ca&&ga(kr(e=Error(s(422),{cause:r}),n))):(r!==ca&&ga(kr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=kr(r,n),li(e,a=No(e.stateNode,r,a)),4!==pc&&(pc=2)),!1;var i=Error(s(520),{cause:r});if(i=kr(i,n),null===yc?yc=[i]:yc.push(i),4!==pc&&(pc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,li(n,e=No(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===kc||!kc.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,Co(a=ko(a),e,n,r),li(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,sc))return pc=1,jo(e,kr(n,e.current)),void(ic=null)}catch(i){if(null!==a)throw ic=a,i;return pc=1,jo(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(sa||1===r?e=!0:dc||0!==(536870912&sc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ao.current)&&13===r.tag&&(r.flags|=16384))),nd(t,e)):td(t)}function td(e){var t=e;do{if(0!==(32768&t.flags))return void nd(t,cc);e=t.return;var n=al(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===pc&&(pc=5)}function nd(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);pc=6,ic=null}function rd(e,t,n,r,a,i,o,l,c){e.cancelPendingCommit=null;do{ld()}while(0!==Cc);if(0!==(6&rc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,a,i){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var d=31-fe(n),u=1<<d;o[d]=0,l[d]=-1;var h=c[d];if(null!==h)for(c[d]=null,d=0;d<h.length;d++){var p=h[d];null!==p&&(p.lane&=-536870913)}n&=~u}0!==r&&Ae(e,r,0),0!==i&&0===a&&0!==e.tag&&(e.suspendedLanes|=i&~(s&~t))}(e,n,i|=_r,o,l,c),e===ac&&(ic=ac=null,sc=0),_c=t,Ac=e,Pc=n,Lc=i,Tc=a,Ec=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(se,function(){return cd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,a=I.p,I.p=2,o=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nu=rh,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===a&&(l=o),p===i&&++u===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ru={focusedElem:e,selectionRange:n},rh=!1,Nl=t;null!==Nl;)if(e=(t=Nl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Nl=e;else for(;null!==Nl;){switch(i=(t=Nl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=xo(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(x){ud(n,n.return,x)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Nl=e;break}Nl=t.return}}(e,t)}finally{rc=o,I.p=a,R.T=r}}Cc=1,ad(),id(),sd()}}function ad(){if(1===Cc){Cc=0;var e=Ac,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=I.p;I.p=2;var a=rc;rc|=4;try{Fl(t,e);var i=ru,s=tr(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&er(o.ownerDocument.documentElement,o)){if(null!==l&&nr(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,h=u&&u.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var x=Zn(o,m),b=Zn(o,g);if(x&&b&&(1!==p.rangeCount||p.anchorNode!==x.node||p.anchorOffset!==x.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var y=u.createRange();y.setStart(x.node,x.offset),p.removeAllRanges(),m>g?(p.addRange(y),p.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),p.addRange(y))}}}}for(u=[],p=o;p=p.parentNode;)1===p.nodeType&&u.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}rh=!!nu,ru=nu=null}finally{rc=a,I.p=r,R.T=n}}e.current=t,Cc=2}}function id(){if(2===Cc){Cc=0;var e=Ac,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=I.p;I.p=2;var a=rc;rc|=4;try{kl(e,t.alternate,t)}finally{rc=a,I.p=r,R.T=n}}Cc=3}}function sd(){if(4===Cc||3===Cc){Cc=0,te();var e=Ac,t=_c,n=Pc,r=Ec;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,_c=Ac=null,od(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(kc=null),Le(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,a=I.p,I.p=2,R.T=null;try{for(var i=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{R.T=t,I.p=a}}0!==(3&Pc)&&ld(),Sd(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Rc?zc++:(zc=0,Rc=e):zc=0,Nd(0,!1)}}function od(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fa(t)))}function ld(e){return ad(),id(),sd(),cd()}function cd(){if(5!==Cc)return!1;var e=Ac,t=Lc;Lc=0;var n=Le(Pc),r=R.T,a=I.p;try{I.p=32>n?32:n,R.T=null,n=Tc,Tc=null;var i=Ac,o=Pc;if(Cc=0,_c=Ac=null,Pc=0,0!==(6&rc))throw Error(s(331));var l=rc;if(rc|=4,$l(i.current),Hl(i,i.current,o,n),rc=l,Nd(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,i)}catch(c){}return!0}finally{I.p=a,R.T=r,od(e,t)}}function dd(e,t,n){t=kr(n,t),null!==(e=si(e,t=No(e.stateNode,t,2),2))&&(Ce(e,2),Sd(e))}function ud(e,t,n){if(3===e.tag)dd(e,e,n);else for(;null!==t;){if(3===t.tag){dd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=si(t,n=ko(2),2))&&(Co(n,r,t,e),Ce(r,2),Sd(r));break}}t=t.return}}function hd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=pd.bind(null,e,t,n),t.then(e,e))}function pd(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ac===e&&(sc&n)===n&&(4===pc||3===pc&&(62914560&sc)===sc&&300>ne()-jc?0===(2&rc)&&Hc(e,0):gc|=n,bc===sc&&(bc=0)),Sd(e)}function fd(e,t){0===t&&(t=Ne()),null!==(e=Er(e,t))&&(Ce(e,t),Sd(e))}function md(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fd(e,n)}function gd(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),fd(e,n)}var xd=null,bd=null,yd=!1,vd=!1,wd=!1,jd=0;function Sd(e){e!==bd&&null===e.next&&(null===bd?xd=bd=e:bd=bd.next=e),vd=!0,yd||(yd=!0,hu(function(){0!==(6&rc)?$(ae,kd):Cd()}))}function Nd(e,t){if(!wd&&vd){wd=!0;do{for(var n=!1,r=xd;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-fe(42|e)+1)-1,i=201326741&(i&=a&~(s&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Pd(r,i))}else i=sc,0===(3&(i=ve(r,r===ac?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,i)||(n=!0,Pd(r,i));r=r.next}}while(n);wd=!1}}function kd(){Cd()}function Cd(){vd=yd=!1;var e=0;0!==jd&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==lu&&(lu=e,!0);return lu=null,!1}()&&(e=jd),jd=0);for(var t=ne(),n=null,r=xd;null!==r;){var a=r.next,i=Ad(r,t);0===i?(r.next=null,null===n?xd=a:n.next=a,null===a&&(bd=n)):(n=r,(0!==e||0!==(3&i))&&(vd=!0)),r=a}Nd(e,!1)}function Ad(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var s=31-fe(i),o=1<<s,l=a[s];-1===l?0!==(o&n)&&0===(o&r)||(a[s]=je(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=sc,n=ve(e,e===(t=ac)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Le(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=le}return r=_d.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function _d(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ld()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=ve(e,e===ac?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Mc(e,r,t),Ad(e,ne()),null!=e.callbackNode&&e.callbackNode===n?_d.bind(null,e):null)}function Pd(e,t){if(ld())return null;Mc(e,t,!0)}function Ld(){return 0===jd&&(jd=Se()),jd}function Td(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Lt(""+e)}function Ed(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var zd=0;zd<jr.length;zd++){var Rd=jr[zd];Sr(Rd.toLowerCase(),"on"+(Rd[0].toUpperCase()+Rd.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(mr,"onAnimationIteration"),Sr(gr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(xr,"onTransitionRun"),Sr(br,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(vr,"onTransitionEnd"),Qe("onMouseEnter",["mouseout","mouseover"]),Qe("onMouseLeave",["mouseout","mouseover"]),Qe("onPointerEnter",["pointerout","pointerover"]),Qe("onPointerLeave",["pointerout","pointerover"]),Je("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Je("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Je("onBeforeInput",["compositionend","keypress","textInput","paste"]),Je("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Je("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Id=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fd));function Dd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){bo(d)}a.currentTarget=null,i=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=c;try{i(a)}catch(d){bo(d)}a.currentTarget=null,i=l}}}}function Md(e,t){var n=t[Ie];void 0===n&&(n=t[Ie]=new Set);var r=e+"__bubble";n.has(r)||(Ud(t,e,2,!1),n.add(r))}function Od(e,t,n){var r=0;t&&(r|=4),Ud(n,e,r,t)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function qd(e){if(!e[Bd]){e[Bd]=!0,Ye.forEach(function(t){"selectionchange"!==t&&(Id.has(t)||Od(t,!1,e),Od(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bd]||(t[Bd]=!0,Od("selectionchange",!1,t))}}function Ud(e,t,n,r){switch(dh(t)){case 2:var a=ah;break;case 8:a=ih;break;default:a=sh}n=a.bind(null,t,n,e),a=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wd(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===a)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===a)return;s=s.return}for(;null!==o;){if(null===(s=Ue(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=i=s;continue e}o=o.parentNode}}r=r.return}Dt(function(){var r=i,a=Et(n),s=[];e:{var o=wr.get(e);if(void 0!==o){var c=en,d=e;switch(e){case"keypress":if(0===Gt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":d="focus",c=on;break;case"focusout":d="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case fr:case mr:case gr:c=ln;break;case vr:c=yn;break;case"scroll":case"scrollend":c=nn;break;case"wheel":c=vn;break;case"copy":case"cut":case"paste":c=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn;break;case"toggle":case"beforetoggle":c=wn}var u=0!==(4&t),h=!u&&("scroll"===e||"scrollend"===e),p=u?null!==o?o+"Capture":null:o;u=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Mt(m,p))&&u.push(Hd(m,g,f)),h)break;m=m.return}0<u.length&&(o=new c(o,d,null,n,a),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Tt||!(d=n.relatedTarget||n.fromElement)||!Ue(d)&&!d[Fe])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Ue(d):null)&&(h=l(d),u=d.tag,d!==h||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=an,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:He(c),f=null==d?o:He(d),(o=new u(g,m+"leave",c,n,a)).target=h,o.relatedTarget=f,g=null,Ue(a)===r&&((u=new u(p,m+"enter",d,n,a)).target=f,u.relatedTarget=h,g=u),h=g,c&&d)e:{for(p=d,m=0,f=u=c;f;f=Gd(f))m++;for(f=0,g=p;g;g=Gd(g))f++;for(;0<m-f;)u=Gd(u),m--;for(;0<f-m;)p=Gd(p),f--;for(;m--;){if(u===p||null!==p&&u===p.alternate)break e;u=Gd(u),p=Gd(p)}u=null}else u=null;null!==c&&Yd(s,o,c,u,!1),null!==d&&null!==h&&Yd(s,h,d,u,!0)}if("select"===(c=(o=r?He(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var x=On;else if(zn(o))if(Bn)x=Jn;else{x=Yn;var b=Gn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&At(r.elementType)&&(x=On):x=Kn;switch(x&&(x=x(e,r))?Rn(s,x,n,a):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&yt(o,"number",o.value)),b=r?He(r):window,e){case"focusin":(zn(b)||"true"===b.contentEditable)&&(ar=b,ir=r,sr=null);break;case"focusout":sr=ir=ar=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,lr(s,n,a);break;case"selectionchange":if(rr)break;case"keydown":case"keyup":lr(s,n,a)}var y;if(Sn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Tn?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Cn&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Tn&&(y=Vt()):(Wt="value"in(Ut=a)?Ut.value:Ut.textContent,Tn=!0)),0<(b=Vd(r,v)).length&&(v=new dn(v,e,null,n,a),s.push({event:v,listeners:b}),y?v.data=y:null!==(y=Ln(n))&&(v.data=y))),(y=kn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(_n=!0,An);case"textInput":return(e=t.data)===An&&_n?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!Sn&&Pn(e,t)?(e=Vt(),Ht=Wt=Ut=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Vd(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,a),s.push({event:b,listeners:v}),b.data=y)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var i=Td((a[Re]||null).action),s=r.submitter;s&&null!==(t=(t=s[Re]||null)?Td(t.formAction):s.getAttribute("formAction"))&&(i=t,s=null);var o=new en("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==jd){var e=s?Ed(a,s):new FormData(a);Ts(n,{pending:!0,data:e,method:a.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=s?Ed(a,s):new FormData(a),Ts(n,{pending:!0,data:e,method:a.method,action:i},i,e))},currentTarget:a}]})}}(s,e,r,n,a)}Dd(s,t)})}function Hd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vd(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===i||(null!=(a=Mt(e,n))&&r.unshift(Hd(e,a,i)),null!=(a=Mt(e,t))&&r.push(Hd(e,a,i))),3===e.tag)return r;e=e.return}return[]}function Gd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Yd(e,t,n,r,a){for(var i=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,a?null!=(c=Mt(n,i))&&s.unshift(Hd(n,c,l)):a||null!=(c=Mt(n,i))&&s.push(Hd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kd=/\r\n?/g,Jd=/\u0000|\uFFFD/g;function Qd(e){return("string"===typeof e?e:""+e).replace(Kd,"\n").replace(Jd,"")}function Xd(e,t){return t=Qd(t),Qd(e)===t}function $d(){}function Zd(e,t,n,r,a,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":rt(e,"class",r);break;case"tabIndex":rt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,n,r);break;case"style":Ct(e,r,i);break;case"data":if("object"!==t){rt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&Zd(e,t,"name",a.name,a,null),Zd(e,t,"formEncType",a.formEncType,a,null),Zd(e,t,"formMethod",a.formMethod,a,null),Zd(e,t,"formTarget",a.formTarget,a,null)):(Zd(e,t,"encType",a.encType,a,null),Zd(e,t,"method",a.method,a,null),Zd(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Lt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=$d);break;case"onScroll":null!=r&&Md("scroll",e);break;case"onScrollEnd":null!=r&&Md("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Lt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Md("beforetoggle",e),Md("toggle",e),nt(e,"popover",r);break;case"xlinkActuate":at(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":at(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":at(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":at(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":at(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":at(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":at(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":at(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":at(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":nt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&nt(e,n=_t.get(n)||n,r)}}function eu(e,t,n,r,a,i){switch(n){case"style":Ct(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Md("scroll",e);break;case"onScrollEnd":null!=r&&Md("scrollend",e);break;case"onClick":null!=r&&(e.onclick=$d);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Re]||null)?i[n]:null)&&e.removeEventListener(t,i,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):nt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function tu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Md("error",e),Md("load",e);var r,a=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zd(e,t,r,o,n,null)}}return i&&Zd(e,t,"srcSet",n.srcSet,n,null),void(a&&Zd(e,t,"src",n.src,n,null));case"input":Md("invalid",e);var l=r=o=i=null,c=null,d=null;for(a in n)if(n.hasOwnProperty(a)){var u=n[a];if(null!=u)switch(a){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(s(137,t));break;default:Zd(e,t,a,u,n,null)}}return bt(e,r,l,c,d,o,i,!1),void ht(e);case"select":for(i in Md("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:Zd(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?vt(e,!!a,t,!1):null!=n&&vt(e,!!a,n,!0));case"textarea":for(o in Md("invalid",e),r=i=a=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Zd(e,t,o,l,n,null)}return jt(e,a,i,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Zd(e,t,c,a,n,null);return;case"dialog":Md("beforetoggle",e),Md("toggle",e),Md("cancel",e),Md("close",e);break;case"iframe":case"object":Md("load",e);break;case"video":case"audio":for(a=0;a<Fd.length;a++)Md(Fd[a],e);break;case"image":Md("error",e),Md("load",e);break;case"details":Md("toggle",e);break;case"embed":case"source":case"link":Md("error",e),Md("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(a=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Zd(e,t,d,a,n,null)}return;default:if(At(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(a=n[u])&&eu(e,t,u,a,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(a=n[l])&&Zd(e,t,l,a,n,null))}var nu=null,ru=null;function au(e){return 9===e.nodeType?e:e.ownerDocument}function iu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function su(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ou(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var lu=null;var cu="function"===typeof setTimeout?setTimeout:void 0,du="function"===typeof clearTimeout?clearTimeout:void 0,uu="function"===typeof Promise?Promise:void 0,hu="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uu?function(e){return uu.resolve(null).then(e).catch(pu)}:cu;function pu(e){setTimeout(function(){throw e})}function fu(e){return"head"===e}function mu(e,t){var n=t,r=0,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var s=e.ownerDocument;if(1&n&&ju(s.documentElement),2&n&&ju(s.body),4&n)for(ju(n=s.head),s=n.firstChild;s;){var o=s.nextSibling,l=s.nodeName;s[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=o}}if(0===a)return e.removeChild(i),void _h(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);_h(t)}function gu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gu(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function xu(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yu=null;function vu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wu(e,t,n){switch(t=au(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function ju(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var Su=new Map,Nu=new Set;function ku(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Cu=I.d;I.d={f:function(){var e=Cu.f(),t=Uc();return e||t},r:function(e){var t=We(e);null!==t&&5===t.tag&&"form"===t.type?zs(t):Cu.r(e)},D:function(e){Cu.D(e),_u("dns-prefetch",e,null)},C:function(e,t){Cu.C(e,t),_u("preconnect",e,t)},L:function(e,t,n){Cu.L(e,t,n);var r=Au;if(r&&e&&t){var a='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+gt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+gt(n.imageSizes)+'"]')):a+='[href="'+gt(e)+'"]';var i=a;switch(t){case"style":i=Lu(e);break;case"script":i=zu(e)}Su.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Su.set(i,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Tu(i))||"script"===t&&r.querySelector(Ru(i))||(tu(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}},m:function(e,t){Cu.m(e,t);var n=Au;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+gt(r)+'"][href="'+gt(e)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=zu(e)}if(!Su.has(i)&&(e=h({rel:"modulepreload",href:e},t),Su.set(i,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ru(i)))return}tu(r=n.createElement("link"),"link",e),Ge(r),n.head.appendChild(r)}}},X:function(e,t){Cu.X(e,t);var n=Au;if(n&&e){var r=Ve(n).hoistableScripts,a=zu(e),i=r.get(a);i||((i=n.querySelector(Ru(a)))||(e=h({src:e,async:!0},t),(t=Su.get(a))&&Mu(e,t),Ge(i=n.createElement("script")),tu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}},S:function(e,t,n){Cu.S(e,t,n);var r=Au;if(r&&e){var a=Ve(r).hoistableStyles,i=Lu(e);t=t||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Tu(i)))o.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Su.get(i))&&Du(e,n);var l=s=r.createElement("link");Ge(l),tu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Iu(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}},M:function(e,t){Cu.M(e,t);var n=Au;if(n&&e){var r=Ve(n).hoistableScripts,a=zu(e),i=r.get(a);i||((i=n.querySelector(Ru(a)))||(e=h({src:e,async:!0,type:"module"},t),(t=Su.get(a))&&Mu(e,t),Ge(i=n.createElement("script")),tu(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}};var Au="undefined"===typeof document?null:document;function _u(e,t,n){var r=Au;if(r&&"string"===typeof t&&t){var a=gt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Nu.has(a)||(Nu.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(tu(t=r.createElement("link"),"link",e),Ge(t),r.head.appendChild(t)))}}function Pu(e,t,n,r){var a,i,o,l,c=(c=V.current)?ku(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Lu(n.href),(r=(n=Ve(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Lu(n.href);var d=Ve(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Tu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Su.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Su.set(e,n),d||(a=c,i=e,o=n,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),tu(i,"link",o),Ge(i),a.head.appendChild(i))))),t&&null===r)throw Error(s(528,""));return u}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=zu(n),(r=(n=Ve(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Lu(e){return'href="'+gt(e)+'"'}function Tu(e){return'link[rel="stylesheet"]['+e+"]"}function Eu(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function zu(e){return'[src="'+gt(e)+'"]'}function Ru(e){return"script[async]"+e}function Fu(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+gt(n.href)+'"]');if(r)return t.instance=r,Ge(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ge(r=(e.ownerDocument||e).createElement("style")),tu(r,"style",a),Iu(r,n.precedence,e),t.instance=r;case"stylesheet":a=Lu(n.href);var i=e.querySelector(Tu(a));if(i)return t.state.loading|=4,t.instance=i,Ge(i),i;r=Eu(n),(a=Su.get(a))&&Du(r,a),Ge(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),tu(i,"link",r),t.state.loading|=4,Iu(i,n.precedence,e),t.instance=i;case"script":return i=zu(n.src),(a=e.querySelector(Ru(i)))?(t.instance=a,Ge(a),a):(r=n,(a=Su.get(i))&&Mu(r=h({},n),a),Ge(a=(e=e.ownerDocument||e).createElement("script")),tu(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Iu(r,n.precedence,e));return t.instance}function Iu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Du(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Mu(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ou=null;function Bu(e,t,n){if(null===Ou){var r=new Map,a=Ou=new Map;a.set(n,r)}else(r=(a=Ou).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var i=n[a];if(!(i[Be]||i[ze]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var s=i.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function qu(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Uu(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Wu=null;function Hu(){}function Vu(){if(this.count--,0===this.count)if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gu=null;function Yu(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gu=new Map,t.forEach(Ku,e),Gu=null,Vu.call(e))}function Ku(e,t){if(!(4&t.state.loading)){var n=Gu.get(e);if(n)var r=n.get(null);else{n=new Map,Gu.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(a=t.instance).getAttribute("data-precedence"),(i=n.get(s)||r)===r&&n.set(null,a),n.set(s,a),this.count++,r=Vu.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var Ju={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function Qu(e,t,n,r,a,i,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xu(e,t,n,r,a,i,s,o,l,c,d,u){return e=new Qu(e,t,n,s,o,l,c,u),t=1,!0===i&&(t|=24),i=Dr(3,null,null,t),e.current=i,i.stateNode=e,(t=Ra()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},ri(i),e}function $u(e){return e?e=Fr:Fr}function Zu(e,t,n,r,a,i){a=$u(a),null===r.context?r.context=a:r.pendingContext=a,(r=ii(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=si(e,r,t))&&(Dc(n,0,t),oi(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Er(e,67108864);null!==t&&Dc(t,0,67108864),th(e,67108864)}}var rh=!0;function ah(e,t,n,r){var a=R.T;R.T=null;var i=I.p;try{I.p=2,sh(e,t,n,r)}finally{I.p=i,R.T=a}}function ih(e,t,n,r){var a=R.T;R.T=null;var i=I.p;try{I.p=8,sh(e,t,n,r)}finally{I.p=i,R.T=a}}function sh(e,t,n,r){if(rh){var a=oh(r);if(null===a)Wd(e,t,r,lh,n),yh(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return hh=vh(hh,e,t,n,r,a),!0;case"dragenter":return ph=vh(ph,e,t,n,r,a),!0;case"mouseover":return fh=vh(fh,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return mh.set(i,vh(mh.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,gh.set(i,vh(gh.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(yh(e,r),4&t&&-1<bh.indexOf(e)){for(;null!==a;){var i=We(a);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var s=ye(i.pendingLanes);if(0!==s){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-fe(s);o.entanglements[1]|=l,s&=~l}Sd(i),0===(6&rc)&&(Sc=ne()+500,Nd(0,!1))}}break;case 13:null!==(o=Er(i,2))&&Dc(o,0,2),Uc(),th(i,2)}if(null===(i=oh(r))&&Wd(e,t,r,lh,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wd(e,t,r,null,n)}}function oh(e){return ch(e=Et(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ue(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ae:return 2;case ie:return 8;case se:case oe:return 32;case le:return 268435456;default:return 32}default:return 32}}var uh=!1,hh=null,ph=null,fh=null,mh=new Map,gh=new Map,xh=[],bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function vh(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=We(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function wh(e){var t=Ue(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=I.p;try{return I.p=e,t()}finally{I.p=n}}(e.priority,function(){if(13===n.tag){var e=Fc();e=Pe(e);var t=Er(n,e);null!==t&&Dc(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=oh(e.nativeEvent);if(null!==n)return null!==(t=We(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Tt=r,n.target.dispatchEvent(r),Tt=null,t.shift()}return!0}function Sh(e,t,n){jh(e)&&n.delete(t)}function Nh(){uh=!1,null!==hh&&jh(hh)&&(hh=null),null!==ph&&jh(ph)&&(ph=null),null!==fh&&jh(fh)&&(fh=null),mh.forEach(Sh),gh.forEach(Sh)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nh)))}var Ch=null;function Ah(e){Ch!==e&&(Ch=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ch===e&&(Ch=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var i=We(n);null!==i&&(e.splice(t,3),t-=3,Ts(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function _h(e){function t(t){return kh(t,e)}null!==hh&&kh(hh,e),null!==ph&&kh(ph,e),null!==fh&&kh(fh,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<xh.length;n++){var r=xh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xh.length&&null===(n=xh[0]).blockedOn;)wh(n),null===n.blockedOn&&xh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[Re]||null;if("function"===typeof i)s||Ah(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[Re]||null)o=s.formAction;else if(null!==ch(a))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ah(n)}}}function Ph(e){this._internalRoot=e}function Lh(e){this._internalRoot=e}Lh.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Zu(t.current,Fc(),e,t,null,null)},Lh.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zu(e.current,2,null,e,null,null),Uc(),t[Fe]=null}},Lh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xh.length&&0!==t&&t<xh[n].priority;n++);xh.splice(n,0,e),0===n&&wh(e)}};var Th=a.version;if("19.1.1"!==Th)throw Error(s(527,Th,"19.1.1"));I.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return d(a),e;if(i===r)return d(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Eh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{ue=zh.inject(Eh),he=zh}catch(Fh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",a=yo,i=vo,l=wo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xu(e,1,!1,null,0,n,r,a,i,l,0,null),e[Fe]=t.current,qd(e),new Ph(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,a="",i=yo,l=vo,c=wo,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(d=n.formState)),(t=Xu(e,1,!0,t,0,r,a,i,l,c,0,d)).context=$u(null),n=t.current,(a=ii(r=Pe(r=Fc()))).callback=null,si(n,a,r),n=r,t.current.lanes=n,Ce(t,n),Sd(t),e[Fe]=t.current,qd(e),new Lh(t)},t.version="19.1.1"},7950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6672)},8853:(e,t,n)=>{e.exports=n(5896)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"bdeb8225",453:"37d12208",455:"445de140",977:"fe453025"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="malaysia-pickleball-portal:";n.l=(r,a,i,s)=>{if(e[r])e[r].push(a);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+i){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=i);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",o.name="ChunkLoadError",o.type=i,o.request=s,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,i,s=r[0],o=r[1],l=r[2],c=0;if(s.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmalaysia_pickleball_portal=self.webpackChunkmalaysia_pickleball_portal||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(5043),a=n(4391);const i=n.p+"static/media/mpa.121c5cebd21f751ab354.png";var s=n(579);const o=e=>{let{currentPage:t,setCurrentPage:n,isLoggedIn:a}=e;const[o,l]=(0,r.useState)(!1);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"top-bar",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"top-bar-content",children:[(0,s.jsxs)("div",{className:"gov-info",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"nav-logo"}),(0,s.jsx)("span",{className:"separator",children:"|"}),(0,s.jsx)("span",{className:"org-name",children:"Malaysia Pickleball Association"})]}),(0,s.jsxs)("div",{className:"utility-links",children:[(0,s.jsxs)("div",{className:"utility-links-desktop",children:[("apply"===t||"status"===t||"admin"===t||"terms"===t||"register-organization"===t||"tournament-application"===t||"organization-terms"===t||"organization-privacy"===t||"software-login"===t||"software-registration"===t||"software-dashboard"===t)&&(0,s.jsx)("button",{className:"utility-link",onClick:()=>n("home"),title:"Back to Home",children:"Home"}),a&&(0,s.jsx)("button",{className:"utility-link",onClick:()=>n("admin"),title:"Admin Dashboard",children:"Admin"}),(0,s.jsx)("button",{className:"utility-link",onClick:()=>n("terms"),title:"Terms and Conditions",children:"Terms & Conditions"})]}),(0,s.jsx)("div",{className:"utility-links-mobile",children:(0,s.jsxs)("div",{className:"mobile-menu-container",children:[(0,s.jsx)("button",{className:"mobile-menu-button",onClick:()=>l(!o),title:"Menu",children:"\u2630"}),o&&(0,s.jsxs)("div",{className:"mobile-menu-dropdown",children:[("apply"===t||"status"===t||"admin"===t||"terms"===t||"register-organization"===t||"tournament-application"===t||"organization-terms"===t||"organization-privacy"===t||"software-login"===t||"software-registration"===t||"software-dashboard"===t)&&(0,s.jsx)("button",{className:"mobile-menu-item",onClick:()=>{n("home"),l(!1)},children:"Home"}),a&&(0,s.jsx)("button",{className:"mobile-menu-item",onClick:()=>{n("admin"),l(!1)},children:"Admin"}),(0,s.jsx)("button",{className:"mobile-menu-item",onClick:()=>{n("terms"),l(!1)},children:"Terms & Conditions"})]})]})})]})]})})})})},l=n.p+"static/media/FenixDigitalLogo.e73e51d83e49bd1a4360.png",c=e=>{let{setCurrentPage:t,isLoggedIn:n,setIsLoggedIn:r}=e;return(0,s.jsx)("footer",{className:"main-footer",children:(0,s.jsx)("div",{className:"footer-container",children:(0,s.jsxs)("div",{className:"footer-content",children:[(0,s.jsxs)("div",{className:"footer-branding",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"footer-logo"}),(0,s.jsx)("span",{className:"footer-org-name footer-org-name-full",children:"Malaysia Pickleball Association"}),(0,s.jsx)("span",{className:"footer-org-name footer-org-name-short",children:"MPA"}),t&&(0,s.jsx)("div",{className:"footer-admin-login",children:n?(0,s.jsx)("button",{className:"footer-admin-btn",onClick:()=>{r(!1),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userAuthority"),localStorage.removeItem("username"),localStorage.removeItem("loginTimestamp"),t("home")},children:"Logout"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"footer-admin-btn",onClick:()=>t("login"),children:"Admin Login"}),(0,s.jsx)("button",{className:"footer-admin-btn footer-state-btn",onClick:()=>t("state-login"),children:"State Login"})]})})]}),(0,s.jsxs)("div",{className:"footer-partner",children:[(0,s.jsx)("span",{className:"footer-partner-text",children:"Official Technical Partner"}),(0,s.jsx)("img",{src:l,alt:"Fenix Digital Logo",className:"footer-partner-logo"}),(0,s.jsx)("span",{className:"footer-partner-name",children:"Fenix Digital"})]})]})})})};var d=n(4980);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,d.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const p="/api";console.log("API Base URL:",p),console.log("Environment:","production");const f=new class{constructor(){this.baseURL=p}async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r=t.body instanceof FormData?h({},t.headers):h({"Content-Type":"application/json"},t.headers),a=h({headers:r},t);console.log("Making API request:",t.method||"GET",n),console.log("Request config:",a);try{const e=await fetch(n,a);console.log("Response status:",e.status),console.log("Response headers:",e.headers);const t=e.headers.get("content-type");if(!t||!t.includes("application/json")){const t=await e.text();throw console.error("Non-JSON response:",t),new Error("Server returned non-JSON response: ".concat(e.status," - ").concat(t.substring(0,200)))}const r=await e.json();if(console.log("Response data:",r),!e.ok){const t=r.message||r.error||"HTTP error! status: ".concat(e.status);throw console.error("API error:",t),new Error(t)}return r}catch(i){if(console.error("API request failed:",i),i instanceof TypeError&&i.message.includes("fetch"))throw new Error("Network error: Unable to connect to server. Please check your connection.");throw i}}async registerOrganization(e){return e instanceof FormData?this.makeRequest("/organizations/register",{method:"POST",body:e}):this.makeRequest("/organizations/register",{method:"POST",body:JSON.stringify(e)})}async organizationLogin(e){return this.makeRequest("/organizations/login",{method:"POST",body:JSON.stringify(e)})}async requestPasswordReset(e){return this.makeRequest("/organizations/forgot-password",{method:"POST",body:JSON.stringify({email:e})})}async changeOrganizationPassword(e,t,n){return this.makeRequest("/organizations/change-password",{method:"POST",body:JSON.stringify({organizationId:e,currentPassword:t,newPassword:n})})}async submitTournamentApplication(e){return this.makeRequest("/applications",{method:"POST",body:e instanceof FormData?e:JSON.stringify(e)})}async getAllApplications(){return this.makeRequest("/applications")}async getApplicationsByOrganization(e){return this.makeRequest("/applications/organization/".concat(encodeURIComponent(e)))}async getApplicationById(e){return this.makeRequest("/applications/".concat(e))}async updateApplicationStatus(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a={status:t};return n&&"Rejected"===t&&(a.rejectionReason=n),n&&"More Info Required"===t&&(a.requiredInfo=n),r&&(a.updateData=r),this.makeRequest("/applications/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify(a)})}async updateTournamentApplication(e,t){return this.makeRequest("/applications/".concat(e),{method:"PATCH",body:t instanceof FormData?t:JSON.stringify(t)})}async deleteApplication(e){return console.log("API Service: Deleting application with ID:",e),console.log("DELETE URL:","".concat(this.baseURL,"/applications/").concat(e)),this.makeRequest("/applications/".concat(e),{method:"DELETE"})}async getApprovedTournaments(){return this.makeRequest("/approved-tournaments")}async getRegisteredOrganizations(){return this.makeRequest("/organizations")}async suspendOrganization(e){return this.makeRequest("/organizations/".concat(e,"/suspend"),{method:"PATCH"})}async reactivateOrganization(e){return this.makeRequest("/organizations/".concat(e,"/reactivate"),{method:"PATCH"})}async deleteOrganization(e){return this.makeRequest("/organizations/".concat(e),{method:"DELETE"})}async updateOrganizationProfile(e){return this.makeRequest("/organizations/profile",{method:"PATCH",body:e,headers:{}})}async adminLogin(e){return this.makeRequest("/admin/login",{method:"POST",body:JSON.stringify(e)})}async getLoginHistory(){return this.makeRequest("/admin/login-history")}async healthCheck(){return this.makeRequest("/health")}async createAdminUser(e){return this.makeRequest("/admin/users",{method:"POST",body:JSON.stringify(e)})}async getAllAdminUsers(){return this.makeRequest("/admin/users")}async updateAdminUserStatus(e,t){return this.makeRequest("/admin/users/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async deleteAdminUser(e){return this.makeRequest("/admin/users/".concat(e),{method:"DELETE"})}async saveAssessmentForm(e){return await this.makeRequest("/assessment/forms",{method:"POST",body:JSON.stringify(e)})}async updateAssessmentForm(e,t){return await this.makeRequest("/assessment/forms/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async getAllAssessmentForms(){return(await this.makeRequest("/assessment/forms")).data||[]}async getAssessmentFormByCode(e){return(await this.makeRequest("/assessment/forms/".concat(e))).data||null}async generateTemporaryAssessmentCode(e){return(await this.makeRequest("/assessment/forms/".concat(e,"/generate-temp-code"),{method:"POST"})).data||null}async getTemporaryCodes(){return(await this.makeRequest("/assessment/temporary-codes")).data||[]}async deleteAssessmentForm(e){return this.makeRequest("/assessment/forms/".concat(e),{method:"DELETE"})}async deleteTemporaryCode(e){return this.makeRequest("/assessment/forms/".concat(e),{method:"DELETE"})}async saveAssessmentSubmission(e){return this.makeRequest("/assessment/submissions",{method:"POST",body:JSON.stringify(e)})}async getAllAssessmentSubmissions(){return(await this.makeRequest("/assessment/submissions")).data||[]}async getAssessmentSubmissionsByBatch(e,t){const n=new URLSearchParams;e&&n.append("batchId",e),t&&n.append("batchDate",t);return(await this.makeRequest("/assessment/submissions?".concat(n.toString()))).data||[]}async getAssessmentBatches(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=new URLSearchParams;e&&t.append("fromDate",e);const n="/assessment/batches".concat(t.toString()?"?".concat(t.toString()):"");return(await this.makeRequest(n)).data||[]}async clearAllAssessmentSubmissions(){return this.makeRequest("/assessment/submissions/clear",{method:"DELETE"})}async sendMessage(e){return this.makeRequest("/messages/send",{method:"POST",body:JSON.stringify(e)})}async getInboxMessages(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{limit:r=50,offset:a=0,unreadOnly:i=!1}=n,s=new URLSearchParams({limit:r.toString(),offset:a.toString(),unreadOnly:i.toString()});return this.makeRequest("/messages/inbox/".concat(e,"/").concat(t,"?").concat(s.toString()))}async getSentMessages(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{limit:r=50,offset:a=0}=n,i=new URLSearchParams({limit:r.toString(),offset:a.toString()});return this.makeRequest("/messages/sent/".concat(e,"/").concat(t,"?").concat(i.toString()))}async markMessageAsRead(e){return this.makeRequest("/messages/".concat(e,"/read"),{method:"PATCH"})}async getUnreadMessageCount(e,t){return this.makeRequest("/messages/unread-count/".concat(e,"/").concat(t))}async deleteMessage(e){return this.makeRequest("/messages/".concat(e),{method:"DELETE"})}async getMessageById(e){return this.makeRequest("/messages/".concat(e))}async stateLogin(e){return this.makeRequest("/state/login",{method:"POST",body:JSON.stringify(e)})}async createStateUser(e){return this.makeRequest("/state/users",{method:"POST",body:JSON.stringify(e)})}async getAllStateUsers(){return this.makeRequest("/state/users")}async updateStateUser(e,t){return this.makeRequest("/state/users/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async updateStateUserStatus(e,t){return this.makeRequest("/state/users/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async deleteStateUser(e){return this.makeRequest("/state/users/".concat(e),{method:"DELETE"})}async uploadTournamentSoftwareFile(e){return this.makeRequest("/tournament-software-files",{method:"POST",body:e})}async getTournamentSoftwareFiles(){return this.makeRequest("/tournament-software-files")}async deleteTournamentSoftwareFile(e){return this.makeRequest("/tournament-software-files/".concat(e),{method:"DELETE"})}getTournamentSoftwareFileDownloadUrl(e){return"".concat(this.baseURL,"/tournament-software-files/").concat(e,"/download")}},m=e=>{let{setCurrentPage:t,setIsLoggedIn:n}=e;const[a,o]=(0,r.useState)({username:"",password:""}),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),p=e=>{const{name:t,value:n}=e.target;o(e=>h(h({},e),{},{[t]:n})),l&&c("")};return(0,s.jsxs)("div",{className:"digital-login-page",children:[(0,s.jsxs)("div",{className:"login-background",children:[(0,s.jsx)("div",{className:"login-grid-pattern"}),(0,s.jsxs)("div",{className:"login-particles",children:[(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"})]})]}),(0,s.jsx)("div",{className:"login-container-digital",children:(0,s.jsxs)("div",{className:"login-card",children:[(0,s.jsx)("div",{className:"login-header-digital",children:(0,s.jsxs)("div",{className:"logo-section",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"login-logo"}),(0,s.jsxs)("div",{className:"brand-info",children:[(0,s.jsx)("h1",{children:"PORTAL MPA"}),(0,s.jsx)("p",{children:"Digital Authentication System"})]})]})}),(0,s.jsxs)("div",{className:"login-form-container",children:[(0,s.jsxs)("div",{className:"access-header",children:[(0,s.jsxs)("div",{className:"access-info",children:[(0,s.jsx)("h2",{children:"Administrator Access"}),(0,s.jsx)("p",{className:"login-description",children:"Enter your credentials to access the admin dashboard"})]}),(0,s.jsxs)("div",{className:"security-badge",children:[(0,s.jsx)("div",{className:"security-icon",children:"\ud83d\udd10"}),(0,s.jsx)("span",{children:"Secure Login"})]})]}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(!0),c(""),!a.username.trim())return c("Username is required"),void u(!1);if(!a.password.trim())return c("Password is required"),void u(!1);console.log("Attempting login with:",{username:a.username.trim(),password:"***"});try{const e=await f.adminLogin({username:a.username.trim(),password:a.password.trim()});var r,i;if(console.log("Login response:",e),e.success)console.log("Login successful, setting up session"),console.log("User authority from server:",null===(r=e.user)||void 0===r?void 0:r.authority),n(!0),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userAuthority",(null===(i=e.user)||void 0===i?void 0:i.authority)||"admin"),localStorage.setItem("username",a.username.trim()),localStorage.setItem("loginTimestamp",Date.now().toString()),t("admin"),console.log("Redirecting to admin dashboard");else console.log("Login failed:",e.message),c(e.message||"Login failed")}catch(l){console.error("Login error:",l),l.message.includes("401")?c("Invalid username or password. Please check your credentials."):l.message.includes("500")?c("Server error. Please try again later."):l.message.includes("fetch")?c("Network error. Please check your connection and try again."):c(l.message||"Login failed. Please try again.")}finally{u(!1)}},className:"digital-login-form",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("div",{className:"input-icon",children:"\ud83d\udc64"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:a.username,onChange:p,placeholder:"Administrator Username",required:!0,disabled:d,className:"digital-input"}),(0,s.jsx)("div",{className:"input-border"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("div",{className:"input-icon",children:"\ud83d\udd11"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:p,placeholder:"Secure Password",required:!0,disabled:d,className:"digital-input"}),(0,s.jsx)("div",{className:"input-border"})]}),l&&(0,s.jsxs)("div",{className:"error-alert",children:[(0,s.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,s.jsx)("span",{children:l})]}),(0,s.jsx)("button",{type:"submit",className:"digital-login-btn ".concat(d?"loading":""),disabled:d,children:(0,s.jsxs)("div",{className:"btn-content",children:[(0,s.jsx)("span",{children:d?"Authenticating...":"Access Dashboard"}),d&&(0,s.jsx)("div",{className:"loading-spinner"})]})})]}),(0,s.jsx)("div",{className:"login-actions",children:(0,s.jsx)("button",{className:"back-btn-digital",onClick:()=>t("home"),disabled:d,children:"\u2190 Return to Portal"})})]})]})})]})},g=(0,r.createContext)(),x=()=>{const e=(0,r.useContext)(g);if(!e)throw new Error("useNotices must be used within a NoticeProvider");return e},b=e=>{let{children:t}=e;const[n,a]=(0,r.useState)([{id:1,type:"urgent",title:"Tournament Registration Fee Cap",content:"All tournament organizers must comply with the new registration fee cap of RM200 per Malaysian participant. This is now mandatory for all sanctioned tournaments.",date:"2024-12-12",active:!0,actions:[]}]);return(0,s.jsx)(g.Provider,{value:{notices:n,setNotices:a,addNotice:e=>{const t=h(h({},e),{},{id:Date.now()});a(e=>[t,...e])},updateNotice:(e,t)=>{a(n=>n.map(n=>n.id===e?h(h({},t),{},{id:e}):n))},deleteNotice:e=>{a(t=>t.filter(t=>t.id!==e))},toggleNoticeActive:e=>{a(t=>t.map(t=>t.id===e?h(h({},t),{},{active:!t.active}):t))},getActiveNotices:()=>n.filter(e=>e.active)},children:t})},y=e=>{let{questions:t,setQuestions:n,timeLimit:a,setTimeLimit:i,assessmentTitle:o,setAssessmentTitle:l,assessmentTitleMalay:c,setAssessmentTitleMalay:d,assessmentSubtitle:u,setAssessmentSubtitle:p,assessmentSubtitleMalay:f,setAssessmentSubtitleMalay:m,passingScore:g,setPassingScore:x,submissions:b=[],savedForms:y=[],onSaveForm:v,onSaveDraft:w}=e;const[j,S]=(0,r.useState)({question:"",questionMalay:"",section:"",options:[],correctAnswer:"",hasImage:!1,imageUrl:""}),[N,k]=(0,r.useState)([]),[C,A]=(0,r.useState)(""),[_,P]=(0,r.useState)(null),L=()=>{C.trim()&&!N.includes(C.trim())&&(k(e=>[...e,C.trim()]),S(e=>h(h({},e),{},{section:C.trim()})),A(""))},T=e=>{S({question:e.question,questionMalay:e.questionMalay||"",section:e.section||"",options:[...e.options],correctAnswer:e.correctAnswer,hasImage:e.hasImage||!1,imageUrl:e.imageUrl||""}),P(e.id)},E=e=>{window.confirm("Delete this question?")&&n(t=>t.filter(t=>t.id!==e))},z=()=>{S({question:"",questionMalay:"",section:"",options:[],correctAnswer:"",hasImage:!1,imageUrl:""}),P(null)};return(0,s.jsx)("div",{className:"assessment-form-container",children:(0,s.jsxs)("form",{className:"tournament-form",children:[(0,s.jsxs)("div",{className:"form-section",style:{padding:"30px",border:"2px solid #000",borderRadius:"12px",backgroundColor:"#fff",marginBottom:"25px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 25px 0",fontSize:"20px",fontWeight:"bold",color:"#000",paddingBottom:"15px",borderBottom:"2px solid #000"},children:"Assessment Settings"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Assessment Title (English) *"}),(0,s.jsx)("input",{type:"text",id:"assessmentTitle",placeholder:"e.g., Basic Pickleball Rules, Tournament Organizer Certification",value:o,onChange:e=>l(e.target.value),style:{width:"100%",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"16px"},required:!0}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"8px",display:"block"},children:"This helps identify what type of assessment participants are taking"})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"0"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Time Limit (minutes) *"}),(0,s.jsx)("input",{type:"number",id:"timeLimit",value:a,onChange:e=>i(parseInt(e.target.value)||30),min:"1",max:"180",style:{width:"100%",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"16px"},required:!0})]})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Assessment Title (Bahasa Melayu)"}),(0,s.jsx)("input",{type:"text",id:"assessmentTitleMalay",placeholder:"Contoh: Peraturan Asas Pickleball, Pensijilan Penganjur Kejohanan",value:c||"",onChange:e=>d(e.target.value),style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"16px",fontStyle:"italic"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block",fontStyle:"italic"},children:"Optional Malay translation that will be displayed in italic below the English title"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Sub-Title (English)"}),(0,s.jsx)("input",{type:"text",id:"assessmentSubtitle",placeholder:"e.g., Level 1 Certification, Beginner Course",value:u||"",onChange:e=>p(e.target.value),style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"8px",display:"block"},children:"Optional subtitle to provide additional context or level information"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Sub-Title (Bahasa Melayu)"}),(0,s.jsx)("input",{type:"text",id:"assessmentSubtitleMalay",placeholder:"Contoh: Pensijilan Tahap 1, Kursus Pemula",value:f||"",onChange:e=>m(e.target.value),style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",fontStyle:"italic"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block",fontStyle:"italic"},children:"Optional Malay translation that will be displayed in italic below the English subtitle"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Passing Score (%) *"}),(0,s.jsx)("input",{type:"number",id:"passingScore",value:g,onChange:e=>x(parseInt(e.target.value)||70),min:"1",max:"100",style:{width:"100%",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"16px"},required:!0}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:"Minimum percentage score required to pass the assessment"})]})]}),(0,s.jsxs)("div",{className:"form-section",style:{padding:"30px",border:"2px solid #000",borderRadius:"12px",backgroundColor:"#f9f9f9",marginBottom:"25px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px",paddingBottom:"15px",borderBottom:"2px solid #000"},children:[(0,s.jsx)("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#000"},children:_?"Edit Question":"Add New Question"}),_&&(0,s.jsx)("button",{type:"button",onClick:()=>{z()},style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Cancel Edit"})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Section *"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"15px"},children:[(0,s.jsxs)("select",{id:"questionSection",value:j.section,onChange:e=>S(t=>h(h({},t),{},{section:e.target.value})),style:{width:"100%",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"14px"},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select or create section"}),N.map((e,t)=>(0,s.jsx)("option",{value:e,children:e},t))]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,s.jsx)("input",{type:"text",id:"newSection",placeholder:"New section...",value:C,onChange:e=>A(e.target.value),onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),L()),style:{flex:1,padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}}),(0,s.jsx)("button",{type:"button",onClick:L,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"12px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Add"})]})]})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:[(0,s.jsx)("input",{type:"checkbox",checked:j.hasImage,onChange:e=>S(t=>h(h({},t),{},{hasImage:e.target.checked,imageUrl:""})),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,s.jsx)("span",{children:"This question includes a diagram/image"})]}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block",marginLeft:"26px"},children:"Check this box if you plan to upload a diagram or image for this question"}),j.hasImage&&(0,s.jsxs)("div",{style:{marginTop:"15px",marginLeft:"26px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Upload Image/Diagram *"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){S(e=>h(h({},e),{},{imageUrl:"uploading"}));try{const e=new FormData;e.append("image",t);const n=await fetch("/api/assessment/upload-image",{method:"POST",body:e}),r=await n.json();r.success?S(e=>h(h({},e),{},{imageUrl:r.imageUrl})):(alert("Failed to upload image: "+(r.message||"Unknown error")),S(e=>h(h({},e),{},{imageUrl:""})))}catch(n){console.error("Error uploading image:",n),alert("Failed to upload image. Please try again."),S(e=>h(h({},e),{},{imageUrl:""}))}}},style:{padding:"8px",border:"2px solid #000",borderRadius:"4px",fontSize:"14px",width:"100%",maxWidth:"400px"}}),"uploading"===j.imageUrl&&(0,s.jsx)("div",{style:{marginTop:"15px",padding:"20px",textAlign:"center",color:"#007bff"},children:(0,s.jsx)("p",{style:{fontSize:"14px",fontWeight:"bold"},children:"Uploading image to Cloudinary..."})}),j.imageUrl&&"uploading"!==j.imageUrl&&(0,s.jsxs)("div",{style:{marginTop:"15px"},children:[(0,s.jsx)("p",{style:{fontSize:"12px",fontWeight:"bold",marginBottom:"8px"},children:"Preview:"}),(0,s.jsx)("img",{src:j.imageUrl,alt:"Question diagram",style:{maxWidth:"100%",maxHeight:"300px",border:"2px solid #000",borderRadius:"8px",objectFit:"contain"}}),(0,s.jsx)("button",{type:"button",onClick:()=>S(e=>h(h({},e),{},{imageUrl:""})),style:{marginTop:"10px",backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove Image"})]})]})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Question (English) *"}),(0,s.jsx)("textarea",{id:"questionText",placeholder:"Enter your question here",value:j.question,onChange:e=>S(t=>h(h({},t),{},{question:e.target.value})),rows:"3",style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",resize:"vertical"},required:!0})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Question (Bahasa Melayu)"}),(0,s.jsx)("textarea",{id:"questionTextMalay",placeholder:"Masukkan soalan dalam Bahasa Melayu di sini",value:j.questionMalay,onChange:e=>S(t=>h(h({},t),{},{questionMalay:e.target.value})),rows:"3",style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",fontStyle:"italic",resize:"vertical"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block",fontStyle:"italic"},children:"Optional Malay translation that will be displayed in italic below the English question"})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",fontSize:"14px",margin:0},children:"Answer Options *"}),(0,s.jsx)("button",{type:"button",onClick:()=>{S(e=>h(h({},e),{},{options:[...e.options,{text:"",malay:""}]}))},style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"+ Add Option"})]}),0===j.options.length?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",border:"2px dashed #ccc",borderRadius:"8px",backgroundColor:"#f8f9fa"},children:(0,s.jsx)("p",{children:'No options yet. Click "Add Option" to get started.'})}):(0,s.jsx)("div",{style:{display:"grid",gap:"20px"},children:j.options.map((e,t)=>{const n="string"===typeof e?e:e.text||"",r="object"===typeof e&&e.malay||"";return(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"#f8f9fa"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"10px"},children:[(0,s.jsxs)("span",{style:{fontWeight:"bold",minWidth:"30px",fontSize:"16px",color:"#007bff"},children:[String.fromCharCode(65+t),":"]}),(0,s.jsx)("button",{type:"button",onClick:()=>{return e=t,void S(t=>{const n=t.options[e],r="string"===typeof n?n:n.text;return h(h({},t),{},{options:t.options.filter((t,n)=>n!==e),correctAnswer:t.correctAnswer===r?"":t.correctAnswer})});var e},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"6px 10px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginLeft:"auto"},children:"Remove"})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",display:"block",marginBottom:"4px"},children:"English *"}),(0,s.jsx)("input",{type:"text",placeholder:"Option ".concat(String.fromCharCode(65+t)," in English"),value:n,onChange:e=>((e,t)=>{S(n=>{const r=[...n.options];return"string"===typeof r[e]?r[e]={text:t,malay:""}:r[e]=h(h({},r[e]),{},{text:t}),h(h({},n),{},{options:r})})})(t,e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",display:"block",marginBottom:"4px",fontStyle:"italic"},children:"Bahasa Melayu"}),(0,s.jsx)("input",{type:"text",placeholder:"Pilihan ".concat(String.fromCharCode(65+t)," dalam Bahasa Melayu"),value:r,onChange:e=>((e,t)=>{S(n=>{const r=[...n.options];return"string"===typeof r[e]?r[e]={text:r[e],malay:t}:r[e]=h(h({},r[e]),{},{malay:t}),h(h({},n),{},{options:r})})})(t,e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",fontStyle:"italic"}})]})]},t)})})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontSize:"14px"},children:"Correct Answer *"}),(0,s.jsxs)("select",{id:"correctAnswer",value:j.correctAnswer,onChange:e=>S(t=>h(h({},t),{},{correctAnswer:e.target.value})),style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select correct answer"}),j.options.map((e,t)=>{const n="string"===typeof e?e:e.text||"",r="object"===typeof e&&e.malay||"";return n.trim()&&(0,s.jsxs)("option",{value:n,children:[String.fromCharCode(65+t),": ",n,r&&" (".concat(r,")")]},t)})]})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",paddingTop:"20px",borderTop:"1px solid #dee2e6"},children:[_&&(0,s.jsx)("button",{type:"button",onClick:z,style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Cancel"}),(0,s.jsx)("button",{type:"button",onClick:e=>{var t;if(e.preventDefault(),!(j?j.question&&"string"===typeof j.question&&j.question.trim()?j.section&&"string"===typeof j.section&&j.section.trim()?!j.options||j.options.length<2?(alert("Please add at least 2 options"),0):j.options.some(e=>"string"===typeof e?!e||!e.trim():!e||!e.text||!e.text.trim())?(alert("Please fill in all options"),0):j.correctAnswer&&"string"===typeof j.correctAnswer&&j.correctAnswer.trim()?!j.hasImage||j.imageUrl&&j.imageUrl.trim()&&"uploading"!==j.imageUrl||("uploading"===j.imageUrl?alert("Please wait for the image to finish uploading"):alert("Please upload an image/diagram for this question"),0):(alert("Please select the correct answer"),0):(alert("Please select or enter a section"),0):(alert("Please enter a question"),0):(alert("Question data is missing"),0)))return;const r={id:_||Date.now(),question:j.question.trim(),questionMalay:(null===(t=j.questionMalay)||void 0===t?void 0:t.trim())||"",section:j.section.trim(),options:j.options.map(e=>{var t,n;return"string"===typeof e?{text:e.trim(),malay:""}:{text:(null===(t=e.text)||void 0===t?void 0:t.trim())||"",malay:(null===(n=e.malay)||void 0===n?void 0:n.trim())||""}}),correctAnswer:j.correctAnswer.trim(),hasCorrectAnswer:!0,hasImage:j.hasImage||!1,imageUrl:j.imageUrl||""};N.includes(r.section)||k(e=>[...e,r.section]),_?(n(e=>e.map(e=>e.id===_?r:e)),P(null)):n(e=>[...e,r]),S({question:"",questionMalay:"",section:j.section,options:[],correctAnswer:"",hasImage:!1,imageUrl:""})},style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:_?"Update Question":"Add Question"})]})]}),(0,s.jsxs)("div",{className:"form-section",style:{padding:"15px"},children:[(0,s.jsxs)("h3",{style:{marginBottom:"15px"},children:["Questions (",t.length,")"]}),0===t.length?(0,s.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"rgba(0, 0, 0, 0.5)"},children:(0,s.jsx)("p",{children:"No questions yet. Add your first question above."})}):(0,s.jsx)("div",{children:0===N.length?(0,s.jsx)("div",{style:{display:"grid",gap:"10px"},children:t.map((e,t)=>(0,s.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"12px"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("h4",{style:{color:"#000",margin:"0 0 8px 0",fontSize:"16px"},children:["Q",t+1,": ",e.question,e.imageUrl&&(0,s.jsx)("span",{style:{marginLeft:"8px",padding:"2px 8px",backgroundColor:"#007bff",color:"white",fontSize:"10px",borderRadius:"4px",fontWeight:"normal"},children:"\ud83d\udcf7 Has Image"}),e.questionMalay&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontWeight:"normal",fontSize:"14px",color:"#666",marginTop:"4px"},children:e.questionMalay})]}),e.imageUrl&&(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)("img",{src:e.imageUrl,alt:"Question diagram",style:{maxWidth:"200px",maxHeight:"150px",border:"1px solid #ddd",borderRadius:"4px",objectFit:"contain"}})}),(0,s.jsx)("div",{style:{display:"grid",gap:"3px"},children:e.options.map((t,n)=>{const r="string"===typeof t?t:t.text,a="object"===typeof t?t.malay:null,i=r===e.correctAnswer;return(0,s.jsxs)("div",{style:{color:i?"#28a745":"#000",fontWeight:i?"bold":"normal",fontSize:"14px"},children:[i&&"\u2713 ",r,a&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontSize:"12px",color:"#666",marginTop:"2px",marginLeft:i?"16px":"0px"},children:a})]},n)})})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,s.jsx)("button",{type:"button",onClick:()=>T(e),className:"view-btn-table",style:{padding:"6px 12px",fontSize:"13px"},children:"Edit"}),(0,s.jsx)("button",{type:"button",onClick:()=>E(e.id),className:"delete-btn-table",style:{padding:"6px 12px",fontSize:"13px"},children:"Delete"})]})]})},e.id))}):N.map(e=>{const n=t.filter(t=>t.section===e);return 0===n.length?null:(0,s.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,s.jsxs)("h4",{style:{color:"#007bff",marginBottom:"15px",fontSize:"18px"},children:[e," (",n.length," questions)"]}),(0,s.jsx)("div",{style:{display:"grid",gap:"15px"},children:n.map((e,n)=>(0,s.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"20px"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("h5",{style:{color:"#000",margin:"0 0 10px 0"},children:["Q",t.indexOf(e)+1,": ",e.question,e.imageUrl&&(0,s.jsx)("span",{style:{marginLeft:"8px",padding:"2px 8px",backgroundColor:"#007bff",color:"white",fontSize:"10px",borderRadius:"4px",fontWeight:"normal"},children:"\ud83d\udcf7 Has Image"}),e.questionMalay&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontWeight:"normal",fontSize:"13px",color:"#666",marginTop:"4px"},children:e.questionMalay})]}),e.imageUrl&&(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)("img",{src:e.imageUrl,alt:"Question diagram",style:{maxWidth:"200px",maxHeight:"150px",border:"1px solid #ddd",borderRadius:"4px",objectFit:"contain"}})}),(0,s.jsx)("div",{style:{display:"grid",gap:"5px"},children:e.options.map((t,n)=>{const r="string"===typeof t?t:t.text,a="object"===typeof t?t.malay:null,i=r===e.correctAnswer;return(0,s.jsxs)("div",{style:{color:i?"#28a745":"#000",fontWeight:i?"bold":"normal"},children:[i&&"\u2713 ",r,a&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontSize:"12px",color:"#666",marginTop:"2px",marginLeft:i?"16px":"0px"},children:a})]},n)})})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,s.jsx)("button",{type:"button",onClick:()=>T(e),className:"view-btn-table",children:"Edit"}),(0,s.jsx)("button",{type:"button",onClick:()=>E(e.id),className:"delete-btn-table",children:"Delete"})]})]})},e.id))})]},e)})})]}),(0,s.jsx)("div",{className:"form-section",style:{padding:"20px",marginTop:"20px",backgroundColor:"rgba(0, 123, 255, 0.05)",border:"2px solid #007bff"},children:(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center",alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsx)("button",{type:"button",onClick:async()=>{const e=await v();e&&alert("Form saved successfully! Form Code: ".concat(e,"\n\nUsers can use this code to access the assessment."))},className:"home-btn",style:{fontSize:"16px",padding:"12px 24px"},children:"Save Form & Generate Code"}),(0,s.jsx)("button",{type:"button",onClick:async()=>{if(w){await w()&&alert("Draft saved successfully! You can continue working on it later.")}},className:"home-btn",style:{fontSize:"16px",padding:"12px 24px",backgroundColor:"#6c757d",borderColor:"#6c757d"},children:"Save as Draft"})]}),(0,s.jsx)("p",{style:{color:"rgba(0, 0, 0, 0.6)",fontSize:"14px",margin:"10px 0 0 0"},children:"Generate a 5-character code for users to access this assessment, or save as draft to continue later"})]})})]})})};var v=n(2284),w=Uint8Array,j=Uint16Array,S=Int32Array,N=new w([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),k=new w([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C=new w([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A=function(e,t){for(var n=new j(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new S(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},_=A(N,2),P=_.b,L=_.r;P[28]=258,L[258]=28;for(var T=A(k,0),E=(T.b,T.r),z=new j(32768),R=0;R<32768;++R){var F=(43690&R)>>1|(21845&R)<<1;F=(61680&(F=(52428&F)>>2|(13107&F)<<2))>>4|(3855&F)<<4,z[R]=((65280&F)>>8|(255&F)<<8)>>1}var I=function(e,t,n){for(var r=e.length,a=0,i=new j(t);a<r;++a)e[a]&&++i[e[a]-1];var s,o=new j(t);for(a=1;a<t;++a)o[a]=o[a-1]+i[a-1]<<1;if(n){s=new j(1<<t);var l=15-t;for(a=0;a<r;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],u=o[e[a]-1]++<<d,h=u|(1<<d)-1;u<=h;++u)s[z[u]>>l]=c}else for(s=new j(r),a=0;a<r;++a)e[a]&&(s[a]=z[o[e[a]-1]++]>>15-e[a]);return s},D=new w(288);for(R=0;R<144;++R)D[R]=8;for(R=144;R<256;++R)D[R]=9;for(R=256;R<280;++R)D[R]=7;for(R=280;R<288;++R)D[R]=8;var M=new w(32);for(R=0;R<32;++R)M[R]=5;var O=I(D,9,0),B=I(M,5,0),q=function(e){return(e+7)/8|0},U=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new w(e.subarray(t,n))},W=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},H=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},V=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:$,l:0};if(1==a){var s=new w(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,d=1,u=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=n[n[c].f<n[u].f?c++:u++],l=n[c!=d&&n[c].f<n[u].f?c++:u++],n[d++]={s:-1,f:o.f+l.f,l:o,r:l};var h=i[0].s;for(r=1;r<a;++r)i[r].s>h&&(h=i[r].s);var p=new j(h+1),f=G(n[d-1],p,0);if(f>t){r=0;var m=0,g=f-t,x=1<<g;for(i.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});r<a;++r){var b=i[r].s;if(!(p[b]>t))break;m+=x-(1<<f-p[b]),p[b]=t}for(m>>=g;m>0;){var y=i[r].s;p[y]<t?m-=1<<t-p[y]++-1:++r}for(;r>=0&&m;--r){var v=i[r].s;p[v]==t&&(--p[v],++m)}f=t}return{t:new w(p),l:f}},G=function(e,t,n){return-1==e.s?Math.max(G(e.l,t,n+1),G(e.r,t,n+1)):t[e.s]=n},Y=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new j(++t),r=0,a=e[0],i=1,s=function(e){n[r++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:n.subarray(0,r),n:t}},K=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},J=function(e,t,n){var r=n.length,a=q(t+2);e[a]=255&r,e[a+1]=r>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<r;++i)e[a+i+4]=n[i];return 8*(a+4+r)},Q=function(e,t,n,r,a,i,s,o,l,c,d){W(t,d++,n),++a[256];for(var u=V(a,15),h=u.t,p=u.l,f=V(i,15),m=f.t,g=f.l,x=Y(h),b=x.c,y=x.n,v=Y(m),w=v.c,S=v.n,A=new j(19),_=0;_<b.length;++_)++A[31&b[_]];for(_=0;_<w.length;++_)++A[31&w[_]];for(var P=V(A,7),L=P.t,T=P.l,E=19;E>4&&!L[C[E-1]];--E);var z,R,F,q,U=c+5<<3,G=K(a,D)+K(i,M)+s,Q=K(a,h)+K(i,m)+s+14+3*E+K(A,L)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&U<=G&&U<=Q)return J(t,d,e.subarray(l,l+c));if(W(t,d,1+(Q<G)),d+=2,Q<G){z=I(h,p,0),R=h,F=I(m,g,0),q=m;var X=I(L,T,0);W(t,d,y-257),W(t,d+5,S-1),W(t,d+10,E-4),d+=14;for(_=0;_<E;++_)W(t,d+3*_,L[C[_]]);d+=3*E;for(var $=[b,w],Z=0;Z<2;++Z){var ee=$[Z];for(_=0;_<ee.length;++_){var te=31&ee[_];W(t,d,X[te]),d+=L[te],te>15&&(W(t,d,ee[_]>>5&127),d+=ee[_]>>12)}}}else z=O,R=D,F=B,q=M;for(_=0;_<o;++_){var ne=r[_];if(ne>255){H(t,d,z[(te=ne>>18&31)+257]),d+=R[te+257],te>7&&(W(t,d,ne>>23&31),d+=N[te]);var re=31&ne;H(t,d,F[re]),d+=q[re],re>3&&(H(t,d,ne>>5&8191),d+=k[re])}else H(t,d,z[ne]),d+=R[ne]}return H(t,d,z[256]),d+R[256]},X=new S([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$=new w(0),Z=function(e,t,n,r,a,i){var s=i.z||e.length,o=new w(r+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(r,o.length-a),c=i.l,d=7&(i.r||0);if(t){d&&(l[0]=i.r>>3);for(var u=X[t-1],h=u>>13,p=8191&u,f=(1<<n)-1,m=i.p||new j(32768),g=i.h||new j(f+1),x=Math.ceil(n/3),b=2*x,y=function(t){return(e[t]^e[t+1]<<x^e[t+2]<<b)&f},v=new S(25e3),C=new j(288),A=new j(32),_=0,P=0,T=i.i||0,z=0,R=i.w||0,F=0;T+2<s;++T){var I=y(T),D=32767&T,M=g[I];if(m[D]=M,g[I]=D,R<=T){var O=s-T;if((_>7e3||z>24576)&&(O>423||!c)){d=Q(e,l,0,v,C,A,P,z,F,T-F,d),z=_=P=0,F=T;for(var B=0;B<286;++B)C[B]=0;for(B=0;B<30;++B)A[B]=0}var W=2,H=0,V=p,G=D-M&32767;if(O>2&&I==y(T-G))for(var Y=Math.min(h,O)-1,K=Math.min(32767,T),$=Math.min(258,O);G<=K&&--V&&D!=M;){if(e[T+W]==e[T+W-G]){for(var Z=0;Z<$&&e[T+Z]==e[T+Z-G];++Z);if(Z>W){if(W=Z,H=G,Z>Y)break;var ee=Math.min(G,Z-2),te=0;for(B=0;B<ee;++B){var ne=T-G+B&32767,re=ne-m[ne]&32767;re>te&&(te=re,M=ne)}}}G+=(D=M)-(M=m[D])&32767}if(H){v[z++]=268435456|L[W]<<18|E[H];var ae=31&L[W],ie=31&E[H];P+=N[ae]+k[ie],++C[257+ae],++A[ie],R=T+W,++_}else v[z++]=e[T],++C[e[T]]}}for(T=Math.max(T,R);T<s;++T)v[z++]=e[T],++C[e[T]];d=Q(e,l,c,v,C,A,P,z,F,T-F,d),c||(i.r=7&d|l[d/8|0]<<3,d-=7,i.h=g,i.p=m,i.i=T,i.w=R)}else{for(T=i.w||0;T<s+c;T+=65535){var se=T+65535;se>=s&&(l[d/8|0]=c,se=s),d=J(l,d+1,e.subarray(T,se))}i.i=s}return U(o,0,r+q(d)+a)},ee=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=0|n.length,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=r+=n[s];r=(65535&r)+15*(r>>16),a=(65535&a)+15*(a>>16)}e=r,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},te=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new w(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Z(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},ne=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},re=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=ee();a.p(t.dictionary),ne(e,2,a.d())}};function ae(e,t){t||(t={});var n=ee();n.p(e);var r=te(e,t,t.dictionary?6:2,4);return re(r,t),ne(r,r.length-4,n.d()),r}var ie="undefined"!=typeof TextDecoder&&new TextDecoder;try{ie.decode($,{stream:!0})}catch(To){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,s,o=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return se(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const ce=new TextEncoder;const de=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),ue={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class he{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,d.A)(this,"buffer",void 0),(0,d.A)(this,"byteLength",void 0),(0,d.A)(this,"byteOffset",void 0),(0,d.A)(this,"length",void 0),(0,d.A)(this,"offset",void 0),(0,d.A)(this,"lastWrittenByte",void 0),(0,d.A)(this,"littleEndian",void 0),(0,d.A)(this,"_data",void 0),(0,d.A)(this,"_mark",void 0),(0,d.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,a=e.byteLength-r;let i=r;(ArrayBuffer.isView(e)||e instanceof he)&&(e.byteLength!==e.buffer.byteLength&&(i=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=i,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,i,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=ue[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+n);if(this.littleEndian===de&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(r,r+n));e.reverse();const a=new ue[t](e.buffer);return this.offset+=n,a.reverse(),a}const i=new ue[t](a);return this.offset+=n,i}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return le(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return le(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return ce.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function pe(e){let t=e.length;for(;--t>=0;)e[t]=0}const fe=256,me=286,ge=30,xe=15,be=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ye=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ve=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),we=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),je=new Array(576);pe(je);const Se=new Array(60);pe(Se);const Ne=new Array(512);pe(Ne);const ke=new Array(256);pe(ke);const Ce=new Array(29);pe(Ce);const Ae=new Array(ge);function _e(e,t,n,r,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=a,this.has_stree=e&&e.length}let Pe,Le,Te;function Ee(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}pe(Ae);const ze=e=>e<256?Ne[e]:Ne[256+(e>>>7)],Re=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},Fe=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Re(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Ie=(e,t,n)=>{Fe(e,n[2*t],n[2*t+1])},De=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Me=(e,t,n)=>{const r=new Array(16);let a,i,s=0;for(a=1;a<=xe;a++)s=s+n[a-1]<<1,r[a]=s;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=De(r[t]++,t))}},Oe=e=>{let t;for(t=0;t<me;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ge;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Be=e=>{e.bi_valid>8?Re(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},qe=(e,t,n,r)=>{const a=2*t,i=2*n;return e[a]<e[i]||e[a]===e[i]&&r[t]<=r[n]},Ue=(e,t,n)=>{const r=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&qe(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!qe(t,r,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=r},We=(e,t,n)=>{let r,a,i,s,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===r?Ie(e,a,t):(i=ke[a],Ie(e,i+fe+1,t),s=be[i],0!==s&&(a-=Ce[i],Fe(e,a,s)),r--,i=ze(r),Ie(e,i,n),s=ye[i],0!==s&&(r-=Ae[i],Fe(e,r,s)))}while(o<e.sym_next);Ie(e,256,t)},He=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<i;s++)0!==n[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=r[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)Ue(e,n,s);l=i;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ue(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[2*l]=n[2*s]+n[2*o],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[2*s+1]=n[2*o+1]=l,e.heap[1]=l++,Ue(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,f,m=0;for(h=0;h<=xe;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,m++),n[2*d+1]=h,d>r||(e.bl_count[h]++,p=0,d>=o&&(p=s[d-o]),f=n[2*d],e.opt_len+=f*(h+p),i&&(e.static_len+=f*(a[2*d+1]+p)));if(0!==m){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>r||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),Me(n,c,e.bl_count)},Ve=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)a=s,s=t[2*(r+1)+1],++o<l&&a===s||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=a,0===s?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4))},Ge=(e,t,n)=>{let r,a,i=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(a=s,s=t[2*(r+1)+1],!(++o<l&&a===s)){if(o<c)do{Ie(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==i&&(Ie(e,a,e.bl_tree),o--),Ie(e,16,e.bl_tree),Fe(e,o-3,2)):o<=10?(Ie(e,17,e.bl_tree),Fe(e,o-3,3)):(Ie(e,18,e.bl_tree),Fe(e,o-11,7));o=0,i=a,0===s?(l=138,c=3):a===s?(l=6,c=3):(l=7,c=4)}};let Ye=!1;const Ke=(e,t,n,r)=>{Fe(e,0+(r?1:0),3),Be(e),Re(e,n),Re(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Je=e=>{Ye||((()=>{let e,t,n,r,a;const i=new Array(16);for(n=0,r=0;r<28;r++)for(Ce[r]=n,e=0;e<1<<be[r];e++)ke[n++]=r;for(ke[n-1]=r,a=0,r=0;r<16;r++)for(Ae[r]=a,e=0;e<1<<ye[r];e++)Ne[a++]=r;for(a>>=7;r<ge;r++)for(Ae[r]=a<<7,e=0;e<1<<ye[r]-7;e++)Ne[256+a++]=r;for(t=0;t<=xe;t++)i[t]=0;for(e=0;e<=143;)je[2*e+1]=8,e++,i[8]++;for(;e<=255;)je[2*e+1]=9,e++,i[9]++;for(;e<=279;)je[2*e+1]=7,e++,i[7]++;for(;e<=287;)je[2*e+1]=8,e++,i[8]++;for(Me(je,287,i),e=0;e<ge;e++)Se[2*e+1]=5,Se[2*e]=De(e,5);Pe=new _e(je,be,257,me,xe),Le=new _e(Se,ye,0,ge,xe),Te=new _e(new Array(0),ve,0,19,7)})(),Ye=!0),e.l_desc=new Ee(e.dyn_ltree,Pe),e.d_desc=new Ee(e.dyn_dtree,Le),e.bl_desc=new Ee(e.bl_tree,Te),e.bi_buf=0,e.bi_valid=0,Oe(e)},Qe=(e,t,n,r)=>{let a,i,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<fe;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),He(e,e.l_desc),He(e,e.d_desc),s=(e=>{let t;for(Ve(e,e.dyn_ltree,e.l_desc.max_code),Ve(e,e.dyn_dtree,e.d_desc.max_code),He(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*we[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=n+5,n+4<=a&&-1!==t?Ke(e,t,n,r):4===e.strategy||i===a?(Fe(e,2+(r?1:0),3),We(e,je,Se)):(Fe(e,4+(r?1:0),3),((e,t,n,r)=>{let a;for(Fe(e,t-257,5),Fe(e,n-1,5),Fe(e,r-4,4),a=0;a<r;a++)Fe(e,e.bl_tree[2*we[a]+1],3);Ge(e,e.dyn_ltree,t-1),Ge(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),We(e,e.dyn_ltree,e.dyn_dtree)),Oe(e),r&&Be(e)},Xe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ke[n]+fe+1)]++,e.dyn_dtree[2*ze(t)]++),e.sym_next===e.sym_end),$e=e=>{Fe(e,2,3),Ie(e,256,je),(e=>{16===e.bi_valid?(Re(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},Ze={_tr_init:Je,_tr_stored_block:Ke,_tr_flush_block:Qe,_tr_tally:Xe,_tr_align:$e};var et=(e,t,n,r)=>{let a=65535&e,i=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{a=a+t[r++]|0,i=i+a|0}while(--s);a%=65521,i%=65521}return a|i<<16};const tt=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var nt=(e,t,n,r)=>{const a=tt,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^a[255&(e^t[s])];return-1^e},rt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},at={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:it,_tr_stored_block:st,_tr_flush_block:ot,_tr_tally:lt,_tr_align:ct}=Ze,{Z_NO_FLUSH:dt,Z_PARTIAL_FLUSH:ut,Z_FULL_FLUSH:ht,Z_FINISH:pt,Z_BLOCK:ft,Z_OK:mt,Z_STREAM_END:gt,Z_STREAM_ERROR:xt,Z_DATA_ERROR:bt,Z_BUF_ERROR:yt,Z_DEFAULT_COMPRESSION:vt,Z_FILTERED:wt,Z_HUFFMAN_ONLY:jt,Z_RLE:St,Z_FIXED:Nt,Z_DEFAULT_STRATEGY:kt,Z_UNKNOWN:Ct,Z_DEFLATED:At}=at,_t=258,Pt=262,Lt=42,Tt=113,Et=666,zt=(e,t)=>(e.msg=rt[t],t),Rt=e=>2*e-(e>4?9:0),Ft=e=>{let t=e.length;for(;--t>=0;)e[t]=0},It=e=>{let t,n,r,a=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=a?n-a:0}while(--t);t=a,r=t;do{n=e.prev[--r],e.prev[r]=n>=a?n-a:0}while(--t)};let Dt=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Mt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ot=(e,t)=>{ot(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Mt(e.strm)},Bt=(e,t)=>{e.pending_buf[e.pending++]=t},qt=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ut=(e,t,n,r)=>{let a=e.avail_in;return a>r&&(a=r),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=et(e.adler,t,a,n):2===e.state.wrap&&(e.adler=nt(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},Wt=(e,t)=>{let n,r,a=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-Pt?e.strstart-(e.w_size-Pt):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+_t;let p=c[i+s-1],f=c[i+s];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+s]===f&&c[n+s-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<h);if(r=_t-(h-i),i=h-_t,r>s){if(e.match_start=t,s=r,r>=o)break;p=c[i+s-1],f=c[i+s]}}}while((t=u[t&d])>l&&0!==--a);return s<=e.lookahead?s:e.lookahead},Ht=e=>{const t=e.w_size;let n,r,a;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Pt)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),It(e),r+=t),0===e.strm.avail_in)break;if(n=Ut(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Dt(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Dt(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Pt&&0!==e.strm.avail_in)},Vt=(e,t)=>{let n,r,a,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>a&&(n=a),n<i&&(0===n&&t!==pt||t===dt||n!==r+e.strm.avail_in))break;s=t===pt&&n===r+e.strm.avail_in?1:0,st(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Mt(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Ut(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==dt&&t!==pt&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ut(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,i=a>e.w_size?e.w_size:a,r=e.strstart-e.block_start,(r>=i||(r||t===pt)&&t!==dt&&0===e.strm.avail_in&&r<=a)&&(n=r>a?a:r,s=t===pt&&0===e.strm.avail_in&&n===r?1:0,st(e,e.block_start,n,s),e.block_start+=n,Mt(e.strm)),s?3:1)},Gt=(e,t)=>{let n,r;for(;;){if(e.lookahead<Pt){if(Ht(e),e.lookahead<Pt&&t===dt)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Dt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Pt&&(e.match_length=Wt(e,n)),e.match_length>=3)if(r=lt(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Dt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Dt(e,e.ins_h,e.window[e.strstart+1]);else r=lt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ot(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===pt?(Ot(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ot(e,!1),0===e.strm.avail_out)?1:2},Yt=(e,t)=>{let n,r,a;for(;;){if(e.lookahead<Pt){if(Ht(e),e.lookahead<Pt&&t===dt)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Dt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Pt&&(e.match_length=Wt(e,n),e.match_length<=5&&(e.strategy===wt||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,r=lt(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=Dt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ot(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=lt(e,0,e.window[e.strstart-1]),r&&Ot(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=lt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===pt?(Ot(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ot(e,!1),0===e.strm.avail_out)?1:2};function Kt(e,t,n,r,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=a}const Jt=[new Kt(0,0,0,0,Vt),new Kt(4,4,8,4,Gt),new Kt(4,5,16,8,Gt),new Kt(4,6,32,32,Gt),new Kt(4,4,16,16,Yt),new Kt(8,16,32,32,Yt),new Kt(8,16,128,128,Yt),new Kt(8,32,128,256,Yt),new Kt(32,128,258,1024,Yt),new Kt(32,258,258,4096,Yt)];function Qt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=At,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ft(this.dyn_ltree),Ft(this.dyn_dtree),Ft(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ft(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ft(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Xt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Lt&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Tt&&t.status!==Et?1:0},$t=e=>{if(Xt(e))return zt(e,xt);e.total_in=e.total_out=0,e.data_type=Ct;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Lt:Tt,e.adler=2===t.wrap?0:1,t.last_flush=-2,it(t),mt},Zt=e=>{const t=$t(e);return t===mt&&(e=>{e.window_size=2*e.w_size,Ft(e.head),e.max_lazy_match=Jt[e.level].max_lazy,e.good_match=Jt[e.level].good_length,e.nice_match=Jt[e.level].nice_length,e.max_chain_length=Jt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},en=(e,t,n,r,a,i)=>{if(!e)return xt;let s=1;if(t===vt&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||n!==At||r<8||r>15||t<0||t>9||i<0||i>Nt||8===r&&1!==s)return zt(e,xt);8===r&&(r=9);const o=new Qt;return e.state=o,o.strm=e,o.status=Lt,o.wrap=s,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=i,o.method=n,Zt(e)};var tn=(e,t)=>{if(Xt(e)||t>ft||t<0)return e?zt(e,xt):xt;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Et&&t!==pt)return zt(e,0===e.avail_out?yt:xt);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Mt(e),0===e.avail_out)return n.last_flush=-1,mt}else if(0===e.avail_in&&Rt(t)<=Rt(r)&&t!==pt)return zt(e,yt);if(n.status===Et&&0!==e.avail_in)return zt(e,yt);if(n.status===Lt&&0===n.wrap&&(n.status=Tt),n.status===Lt){let t=At+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=jt||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,qt(n,t),0!==n.strstart&&(qt(n,e.adler>>>16),qt(n,65535&e.adler)),e.adler=1,n.status=Tt,Mt(e),0!==n.pending)return n.last_flush=-1,mt}if(57===n.status)if(e.adler=0,Bt(n,31),Bt(n,139),Bt(n,8),n.gzhead)Bt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Bt(n,255&n.gzhead.time),Bt(n,n.gzhead.time>>8&255),Bt(n,n.gzhead.time>>16&255),Bt(n,n.gzhead.time>>24&255),Bt(n,9===n.level?2:n.strategy>=jt||n.level<2?4:0),Bt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Bt(n,255&n.gzhead.extra.length),Bt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=nt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Bt(n,0),Bt(n,0),Bt(n,0),Bt(n,0),Bt(n,0),Bt(n,9===n.level?2:n.strategy>=jt||n.level<2?4:0),Bt(n,3),n.status=Tt,Mt(e),0!==n.pending)return n.last_flush=-1,mt;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=nt(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,Mt(e),0!==n.pending)return n.last_flush=-1,mt;t=0,r-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=nt(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=nt(e.adler,n.pending_buf,n.pending-r,r)),Mt(e),0!==n.pending)return n.last_flush=-1,mt;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Bt(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=nt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=nt(e.adler,n.pending_buf,n.pending-r,r)),Mt(e),0!==n.pending)return n.last_flush=-1,mt;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Bt(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=nt(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Mt(e),0!==n.pending))return n.last_flush=-1,mt;Bt(n,255&e.adler),Bt(n,e.adler>>8&255),e.adler=0}if(n.status=Tt,Mt(e),0!==n.pending)return n.last_flush=-1,mt}if(0!==e.avail_in||0!==n.lookahead||t!==dt&&n.status!==Et){let r=0===n.level?Vt(n,t):n.strategy===jt?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ht(e),0===e.lookahead)){if(t===dt)return 1;break}if(e.match_length=0,n=lt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ot(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===pt?(Ot(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ot(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===St?((e,t)=>{let n,r,a,i;const s=e.window;for(;;){if(e.lookahead<=_t){if(Ht(e),e.lookahead<=_t&&t===dt)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,r=s[a],r===s[++a]&&r===s[++a]&&r===s[++a])){i=e.strstart+_t;do{}while(r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&r===s[++a]&&a<i);e.match_length=_t-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=lt(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=lt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ot(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===pt?(Ot(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ot(e,!1),0===e.strm.avail_out)?1:2})(n,t):Jt[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Et),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),mt;if(2===r&&(t===ut?ct(n):t!==ft&&(st(n,0,0,!1),t===ht&&(Ft(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Mt(e),0===e.avail_out))return n.last_flush=-1,mt}return t!==pt?mt:n.wrap<=0?gt:(2===n.wrap?(Bt(n,255&e.adler),Bt(n,e.adler>>8&255),Bt(n,e.adler>>16&255),Bt(n,e.adler>>24&255),Bt(n,255&e.total_in),Bt(n,e.total_in>>8&255),Bt(n,e.total_in>>16&255),Bt(n,e.total_in>>24&255)):(qt(n,e.adler>>>16),qt(n,65535&e.adler)),Mt(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?mt:gt)},nn=(e,t)=>{let n=t.length;if(Xt(e))return xt;const r=e.state,a=r.wrap;if(2===a||1===a&&r.status!==Lt||r.lookahead)return xt;if(1===a&&(e.adler=et(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===a&&(Ft(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ht(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Dt(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Ht(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=o,e.avail_in=i,r.wrap=a,mt},rn={deflateInit:(e,t)=>en(e,t,At,15,8,kt),deflateInit2:en,deflateReset:Zt,deflateResetKeep:$t,deflateSetHeader:(e,t)=>Xt(e)||2!==e.state.wrap?xt:(e.state.gzhead=t,mt),deflate:tn,deflateEnd:e=>{if(Xt(e))return xt;const t=e.state.status;return e.state=null,t===Tt?zt(e,bt):mt},deflateSetDictionary:nn,deflateInfo:"pako deflate (from Nodeca project)"};const an=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var sn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)an(n,t)&&(e[t]=n[t])}}return e},on=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,i=e.length;r<i;r++){let t=e[r];n.set(t,a),a+=t.length}return n};let ln=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Eo){ln=!1}const cn=new Uint8Array(256);for(let zo=0;zo<256;zo++)cn[zo]=zo>=252?6:zo>=248?5:zo>=240?4:zo>=224?3:zo>=192?2:1;cn[254]=cn[254]=1;var dn=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,a,i,s=e.length,o=0;for(a=0;a<s;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<s&&(r=e.charCodeAt(a+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},un=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,a;const i=new Array(2*n);for(a=0,r=0;r<n;){let t=e[r++];if(t<128){i[a++]=t;continue}let s=cn[t];if(s>4)i[a++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?i[a++]=65533:t<65536?i[a++]=t:(t-=65536,i[a++]=55296|t>>10&1023,i[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&ln)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,a)},hn=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+cn[e[n]]>t?n:t};var pn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const fn=Object.prototype.toString,{Z_NO_FLUSH:mn,Z_SYNC_FLUSH:gn,Z_FULL_FLUSH:xn,Z_FINISH:bn,Z_OK:yn,Z_STREAM_END:vn,Z_DEFAULT_COMPRESSION:wn,Z_DEFAULT_STRATEGY:jn,Z_DEFLATED:Sn}=at;function Nn(e){this.options=sn({level:wn,method:Sn,chunkSize:16384,windowBits:15,memLevel:8,strategy:jn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pn,this.strm.avail_out=0;let n=rn.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==yn)throw new Error(rt[n]);if(t.header&&rn.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?dn(t.dictionary):"[object ArrayBuffer]"===fn.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=rn.deflateSetDictionary(this.strm,e),n!==yn)throw new Error(rt[n]);this._dict_set=!0}}function kn(e,t){const n=new Nn(t);if(n.push(e,!0),n.err)throw n.msg||rt[n.err];return n.result}Nn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let a,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?bn:mn,"string"===typeof e?n.input=dn(e):"[object ArrayBuffer]"===fn.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===gn||i===xn)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=rn.deflate(n,i),a===vn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=rn.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===yn;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Nn.prototype.onData=function(e){this.chunks.push(e)},Nn.prototype.onEnd=function(e){e===yn&&(this.result=on(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Cn={Deflate:Nn,deflate:kn,deflateRaw:function(e,t){return(t=t||{}).raw=!0,kn(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,kn(e,t)},constants:at};const An=16209;var _n=function(e,t){let n,r,a,i,s,o,l,c,d,u,h,p,f,m,g,x,b,y,v,w,j,S,N,k;const C=e.state;n=e.next_in,N=e.input,r=n+(e.avail_in-5),a=e.next_out,k=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,h=C.hold,p=C.bits,f=C.lencode,m=C.distcode,g=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{p<15&&(h+=N[n++]<<p,p+=8,h+=N[n++]<<p,p+=8),b=f[h&g];t:for(;;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,0===y)k[a++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=f[(65535&b)+(h&(1<<y)-1)];continue t}if(32&y){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=An;break e}v=65535&b,y&=15,y&&(p<y&&(h+=N[n++]<<p,p+=8),v+=h&(1<<y)-1,h>>>=y,p-=y),p<15&&(h+=N[n++]<<p,p+=8,h+=N[n++]<<p,p+=8),b=m[h&x];n:for(;;){if(y=b>>>24,h>>>=y,p-=y,y=b>>>16&255,!(16&y)){if(0===(64&y)){b=m[(65535&b)+(h&(1<<y)-1)];continue n}e.msg="invalid distance code",C.mode=An;break e}if(w=65535&b,y&=15,p<y&&(h+=N[n++]<<p,p+=8,p<y&&(h+=N[n++]<<p,p+=8)),w+=h&(1<<y)-1,w>o){e.msg="invalid distance too far back",C.mode=An;break e}if(h>>>=y,p-=y,y=a-i,w>y){if(y=w-y,y>c&&C.sane){e.msg="invalid distance too far back",C.mode=An;break e}if(j=0,S=u,0===d){if(j+=l-y,y<v){v-=y;do{k[a++]=u[j++]}while(--y);j=a-w,S=k}}else if(d<y){if(j+=l+d-y,y-=d,y<v){v-=y;do{k[a++]=u[j++]}while(--y);if(j=0,d<v){y=d,v-=y;do{k[a++]=u[j++]}while(--y);j=a-w,S=k}}}else if(j+=d-y,y<v){v-=y;do{k[a++]=u[j++]}while(--y);j=a-w,S=k}for(;v>2;)k[a++]=S[j++],k[a++]=S[j++],k[a++]=S[j++],v-=3;v&&(k[a++]=S[j++],v>1&&(k[a++]=S[j++]))}else{j=a-w;do{k[a++]=k[j++],k[a++]=k[j++],k[a++]=k[j++],v-=3}while(v>2);v&&(k[a++]=k[j++],v>1&&(k[a++]=k[j++]))}break}}break}}while(n<r&&a<s);v=p>>3,n-=v,p-=v<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=a<s?s-a+257:257-(a-s),C.hold=h,C.bits=p};const Pn=15,Ln=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Tn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),En=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Rn=(e,t,n,r,a,i,s,o)=>{const l=o.bits;let c,d,u,h,p,f,m=0,g=0,x=0,b=0,y=0,v=0,w=0,j=0,S=0,N=0,k=null;const C=new Uint16Array(16),A=new Uint16Array(16);let _,P,L,T=null;for(m=0;m<=Pn;m++)C[m]=0;for(g=0;g<r;g++)C[t[n+g]]++;for(y=l,b=Pn;b>=1&&0===C[b];b--);if(y>b&&(y=b),0===b)return a[i++]=20971520,a[i++]=20971520,o.bits=1,0;for(x=1;x<b&&0===C[x];x++);for(y<x&&(y=x),j=1,m=1;m<=Pn;m++)if(j<<=1,j-=C[m],j<0)return-1;if(j>0&&(0===e||1!==b))return-1;for(A[1]=0,m=1;m<Pn;m++)A[m+1]=A[m]+C[m];for(g=0;g<r;g++)0!==t[n+g]&&(s[A[t[n+g]]++]=g);if(0===e?(k=T=s,f=20):1===e?(k=Ln,T=Tn,f=257):(k=En,T=zn,f=0),N=0,g=0,m=x,p=i,v=y,w=0,u=-1,S=1<<y,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){_=m-w,s[g]+1<f?(P=0,L=s[g]):s[g]>=f?(P=T[s[g]-f],L=k[s[g]-f]):(P=96,L=0),c=1<<m-w,d=1<<v,x=d;do{d-=c,a[p+(N>>w)+d]=_<<24|P<<16|L}while(0!==d);for(c=1<<m-1;N&c;)c>>=1;if(0!==c?(N&=c-1,N+=c):N=0,g++,0===--C[m]){if(m===b)break;m=t[n+s[g]]}if(m>y&&(N&h)!==u){for(0===w&&(w=y),p+=x,v=m-w,j=1<<v;v+w<b&&(j-=C[v+w],!(j<=0));)v++,j<<=1;if(S+=1<<v,1===e&&S>852||2===e&&S>592)return 1;u=N&h,a[u]=y<<24|v<<16|p-i}}return 0!==N&&(a[p+N]=m-w<<24|64<<16),o.bits=y,0};const{Z_FINISH:Fn,Z_BLOCK:In,Z_TREES:Dn,Z_OK:Mn,Z_STREAM_END:On,Z_NEED_DICT:Bn,Z_STREAM_ERROR:qn,Z_DATA_ERROR:Un,Z_MEM_ERROR:Wn,Z_BUF_ERROR:Hn,Z_DEFLATED:Vn}=at,Gn=16180,Yn=16190,Kn=16191,Jn=16192,Qn=16194,Xn=16199,$n=16200,Zn=16206,er=16209,tr=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function nr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const rr=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Gn||t.mode>16211?1:0},ar=e=>{if(rr(e))return qn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Gn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Mn},ir=e=>{if(rr(e))return qn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ar(e)},sr=(e,t)=>{let n;if(rr(e))return qn;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?qn:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ir(e))},or=(e,t)=>{if(!e)return qn;const n=new nr;e.state=n,n.strm=e,n.window=null,n.mode=Gn;const r=sr(e,t);return r!==Mn&&(e.state=null),r};let lr,cr,dr=!0;const ur=e=>{if(dr){lr=new Int32Array(512),cr=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Rn(1,e.lens,0,288,lr,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Rn(2,e.lens,0,32,cr,0,e.work,{bits:5}),dr=!1}e.lencode=lr,e.lenbits=9,e.distcode=cr,e.distbits=5},hr=(e,t,n,r)=>{let a;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>r&&(a=r),i.window.set(t.subarray(n-r,n-r+a),i.wnext),(r-=a)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0};var pr=(e,t)=>{let n,r,a,i,s,o,l,c,d,u,h,p,f,m,g,x,b,y,v,w,j,S,N=0;const k=new Uint8Array(4);let C,A;const _=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(rr(e)||!e.output||!e.input&&0!==e.avail_in)return qn;n=e.state,n.mode===Kn&&(n.mode=Jn),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,S=Mn;e:for(;;)switch(n.mode){case Gn:if(0===n.wrap){n.mode=Jn;break}for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,k[0]=255&c,k[1]=c>>>8&255,n.check=nt(n.check,k,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=er;break}if((15&c)!==Vn){e.msg="unknown compression method",n.mode=er;break}if(c>>>=4,d-=4,j=8+(15&c),0===n.wbits&&(n.wbits=j),j>15||j>n.wbits){e.msg="invalid window size",n.mode=er;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Kn,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==Vn){e.msg="unknown compression method",n.mode=er;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=er;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=nt(n.check,k,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=nt(n.check,k,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=nt(n.check,k,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(k[0]=255&c,k[1]=c>>>8&255,n.check=nt(n.check,k,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),j)),512&n.flags&&4&n.wrap&&(n.check=nt(n.check,r,p,i)),o-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do{j=r[i+p++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=nt(n.check,r,p,i)),o-=p,i+=p,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do{j=r[i+p++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=nt(n.check,r,p,i)),o-=p,i+=p,j)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=er;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Kn;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}e.adler=n.check=tr(c),c=0,d=0,n.mode=Yn;case Yn:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,Bn;e.adler=n.check=1,n.mode=Kn;case Kn:if(t===In||t===Dn)break e;case Jn:if(n.last){c>>>=7&d,d-=7&d,n.mode=Zn;break}for(;d<3;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(ur(n),n.mode=Xn,t===Dn){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=er}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=er;break}if(n.length=65535&c,c=0,d=0,n.mode=Qn,t===Dn)break e;case Qn:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;a.set(r.subarray(i,i+p),s),o-=p,i+=p,l-=p,s+=p,n.length-=p;break}n.mode=Kn;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=er;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.lens[_[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[_[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},S=Rn(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid code lengths set",n.mode=er;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;N=n.lencode[c&(1<<n.lenbits)-1],g=N>>>24,x=N>>>16&255,b=65535&N,!(g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(A=g+2;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=er;break}j=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===b){for(A=g+3;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=g,d-=g,j=0,p=3+(7&c),c>>>=3,d-=3}else{for(A=g+7;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=g,d-=g,j=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=er;break}for(;p--;)n.lens[n.have++]=j}}if(n.mode===er)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=er;break}if(n.lenbits=9,C={bits:n.lenbits},S=Rn(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid literal/lengths set",n.mode=er;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},S=Rn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,S){e.msg="invalid distances set",n.mode=er;break}if(n.mode=Xn,t===Dn)break e;case Xn:n.mode=$n;case $n:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,_n(e,h),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,r=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===Kn&&(n.back=-1);break}for(n.back=0;N=n.lencode[c&(1<<n.lenbits)-1],g=N>>>24,x=N>>>16&255,b=65535&N,!(g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(x&&0===(240&x)){for(y=g,v=x,w=b;N=n.lencode[w+((c&(1<<y+v)-1)>>y)],g=N>>>24,x=N>>>16&255,b=65535&N,!(y+g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===x){n.mode=16205;break}if(32&x){n.back=-1,n.mode=Kn;break}if(64&x){e.msg="invalid literal/length code",n.mode=er;break}n.extra=15&x,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;N=n.distcode[c&(1<<n.distbits)-1],g=N>>>24,x=N>>>16&255,b=65535&N,!(g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(0===(240&x)){for(y=g,v=x,w=b;N=n.distcode[w+((c&(1<<y+v)-1)>>y)],g=N>>>24,x=N>>>16&255,b=65535&N,!(y+g<=d);){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&x){e.msg="invalid distance code",n.mode=er;break}n.offset=b,n.extra=15&x,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;d<A;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=er;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=er;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=a,f=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{a[s++]=m[f++]}while(--p);0===n.length&&(n.mode=$n);break;case 16205:if(0===l)break e;a[s++]=n.length,l--,n.mode=$n;break;case Zn:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=r[i++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?nt(n.check,a,h,s-h):et(n.check,a,h,s-h)),h=l,4&n.wrap&&(n.flags?c:tr(c))!==n.check){e.msg="incorrect data check",n.mode=er;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=r[i++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=er;break}c=0,d=0}n.mode=16208;case 16208:S=On;break e;case er:S=Un;break e;case 16210:return Wn;default:return qn}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<er&&(n.mode<Zn||t!==Fn))&&hr(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?nt(n.check,a,h,e.next_out-h):et(n.check,a,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Kn?128:0)+(n.mode===Xn||n.mode===Qn?256:0),(0===u&&0===h||t===Fn)&&S===Mn&&(S=Hn),S},fr={inflateReset:ir,inflateReset2:sr,inflateResetKeep:ar,inflateInit:e=>or(e,15),inflateInit2:or,inflate:pr,inflateEnd:e=>{if(rr(e))return qn;let t=e.state;return t.window&&(t.window=null),e.state=null,Mn},inflateGetHeader:(e,t)=>{if(rr(e))return qn;const n=e.state;return 0===(2&n.wrap)?qn:(n.head=t,t.done=!1,Mn)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,a,i;return rr(e)?qn:(r=e.state,0!==r.wrap&&r.mode!==Yn?qn:r.mode===Yn&&(a=1,a=et(a,t,n,0),a!==r.check)?Un:(i=hr(e,t,n,n),i?(r.mode=16210,Wn):(r.havedict=1,Mn)))},inflateInfo:"pako inflate (from Nodeca project)"};var mr=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const gr=Object.prototype.toString,{Z_NO_FLUSH:xr,Z_FINISH:br,Z_OK:yr,Z_STREAM_END:vr,Z_NEED_DICT:wr,Z_STREAM_ERROR:jr,Z_DATA_ERROR:Sr,Z_MEM_ERROR:Nr}=at;function kr(e){this.options=sn({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pn,this.strm.avail_out=0;let n=fr.inflateInit2(this.strm,t.windowBits);if(n!==yr)throw new Error(rt[n]);if(this.header=new mr,fr.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=dn(t.dictionary):"[object ArrayBuffer]"===gr.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=fr.inflateSetDictionary(this.strm,t.dictionary),n!==yr)))throw new Error(rt[n])}function Cr(e,t){const n=new kr(t);if(n.push(e),n.err)throw n.msg||rt[n.err];return n.result}kr.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?br:xr,"[object ArrayBuffer]"===gr.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=fr.inflate(n,s),i===wr&&a&&(i=fr.inflateSetDictionary(n,a),i===yr?i=fr.inflate(n,s):i===Sr&&(i=wr));n.avail_in>0&&i===vr&&n.state.wrap>0&&0!==e[n.next_in];)fr.inflateReset(n),i=fr.inflate(n,s);switch(i){case jr:case Sr:case wr:case Nr:return this.onEnd(i),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||i===vr))if("string"===this.options.to){let e=hn(n.output,n.next_out),t=n.next_out-e,a=un(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==yr||0!==o){if(i===vr)return i=fr.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},kr.prototype.onData=function(e){this.chunks.push(e)},kr.prototype.onEnd=function(e){e===yr&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=on(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ar={Inflate:kr,inflate:Cr,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Cr(e,t)},ungzip:Cr,constants:at};const{Deflate:_r,deflate:Pr,deflateRaw:Lr,gzip:Tr}=Cn,{Inflate:Er,inflate:zr,inflateRaw:Rr,ungzip:Fr}=Ar;var Ir=Er,Dr=zr;const Mr=[];for(let zo=0;zo<256;zo++){let e=zo;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Mr[zo]=e}const Or=4294967295;function Br(e,t){return(function(e,t,n){let r=e;for(let a=0;a<n;a++)r=Mr[255&(r^t[a])]^r>>>8;return r}(Or,e,t)^Or)>>>0}function qr(e,t,n){const r=e.readUint32(),a=Br(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==r)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(r,", found ").concat(a))}function Ur(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Wr(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function Hr(e,t,n,r){let a=0;if(0===n.length)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function Vr(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(n[i]>>1)&255;for(;i<r;i++)t[i]=e[i]+(t[i-a]+n[i]>>1)&255}}function Gr(e,t,n,r,a){let i=0;if(0===n.length){for(;i<a;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+n[i]&255;for(;i<r;i++)t[i]=e[i]+Yr(t[i-a],n[i],n[i-a])&255}}function Yr(e,t,n){const r=e+t-n,a=Math.abs(r-e),i=Math.abs(r-t),s=Math.abs(r-n);return a<=i&&a<=s?e:i<=s?t:n}function Kr(e,t,n,r,a,i){switch(e){case 0:Ur(t,n,a);break;case 1:Wr(t,n,a,i);break;case 2:Hr(t,n,r,a);break;case 3:Vr(t,n,r,a,i);break;case 4:Gr(t,n,r,a,i);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Jr=new Uint16Array([255]),Qr=255===new Uint8Array(Jr.buffer)[0];function Xr(e){return(255&e)<<8|e>>8&255}const $r=new Uint16Array([255]),Zr=255===new Uint8Array($r.buffer)[0],ea=new Uint8Array(0);function ta(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*n),l=new Uint8Array(r*o);let c,d,u=ea,h=0;for(let p=0;p<r;p++){switch(c=t.subarray(h+1,h+1+o),d=l.subarray(p*o,(p+1)*o),t[h]){case 0:Ur(c,d,o);break;case 1:Wr(c,d,o,s);break;case 2:Hr(c,d,u,o);break;case 3:Vr(c,d,u,o,s);break;case 4:Gr(c,d,u,o,s);break;default:throw new Error("Unsupported filter: ".concat(t[h]))}u=d,h+=o+1}if(16===i){const e=new Uint16Array(l.buffer);if(Zr)for(let t=0;t<e.length;t++)e[t]=na(e[t]);return e}return l}function na(e){return(255&e)<<8|e>>8&255}const ra=Uint8Array.of(137,80,78,71,13,10,26,10);function aa(e){if(!function(e){if(e.length<ra.length)return!1;for(let t=0;t<ra.length;t++)if(e[t]!==ra[t])return!1;return!0}(e.readBytes(ra.length)))throw new Error("wrong PNG signature")}const ia="tEXt",sa=new TextDecoder("latin1");function oa(e){if(ca(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const la=/^[\u0000-\u00FF]*$/;function ca(e){if(!la.test(e))throw new Error("invalid latin1 text")}function da(e,t,n){const r=ua(t);e[r]=function(e,t){return sa.decode(e.readBytes(t))}(t,n-r.length-1)}function ua(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=sa.decode(e.readBytes(t-e.offset-1));return e.skip(1),oa(n),n}const ha=-1,pa=0,fa=2,ma=3,ga=4,xa=6,ba=-1,ya=0,va=-1,wa=0,ja=-1,Sa=0,Na=1,ka=0,Ca=1,Aa=2,_a=0,Pa=1;class La extends he{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,d.A)(this,"_checkCrc",void 0),(0,d.A)(this,"_inflator",void 0),(0,d.A)(this,"_png",void 0),(0,d.A)(this,"_apng",void 0),(0,d.A)(this,"_end",void 0),(0,d.A)(this,"_hasPalette",void 0),(0,d.A)(this,"_palette",void 0),(0,d.A)(this,"_hasTransparency",void 0),(0,d.A)(this,"_transparency",void 0),(0,d.A)(this,"_compressionMethod",void 0),(0,d.A)(this,"_filterMethod",void 0),(0,d.A)(this,"_interlaceMethod",void 0),(0,d.A)(this,"_colorType",void 0),(0,d.A)(this,"_isAnimated",void 0),(0,d.A)(this,"_numberOfFrames",void 0),(0,d.A)(this,"_numberOfPlays",void 0),(0,d.A)(this,"_frames",void 0),(0,d.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new Ir,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=ba,this._filterMethod=va,this._interlaceMethod=ja,this._colorType=ha,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(aa(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(aa(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case ia:da(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?qr(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?qr(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case pa:n=1;break;case fa:n=3;break;case ma:n=1;break;case ga:n=2;break;case xa:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ya)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let r=0;r<t;r++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case pa:case fa:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case ma:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=ua(this),n=this.readUint8();if(n!==ya)throw new Error("Unsupported iCCP compression method: ".concat(n));const r=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:Dr(r)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=ta({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const r=this._apng.frames.at(e-1);this.disposeFrame(n,r,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case ka:break;case Ca:for(let t=0;t<this._png.height;t++)for(let r=0;r<this._png.width;r++){const a=(t*e.width+r)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case Aa:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,r=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case _a:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:s}=r(n,a);for(let n=0;n<this._png.channels;n++)e.data[i+n]=t.data[s+n]}break;case Pa:for(let a=0;a<t.height;a++)for(let i=0;i<t.width;i++){const{index:s,frameIndex:o}=r(a,i);for(let r=0;r<this._png.channels;r++){const a=t.data[o+this._png.channels-1]/n,i=r%(this._png.channels-1)===0?1:t.data[o+r],l=Math.floor(a*i+(1-a)*e.data[s+r]);e.data[s+r]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==wa)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===Sa)this._png.data=ta({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==Na)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:r,channels:a,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(r*n*o);let c=0;for(let d=0;d<7;d++){const e=s[d],a=Math.ceil((n-e.x)/e.xStep),i=Math.ceil((r-e.y)/e.yStep);if(a<=0||i<=0)continue;const u=a*o,h=new Uint8Array(u);for(let s=0;s<i;s++){const i=t[c++],d=t.subarray(c,c+u);c+=u;const p=new Uint8Array(u);Kr(i,d,p,h,u,o),h.set(p);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,i=e.y+s*e.yStep;if(!(a>=n||i>=r))for(let e=0;e<o;e++)l[(i*n+a)*o+e]=p[t*o+e]}}}if(16===i){const e=new Uint16Array(l.buffer);if(Qr)for(let t=0;t<e.length;t++)e[t]=Xr(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ka,blendOp:_a,data:e}),this._inflator=new Ir,this._writingDataChunks=!1}}var Ta;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(Ta||(Ta={}));var Ea=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function za(){Ea.console&&"function"==typeof Ea.console.log&&Ea.console.log.apply(Ea.console,arguments)}var Ra={log:za,warn:function(e){Ea.console&&("function"==typeof Ea.console.warn?Ea.console.warn.apply(Ea.console,arguments):za.call(null,arguments))},error:function(e){Ea.console&&("function"==typeof Ea.console.error?Ea.console.error.apply(Ea.console,arguments):za(e))}};function Fa(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ma(r.response,t,n)},r.onerror=function(){Ra.error("could not download file")},r.send()}function Ia(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function Da(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ma=Ea.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,v.A)(window))||window!==Ea?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ea.URL||Ea.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?Ia(a.href)?Fa(e,t,n):Da(a,a.target="_blank"):Da(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Da(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(Ia(e))Fa(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Da(r)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,v.A)(t)&&(Ra.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return Fa(e,t,n);var a="application/octet-stream"===e.type,i=/constructor/i.test(Ea.HTMLElement)||Ea.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,v.A)(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=s?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},o.readAsDataURL(e)}else{var l=Ea.URL||Ea.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function Oa(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var Ba=Ea.atob.bind(Ea),qa=Ea.btoa.bind(Ea);function Ua(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=Ha(n,r,a,i,t[0],7,-680876936),i=Ha(i,n,r,a,t[1],12,-389564586),a=Ha(a,i,n,r,t[2],17,606105819),r=Ha(r,a,i,n,t[3],22,-1044525330),n=Ha(n,r,a,i,t[4],7,-176418897),i=Ha(i,n,r,a,t[5],12,1200080426),a=Ha(a,i,n,r,t[6],17,-1473231341),r=Ha(r,a,i,n,t[7],22,-45705983),n=Ha(n,r,a,i,t[8],7,1770035416),i=Ha(i,n,r,a,t[9],12,-1958414417),a=Ha(a,i,n,r,t[10],17,-42063),r=Ha(r,a,i,n,t[11],22,-1990404162),n=Ha(n,r,a,i,t[12],7,1804603682),i=Ha(i,n,r,a,t[13],12,-40341101),a=Ha(a,i,n,r,t[14],17,-1502002290),n=Va(n,r=Ha(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=Va(i,n,r,a,t[6],9,-1069501632),a=Va(a,i,n,r,t[11],14,643717713),r=Va(r,a,i,n,t[0],20,-373897302),n=Va(n,r,a,i,t[5],5,-701558691),i=Va(i,n,r,a,t[10],9,38016083),a=Va(a,i,n,r,t[15],14,-660478335),r=Va(r,a,i,n,t[4],20,-405537848),n=Va(n,r,a,i,t[9],5,568446438),i=Va(i,n,r,a,t[14],9,-1019803690),a=Va(a,i,n,r,t[3],14,-187363961),r=Va(r,a,i,n,t[8],20,1163531501),n=Va(n,r,a,i,t[13],5,-1444681467),i=Va(i,n,r,a,t[2],9,-51403784),a=Va(a,i,n,r,t[7],14,1735328473),n=Ga(n,r=Va(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Ga(i,n,r,a,t[8],11,-2022574463),a=Ga(a,i,n,r,t[11],16,1839030562),r=Ga(r,a,i,n,t[14],23,-35309556),n=Ga(n,r,a,i,t[1],4,-1530992060),i=Ga(i,n,r,a,t[4],11,1272893353),a=Ga(a,i,n,r,t[7],16,-155497632),r=Ga(r,a,i,n,t[10],23,-1094730640),n=Ga(n,r,a,i,t[13],4,681279174),i=Ga(i,n,r,a,t[0],11,-358537222),a=Ga(a,i,n,r,t[3],16,-722521979),r=Ga(r,a,i,n,t[6],23,76029189),n=Ga(n,r,a,i,t[9],4,-640364487),i=Ga(i,n,r,a,t[12],11,-421815835),a=Ga(a,i,n,r,t[15],16,530742520),n=Ya(n,r=Ga(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ya(i,n,r,a,t[7],10,1126891415),a=Ya(a,i,n,r,t[14],15,-1416354905),r=Ya(r,a,i,n,t[5],21,-57434055),n=Ya(n,r,a,i,t[12],6,1700485571),i=Ya(i,n,r,a,t[3],10,-1894986606),a=Ya(a,i,n,r,t[10],15,-1051523),r=Ya(r,a,i,n,t[1],21,-2054922799),n=Ya(n,r,a,i,t[8],6,1873313359),i=Ya(i,n,r,a,t[15],10,-30611744),a=Ya(a,i,n,r,t[6],15,-1560198380),r=Ya(r,a,i,n,t[13],21,1309151649),n=Ya(n,r,a,i,t[4],6,-145523070),i=Ya(i,n,r,a,t[11],10,-1120210379),a=Ya(a,i,n,r,t[2],15,718787259),r=Ya(r,a,i,n,t[9],21,-343485551),e[0]=ti(n,e[0]),e[1]=ti(r,e[1]),e[2]=ti(a,e[2]),e[3]=ti(i,e[3])}function Wa(e,t,n,r,a,i){return t=ti(ti(t,e),ti(r,i)),ti(t<<a|t>>>32-a,n)}function Ha(e,t,n,r,a,i,s){return Wa(t&n|~t&r,e,t,a,i,s)}function Va(e,t,n,r,a,i,s){return Wa(t&r|n&~r,e,t,a,i,s)}function Ga(e,t,n,r,a,i,s){return Wa(t^n^r,e,t,a,i,s)}function Ya(e,t,n,r,a,i,s){return Wa(n^(t|~r),e,t,a,i,s)}function Ka(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ua(r,Ja(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Ua(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Ua(r,a),r}function Ja(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Qa="0123456789abcdef".split("");function Xa(e){for(var t="",n=0;n<4;n++)t+=Qa[e>>8*n+4&15]+Qa[e>>8*n&15];return t}function $a(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Za(e){return Ka(e).map($a).join("")}var ei="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Xa(e[t]);return e.join("")}(Ka("hello"));function ti(e,t){if(ei){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function ni(e,t){var n,r,a,i;if(e!==n){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+s.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,p=0,f="";for(l=0;l<u;l++)p=(p+(d=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=d,s=o[(o[h]+o[p])%256],f+=String.fromCharCode(t.charCodeAt(l)^s);return f}var ri={print:4,modify:8,copy:16,"annot-forms":32};function ai(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==ri.perm)throw new Error("Invalid permission: "+e);a+=ri[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var i=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Za(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=ni(this.encryptionKey,this.padding)}function ii(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function si(e){if("object"!==(0,v.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!r],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var s=t[n][i];try{s[0].apply(e,r)}catch(Da){Ea.console&&Ra.error("jsPDF PubSub Error",Da.message,Da)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function oi(e){if(!(this instanceof oi))return new oi(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function li(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ci(e,t,n,r,a){if(!(this instanceof ci))return new ci(e,t,n,r,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,li.call(this,r,a)}function di(e,t,n,r,a){if(!(this instanceof di))return new di(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,li.call(this,r,a)}function ui(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",d=null;"object"===(0,v.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(!0===i?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=si;var f="1.3",m=p.__private__.getPdfVersion=function(){return f};p.__private__.setPdfVersion=function(e){f=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var b="compat",y="advanced",w=b;function j(){this.saveGraphicsState(),$(new Ee(pe,0,0,-pe,0,dn()*pe).toString()+" cm"),this.setFontSize(this.getFontSize()/pe),c="n",w=y}function S(){this.restoreGraphicsState(),c="S",w=b}var N=p.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};p.advancedAPI=function(e){var t=w===b;return t&&j.call(this),"function"!=typeof e||(e(this),t&&S.call(this)),this},p.compatAPI=function(e){var t=w===y;return t&&S.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},p.isAdvancedAPI=function(){return w===y};var k,C=function(e){if(w!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};k=p.hpf=p.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return A(e,16)};var _=p.f2=p.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return A(e,2)},P=p.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return A(e,3)},L=p.scale=p.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===b?e*pe:w===y?e:void 0},T=function(e){return L(function(e){return w===b?dn()-e:w===y?e:void 0}(e))};p.__private__.setPrecision=p.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var E,z="00000000000000000000000000000000",R=p.__private__.getFileId=function(){return z},F=p.__private__.setFileId=function(e){return z=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(yt=new ai(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};p.setFileId=function(e){return F(e),this},p.getFileId=function(){return R()};var I=p.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),i=[n,q(r),"'",q(a),"'"].join("");return["D:",e.getFullYear(),q(e.getMonth()+1),q(e.getDate()),q(e.getHours()),q(e.getMinutes()),q(e.getSeconds()),i].join("")},D=p.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),i=parseInt(e.substr(12,2),10),s=parseInt(e.substr(14,2),10);return new Date(t,n,r,a,i,s,0)},M=p.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=I(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return E=t},O=p.__private__.getCreationDate=function(e){var t=E;return"jsDate"===e&&(t=D(E)),t};p.setCreationDate=function(e){return M(e),this},p.getCreationDate=function(e){return O(e)};var B,q=p.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},U=p.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},W=0,H=[],V=[],G=0,Y=[],K=[],J=!1,Q=V;p.__private__.setCustomOutputDestination=function(e){J=!0,Q=e};var X=function(e){J||(Q=e)};p.__private__.resetCustomOutputDestination=function(){J=!1,Q=V};var $=p.__private__.out=function(e){return e=e.toString(),G+=e.length+1,Q.push(e),Q},Z=p.__private__.write=function(e){return $(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ee=p.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return te};var ne=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(e){return ne=w===y?e/pe:e,this};var re,ae=p.__private__.getFontSize=p.getFontSize=function(){return w===b?ne:ne*pe},ie=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(e){return ie=e,this},p.__private__.getR2L=p.getR2L=function(){return ie};var se,oe=p.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};p.__private__.getZoomMode=function(){return re};var le,ce=p.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};p.__private__.getPageMode=function(){return se};var de=p.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');le=e};p.__private__.getLayoutMode=function(){return le},p.__private__.setDisplayMode=p.setDisplayMode=function(e,t,n){return oe(e),de(t),ce(n),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},p.__private__.getDocumentProperties=function(){return ue},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},p.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var he,pe,fe,me,ge,xe={},be={},ye=[],ve={},we={},je={},Se={},Ne=null,ke=0,Ce=[],Ae=new si(p),_e=e.hotfixes||[],Pe={},Le={},Te=[],Ee=function e(t,n,r,a,i,s){if(!(this instanceof e))return new e(t,n,r,a,i,s);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(a)&&(a=1),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this._matrix=[t,n,r,a,i,s]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ee.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Ee.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,i=e.tx*this.sx+e.ty*this.shx+this.tx,s=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ee(t,n,r,a,i,s)},Ee.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,s=Math.sqrt(e*e+t*t),o=(e/=s)*n+(t/=s)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,s=-s),{scale:new Ee(s,0,0,l,0,0),translate:new Ee(1,0,0,1,a,i),rotate:new Ee(e,t,-t,e,0,0),skew:new Ee(1,0,o,1,0,0)}},Ee.prototype.toString=function(e){return this.join(" ")},Ee.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty,s=1/(e*r-t*n),o=r*s,l=-t*s,c=-n*s,d=e*s;return new Ee(o,l,c,d,-o*a-c*i,-l*a-d*i)},Ee.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Ee.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},Ee.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,a=this.tx,i=this.ty;return new Ee(e,t,n,r,a,i)},p.Matrix=Ee;var ze=p.matrixMult=function(e,t){return t.multiply(e)},Re=new Ee(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Re;var Fe=function(e,t){if(!we[e]){var n=(t instanceof ci?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=n,we[e]=n,ve[n]=t,Ae.publish("addPattern",t)}};p.ShadingPattern=ci,p.TilingPattern=di,p.addShadingPattern=function(e,t){return C("addShadingPattern()"),Fe(e,t),this},p.beginTilingPattern=function(e){C("beginTilingPattern()"),sn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},p.endTilingPattern=function(e,t){C("endTilingPattern()"),t.stream=K[B].join("\n"),Fe(e,t),Ae.publish("endTilingPattern",t),Te.pop().restore()};var Ie,De=p.__private__.newObject=function(){var e=Me();return Oe(e,!0),e},Me=p.__private__.newObjectDeferred=function(){return W++,H[W]=function(){return G},W},Oe=function(e,t){return t="boolean"==typeof t&&t,H[e]=G,t&&$(e+" 0 obj"),e},Be=p.__private__.newAdditionalObject=function(){var e={objId:Me(),content:""};return Y.push(e),e},qe=Me(),Ue=Me(),We=p.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",a=0;a<3;a++)r+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return r},He=p.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,a=e.ch3,i=e.ch4,s="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var o=new Oa(n);if(o.ok)n=o.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,a=255&l}if(void 0===r||void 0===i&&n===r&&r===a)t="string"==typeof n?n+" "+s[0]:2===e.precision?_(n/255)+" "+s[0]:P(n/255)+" "+s[0];else if(void 0===i||"object"===(0,v.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",s[1]].join(" ");t="string"==typeof n?[n,r,a,s[1]].join(" "):2===e.precision?[_(n/255),_(r/255),_(a/255),s[1]].join(" "):[P(n/255),P(r/255),P(a/255),s[1]].join(" ")}else t="string"==typeof n?[n,r,a,i,s[2]].join(" "):2===e.precision?[_(n),_(r),_(a),_(i),s[2]].join(" "):[P(n),P(r),P(a),P(i),s[2]].join(" ");return t},Ve=p.__private__.getFilters=function(){return s},Ge=p.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ve(),r=e.alreadyAppliedFilters||[],a=e.addLength1||!1,i=t.length,s=e.objectId,o=function(e){return e};if(null!==d&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=yt.encryptor(s,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==ui.API.processDataByFilters?ui.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:i})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var p=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)p.push("null");p.push(c[h].value),c[h].value="["+p.join(" ")+"]"}}$("<<");for(var m=0;m<c.length;m++)$("/"+c[m].key+" "+c[m].value);$(">>"),0!==l.data.length&&($("stream"),$(o(l.data)),$("endstream"))},Ye=p.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,a=e.contentsObjId;Oe(r,!0),$("<</Type /Page"),$("/Parent "+e.rootDictionaryObjId+" 0 R"),$("/Resources "+e.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&$("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&$("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&$("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&$("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&$("/UserUnit "+e.userUnit),Ae.publish("putPage",{objId:r,pageContext:Ce[t],pageNumber:t,page:n}),$("/Contents "+a+" 0 R"),$(">>"),$("endobj");var i=n.join("\n");return w===y&&(i+="\nQ"),Oe(a,!0),Ge({data:i,filters:Ve(),objectId:a}),$("endobj"),r},Ke=p.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=ke;e++)Ce[e].objId=Me(),Ce[e].contentsObjId=Me();for(e=1;e<=ke;e++)n.push(Ye({number:e,data:K[e],objId:Ce[e].objId,contentsObjId:Ce[e].contentsObjId,mediaBox:Ce[e].mediaBox,cropBox:Ce[e].cropBox,bleedBox:Ce[e].bleedBox,trimBox:Ce[e].trimBox,artBox:Ce[e].artBox,userUnit:Ce[e].userUnit,rootDictionaryObjId:qe,resourceDictionaryObjId:Ue}));Oe(qe,!0),$("<</Type /Pages");var r="/Kids [";for(t=0;t<ke;t++)r+=n[t]+" 0 R ";$(r+"]"),$("/Count "+ke),$(">>"),$("endobj"),Ae.publish("postPutPages")},Je=function(e){Ae.publish("putFont",{font:e,out:$,newObject:De,putStream:Ge}),!0!==e.isAlreadyPutted&&(e.objectNumber=De(),$("<<"),$("/Type /Font"),$("/BaseFont /"+ii(e.postScriptName)),$("/Subtype /Type1"),"string"==typeof e.encoding&&$("/Encoding /"+e.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Qe=function(e){e.objectNumber=De();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ge({data:n,additionalKeyValues:t,objectId:e.objectNumber}),$("endobj")},Xe=function(e,t){t||(t=21);var n=De(),r=function(e,t){var n,r=[],a=1/(t-1);for(n=0;n<1;n+=a)r.push(n);if(r.push(1),0!=e[0].offset){var i={offset:0,color:e[0].color};e.unshift(i)}if(1!=e[e.length-1].offset){var s={offset:1,color:e[e.length-1].color};e.push(s)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,p=e[l+1].color;o+=U(Math.round((1-u)*h[0]+u*p[0]).toString(16))+U(Math.round((1-u)*h[1]+u*p[1]).toString(16))+U(Math.round((1-u)*h[2]+u*p[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:r,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),$("endobj"),e.objectNumber=De(),$("<< /ShadingType "+e.type),$("/ColorSpace /DeviceRGB");var i="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):i+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),$(i+="]"),e.matrix&&$("/Matrix ["+e.matrix.toString()+"]"),$("/Function "+n+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},$e=function(e,t){var n=Me(),r=De();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),a.push({key:"XStep",value:k(e.xStep)}),a.push({key:"YStep",value:k(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ge({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),$("endobj")},Ze=function(e){for(var t in e.objectNumber=De(),$("<<"),e)switch(t){case"opacity":$("/ca "+_(e[t]));break;case"stroke-opacity":$("/CA "+_(e[t]))}$(">>"),$("endobj")},et=function(e){Oe(e.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in $("/Font <<"),xe)xe.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&$("/"+e+" "+xe[e].objectNumber+" 0 R");$(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in $("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof ci&&ve[e].objectNumber>=0&&$("/"+e+" "+ve[e].objectNumber+" 0 R");Ae.publish("putShadingPatternDict"),$(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in $("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof p.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&$("/"+t+" "+ve[t].objectNumber+" 0 R");Ae.publish("putTilingPatternDict"),$(">>")}}(e.objectOid),function(){if(Object.keys(je).length>0){var e;for(e in $("/ExtGState <<"),je)je.hasOwnProperty(e)&&je[e].objectNumber>=0&&$("/"+e+" "+je[e].objectNumber+" 0 R");Ae.publish("putGStateDict"),$(">>")}}(),function(){for(var e in $("/XObject <<"),Pe)Pe.hasOwnProperty(e)&&Pe[e].objectNumber>=0&&$("/"+e+" "+Pe[e].objectNumber+" 0 R");Ae.publish("putXobjectDict"),$(">>")}(),$(">>"),$("endobj")},tt=function(e){be[e.fontName]=be[e.fontName]||{},be[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,a){var i={id:"F"+(Object.keys(xe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:a||!1,metadata:{}};return Ae.publish("addFont",{font:i,instance:this}),xe[i.id]=i,tt(i),i.id},rt=p.__private__.pdfEscape=p.pdfEscape=function(e,t){return function(e,t){var n,r,a,i,s,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",s=t.outputEncoding,(t.autoencode||s)&&xe[he].metadata&&xe[he].metadata[a]&&xe[he].metadata[a].encoding&&(i=xe[he].metadata[a].encoding,!s&&xe[he].encoding&&(s=xe[he].encoding),!s&&i.codePages&&(s=i.codePages[0]),"string"==typeof s&&(s=i[s]),s)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=s[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},at=p.__private__.beginPage=function(e){K[++ke]=[],Ce[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(ke),X(K[B])},it=function(e,t){var r,i,s;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(e)&&(i=e[0]*pe,s=e[1]*pe),isNaN(i)&&(i=a[0],s=a[1]),(i>14400||s>14400)&&(Ra.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),a=[i,s],n.substr(0,1)){case"l":s>i&&(a=[s,i]);break;case"p":i>s&&(a=[s,i])}at(a),Ot(Dt),$(Yt),0!==Zt&&$(Zt+" J"),0!==en&&$(en+" j"),Ae.publish("addPage",{pageNumber:ke})},st=function(e){e>0&&e<=ke&&(K.splice(e,1),Ce.splice(e,1),ke--,B>ke&&(B=ke),this.setPage(B))},ot=function(e){e>0&&e<=ke&&(B=e)},lt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return K.length-1},ct=function(e,t,n){var r,a=void 0;return n=n||{},e=void 0!==e?e:xe[he].fontName,t=void 0!==t?t:xe[he].fontStyle,r=e.toLowerCase(),void 0!==be[r]&&void 0!==be[r][t]?a=be[r][t]:void 0!==be[e]&&void 0!==be[e][t]?a=be[e][t]:!1===n.disableWarning&&Ra.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=be.times[t])&&(a=be.times.normal),a},dt=p.__private__.putInfo=function(){var e=De(),t=function(e){return e};for(var n in null!==d&&(t=yt.encryptor(e,0)),$("<<"),$("/Producer ("+rt(t("jsPDF "+ui.version))+")"),ue)ue.hasOwnProperty(n)&&ue[n]&&$("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ue[n]))+")");$("/CreationDate ("+rt(t(E))+")"),$(">>"),$("endobj")},ut=p.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||qe;switch(De(),$("<<"),$("/Type /Catalog"),$("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+re;"%"===n.substr(n.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&$("/OpenAction [3 0 R /XYZ null null "+_(re)+"]")}switch(le||(le="continuous"),le){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}se&&$("/PageMode /"+se),Ae.publish("putCatalog"),$(">>"),$("endobj")},ht=p.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(W+1)),$("/Root "+W+" 0 R"),$("/Info "+(W-1)+" 0 R"),null!==d&&$("/Encrypt "+yt.oid+" 0 R"),$("/ID [ <"+z+"> <"+z+"> ]"),$(">>")},pt=p.__private__.putHeader=function(){$("%PDF-"+f),$("%\xba\xdf\xac\xe0")},ft=p.__private__.putXRef=function(){var e="0000000000";$("xref"),$("0 "+(W+1)),$("0000000000 65535 f ");for(var t=1;t<=W;t++)"function"==typeof H[t]?$((e+H[t]()).slice(-10)+" 00000 n "):void 0!==H[t]?$((e+H[t]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},mt=p.__private__.buildDocument=function(){var e;W=0,G=0,V=[],H=[],Y=[],qe=Me(),Ue=Me(),X(V),Ae.publish("buildDocument"),pt(),Ke(),function(){Ae.publish("putAdditionalObjects");for(var e=0;e<Y.length;e++){var t=Y[e];Oe(t.objId,!0),$(t.content),$("endobj")}Ae.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in xe)xe.hasOwnProperty(e)&&(!1===u||!0===u&&h.hasOwnProperty(e))&&Je(xe[e])}(),function(){var e;for(e in je)je.hasOwnProperty(e)&&Ze(je[e])}(),function(){for(var e in Pe)Pe.hasOwnProperty(e)&&Qe(Pe[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof ci?Xe(ve[t]):ve[t]instanceof di&&$e(ve[t],e))}(e),Ae.publish("putResources"),e.forEach(et),et({resourcesOid:Ue,objectOid:Number.MAX_SAFE_INTEGER}),Ae.publish("postPutResources"),null!==d&&(yt.oid=De(),$("<<"),$("/Filter /Standard"),$("/V "+yt.v),$("/R "+yt.r),$("/U <"+yt.toHexString(yt.U)+">"),$("/O <"+yt.toHexString(yt.O)+">"),$("/P "+yt.P),$(">>"),$("endobj")),dt(),ut();var t=G;return ft(),ht(),$("startxref"),$(""+t),$("%%EOF"),X(K[B]),V.join("\n")},gt=p.__private__.getBlob=function(e){return new Blob([ee(e)],{type:"application/pdf"})},xt=p.output=p.__private__.output=(Ie=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return mt();case"save":p.save(t.filename);break;case"arraybuffer":return ee(mt());case"blob":return gt(mt());case"bloburi":case"bloburl":if(void 0!==Ea.URL&&"function"==typeof Ea.URL.createObjectURL)return Ea.URL&&Ea.URL.createObjectURL(gt(mt()))||void 0;Ra.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=mt();try{n=qa(r)}catch(d){n=qa(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(Ea)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",i=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,i="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+i+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=Ea.open();return null!==o&&o.document.write(s),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(Ea)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=Ea.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(Ea))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',f=Ea.open();if(null!==f&&(f.document.write(h),f.document.title=t.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return Ea.document.location.href=this.output("datauristring",t);default:return null}},Ie.foo=function(){try{return Ie.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!Ea.console)throw new Error(n);Ea.console.error(n,t),Ea.alert&&alert(n)}},Ie.foo.bar=Ie,Ie.foo),bt=function(e){return!0===Array.isArray(_e)&&_e.indexOf(e)>-1};switch(r){case"pt":pe=1;break;case"mm":pe=72/25.4;break;case"cm":pe=72/2.54;break;case"in":pe=72;break;case"px":pe=1==bt("px_scaling")?.75:96/72;break;case"pc":case"em":pe=12;break;case"ex":pe=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);pe=r}var yt=null;M(),F();var vt=p.__private__.getPageInfo=p.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ce[e].objId,pageNumber:e,pageContext:Ce[e]}},wt=p.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ce)if(Ce[t].objId===e)break;return vt(t)},jt=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ce[B].objId,pageNumber:B,pageContext:Ce[B]}};p.addPage=function(){return it.apply(this,arguments),this},p.setPage=function(){return ot.apply(this,arguments),X.call(this,K[B]),this},p.insertPage=function(e){return this.addPage(),this.movePage(B,e),this},p.movePage=function(e,t){var n,r;if(e>t){n=K[e],r=Ce[e];for(var a=e;a>t;a--)K[a]=K[a-1],Ce[a]=Ce[a-1];K[t]=n,Ce[t]=r,this.setPage(t)}else if(e<t){n=K[e],r=Ce[e];for(var i=e;i<t;i++)K[i]=K[i+1],Ce[i]=Ce[i+1];K[t]=n,Ce[t]=r,this.setPage(t)}return this},p.deletePage=function(){return st.apply(this,arguments),this},p.__private__.text=p.text=function(e,t,n,r,a){var i,s,o,l,c,d,u,p,f,m=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ee==0?(o=arguments[4],l=arguments[5],"object"===(0,v.A)(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),r={flags:u,angle:o,align:l})):(C("The transform parameter of text() with a Matrix value"),f=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return m;var x,b="",j="number"==typeof r.lineHeightFactor?r.lineHeightFactor:It,S=m.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,u)}function A(e){for(var t,n=e.concat(),r=[],a=n.length;a--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function _(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,a,i=e.concat(),s=[],o=i.length;o--;)"string"==typeof(r=i.shift())?s.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(a=t(r[0],r[1],r[2]),s.push([a[0],a[1],a[2]]));n=s}return n}var P=!1,T=!0;if("string"==typeof e)P=!0;else if(Array.isArray(e)){var E=e.concat();s=[];for(var z,R=E.length;R--;)("string"!=typeof(z=E.shift())||Array.isArray(z)&&"string"!=typeof z[0])&&(T=!1);P=T}if(!1===P)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var F=ne/m.internal.scaleFactor,I=F*(j-1);switch(r.baseline){case"bottom":n-=I;break;case"top":n+=F-I;break;case"hanging":n+=F-2*I;break;case"middle":n+=F/2-I}if((d=r.maxWidth||0)>0&&("string"==typeof e?e=m.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(m.splitTextToSize(t,d))},[]))),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:he,fonts:xe,activeFontSize:ne}},Ae.publish("preProcessText",i),e=i.text,o=(r=i.options).angle,f instanceof Ee==0&&o&&"number"==typeof o){o*=Math.PI/180,0===r.rotationDirection&&(o=-o),w===y&&(o=-o);var D=Math.cos(o),M=Math.sin(o);f=new Ee(D,M,-M,D,0,0)}else o&&o instanceof Ee&&(f=o);w!==y||f||(f=Re),void 0!==(c=r.charSpace||Xt)&&(b+=k(L(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=r.horizontalScale)&&(b+=k(100*p)+" Tz\n"),r.lang;var O=-1,B=void 0!==r.renderingMode?r.renderingMode:r.stroke,q=m.internal.getCurrentPageInfo().pageContext;switch(B){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var U=void 0!==q.usedRenderingMode?q.usedRenderingMode:-1;-1!==O?b+=O+" Tr\n":-1!==U&&(b+="0 Tr\n"),-1!==O&&(q.usedRenderingMode=O),l=r.align||"left";var W,H=ne*j,V=m.internal.pageSize.getWidth(),G=xe[he];c=r.charSpace||Xt,d=r.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},r.flags);var Y=[],K=function(e){return m.getStringUnitWidth(e,{font:G,charSpace:c,fontSize:ne,doKerning:!1})*ne/S};if("[object Array]"===Object.prototype.toString.call(e)){var J;s=A(e),"left"!==l&&(W=s.map(K));var Q,X=0;if("right"===l){t-=W[0],e=[],R=s.length;for(var Z=0;Z<R;Z++)0===Z?(Q=Wt(t),J=Ht(n)):(Q=L(X-W[Z]),J=-H),e.push([s[Z],Q,J]),X=W[Z]}else if("center"===l){t-=W[0]/2,e=[],R=s.length;for(var ee=0;ee<R;ee++)0===ee?(Q=Wt(t),J=Ht(n)):(Q=L((X-W[ee])/2),J=-H),e.push([s[ee],Q,J]),X=W[ee]}else if("left"===l){e=[],R=s.length;for(var te=0;te<R;te++)e.push(s[te])}else if("justify"===l&&"Identity-H"===G.encoding){e=[],R=s.length,d=0!==d?d:V;for(var re=0,ae=0;ae<R;ae++)if(J=0===ae?Ht(n):-H,Q=0===ae?Wt(t):re,ae<R-1){var se=L((d-W[ae])/(s[ae].split(" ").length-1)),oe=s[ae].split(" ");e.push([oe[0]+" ",Q,J]),re=0;for(var le=1;le<oe.length;le++){var ce=(K(oe[le-1]+" "+oe[le])-K(oe[le]))*S+se;le==oe.length-1?e.push([oe[le],ce,0]):e.push([oe[le]+" ",ce,0]),re-=ce}}else e.push([s[ae],Q,J]);e.push(["",re,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],R=s.length,d=0!==d?d:V,ae=0;ae<R;ae++)J=0===ae?Ht(n):-H,Q=0===ae?Wt(t):0,ae<R-1?Y.push(k(L((d-W[ae])/(s[ae].split(" ").length-1)))):Y.push(0),e.push([s[ae],Q,J])}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=_(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:he,fonts:xe,activeFontSize:ne}},Ae.publish("postProcessText",i),e=i.text,x=i.mutex.isHex||!1;var de=xe[he].encoding;"WinAnsiEncoding"!==de&&"StandardEncoding"!==de||(e=_(e,function(e,t,n){return[N(e),t,n]})),s=A(e),e=[];for(var ue,pe,fe,me=Array.isArray(s[0])?1:0,ge="",be=function(e,t,n){var a="";return n instanceof Ee?(n="number"==typeof r.angle?ze(n,new Ee(1,0,0,1,e,t)):ze(new Ee(1,0,0,1,e,t),n),w===y&&(n=ze(new Ee(1,0,0,-1,0,0),n)),a=n.join(" ")+" Tm\n"):a=k(e)+" "+k(t)+" Td\n",a},ye=0;ye<s.length;ye++){switch(ge="",me){case 1:fe=(x?"<":"(")+s[ye][0]+(x?">":")"),ue=parseFloat(s[ye][1]),pe=parseFloat(s[ye][2]);break;case 0:fe=(x?"<":"(")+s[ye]+(x?">":")"),ue=Wt(t),pe=Ht(n)}void 0!==Y&&void 0!==Y[ye]&&(ge=Y[ye]+" Tw\n"),0===ye?e.push(ge+be(ue,pe,f)+fe):0===me?e.push(ge+fe):1===me&&e.push(ge+be(ue,pe,f)+fe)}e=0===me?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=he+" "+ne+" Tf\n",ve+=k(ne*j)+" TL\n",ve+=Jt+"\n",ve+=b,ve+=e,$(ve+="ET"),h[he]=!0,m};var St=p.__private__.clip=p.clip=function(e){return $("evenodd"===e?"W*":"W"),this};p.clipEvenOdd=function(){return St("evenodd")},p.__private__.discardPath=p.discardPath=function(){return $("n"),this};var Nt=p.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=p.__private__.getStyle=p.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Ct=p.close=function(){return $("h"),this};p.stroke=function(){return $("S"),this},p.fill=function(e){return At("f",e),this},p.fillEvenOdd=function(e){return At("f*",e),this},p.fillStroke=function(e){return At("B",e),this},p.fillStrokeEvenOdd=function(e){return At("B*",e),this};var At=function(e,t){"object"===(0,v.A)(t)?Lt(t,e):$(e)},_t=function(e){null===e||w===y&&void 0===e||(e=kt(e),$(e))};function Pt(e,t,n,r,a){var i=new di(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,a||this.matrix);i.stream=this.stream;var s=e+"$$"+this.cloneIndex+++"$$";return Fe(s,i),i}var Lt=function(e,t){var n=we[e.key],r=ve[n];if(r instanceof ci)$("q"),$(Tt(t)),r.gState&&p.setGState(r.gState),$(e.matrix.toString()+" cm"),$("/"+n+" sh"),$("Q");else if(r instanceof di){var a=new Ee(1,0,0,-1,0,dn());e.matrix&&(a=a.multiply(e.matrix||Re),n=Pt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,a).id),$("q"),$("/Pattern cs"),$("/"+n+" scn"),r.gState&&p.setGState(r.gState),$(t),$("Q")}},Tt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Et=p.moveTo=function(e,t){return $(k(L(e))+" "+k(T(t))+" m"),this},zt=p.lineTo=function(e,t){return $(k(L(e))+" "+k(T(t))+" l"),this},Rt=p.curveTo=function(e,t,n,r,a,i){return $([k(L(e)),k(T(t)),k(L(n)),k(T(r)),k(L(a)),k(T(i)),"c"].join(" ")),this};p.__private__.line=p.line=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.line");return w===b?this.lines([[n-e,r-t]],e,t,[1,1],a||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},p.__private__.lines=p.lines=function(e,t,n,r,a,i){var s,o,l,c,d,u,h,p,f,m,g,x;if("number"==typeof e&&(x=n,n=t,t=e,e=x),r=r||[1,1],i=i||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Nt(a)||"boolean"!=typeof i)throw new Error("Invalid arguments passed to jsPDF.lines");for(Et(t,n),s=r[0],o=r[1],c=e.length,m=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(m=d[0]*s+m,g=d[1]*o+g,zt(m,g)):(u=d[0]*s+m,h=d[1]*o+g,p=d[2]*s+m,f=d[3]*o+g,m=d[4]*s+m,g=d[5]*o+g,Rt(u,h,p,f,m,g));return i&&Ct(),_t(a),this},p.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Et(r[0],r[1]);break;case"l":zt(r[0],r[1]);break;case"c":Rt.apply(this,r);break;case"h":Ct()}}return this},p.__private__.rect=p.rect=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b&&(r=-r),$([k(L(e)),k(T(t)),k(L(n)),k(L(r)),"re"].join(" ")),_t(a),this},p.__private__.triangle=p.triangle=function(e,t,n,r,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[a-n,i-r],[e-a,t-i]],e,t,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(e,t,n,r,a,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),i=Math.min(i,.5*r),this.lines([[n-2*a,0],[a*o,0,a,i-i*o,a,i],[0,r-2*i],[0,i*o,-a*o,i,-a,i],[2*a-n,0],[-a*o,0,-a,-i*o,-a,-i],[0,2*i-r],[0,-i*o,a*o,-i,a,-i]],e+a,t,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(e,t,n,r,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Nt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var i=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return Et(e+n,t),Rt(e+n,t-s,e+i,t-r,e,t-r),Rt(e-i,t-r,e-n,t-s,e-n,t),Rt(e-n,t+s,e-i,t+r,e,t+r),Rt(e+i,t+r,e+n,t+s,e+n,t),_t(a),this},p.__private__.circle=p.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Nt(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},p.setFont=function(e,t,n){return n&&(t=N(t,n)),he=ct(e,t,{disableWarning:!1}),this};var Ft=p.__private__.getFont=p.getFont=function(){return xe[ct.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var e,t,n={};for(e in be)if(be.hasOwnProperty(e))for(t in n[e]=[],be[e])be[e].hasOwnProperty(t)&&n[e].push(t);return n},p.addFont=function(e,t,n,r,a){var i=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==i.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==i.indexOf(arguments[3])&&(n=N(n,r)),nt.call(this,e,t,n,a=a||"Identity-H")};var It,Dt=e.lineWidth||.200025,Mt=p.__private__.getLineWidth=p.getLineWidth=function(){return Dt},Ot=p.__private__.setLineWidth=p.setLineWidth=function(e){return Dt=e,$(k(L(e))+" w"),this};p.__private__.setLineDash=ui.API.setLineDash=ui.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(L(e))}).join(" "),t=k(L(t)),$("["+e+"] "+t+" d"),this};var Bt=p.__private__.getLineHeight=p.getLineHeight=function(){return ne*It};p.__private__.getLineHeight=p.getLineHeight=function(){return ne*It};var qt=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(It=e),this},Ut=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return It};qt(e.lineHeight);var Wt=p.__private__.getHorizontalCoordinate=function(e){return L(e)},Ht=p.__private__.getVerticalCoordinate=function(e){return w===y?e:Ce[B].mediaBox.topRightY-Ce[B].mediaBox.bottomLeftY-L(e)},Vt=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(e){return k(Wt(e))},Gt=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(e){return k(Ht(e))},Yt=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return We(Yt)},p.__private__.setStrokeColor=p.setDrawColor=function(e,t,n,r){return Yt=He({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),$(Yt),this};var Kt=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return We(Kt)},p.__private__.setFillColor=p.setFillColor=function(e,t,n,r){return Kt=He({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),$(Kt),this};var Jt=e.textColor||"0 g",Qt=p.__private__.getTextColor=p.getTextColor=function(){return We(Jt)};p.__private__.setTextColor=p.setTextColor=function(e,t,n,r){return Jt=He({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Xt=e.charSpace,$t=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Xt||0)};p.__private__.setCharSpace=p.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xt=e,this};var Zt=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,$(t+" J"),this};var en=0;p.__private__.setLineJoin=p.setLineJoin=function(e){var t=p.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,$(t+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(k(L(e))+" M"),this},p.GState=oi,p.setGState=function(e){(e="string"==typeof e?je[Se[e]]:tn(null,e)).equals(Ne)||($("/"+e.id+" gs"),Ne=e)};var tn=function(e,t){if(!e||!Se[e]){var n=!1;for(var r in je)if(je.hasOwnProperty(r)&&je[r].equals(t)){n=!0;break}if(n)t=je[r];else{var a="GS"+(Object.keys(je).length+1).toString(10);je[a]=t,t.id=a}return e&&(Se[e]=t.id),Ae.publish("addGState",t),t}};p.addGState=function(e,t){return tn(e,t),this},p.saveGraphicsState=function(){return $("q"),ye.push({key:he,size:ne,color:Jt}),this},p.restoreGraphicsState=function(){$("Q");var e=ye.pop();return he=e.key,ne=e.size,Jt=e.color,Ne=null,this},p.setCurrentTransformationMatrix=function(e){return $(e.toString()+" cm"),this},p.comment=function(e){return $("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var i=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}}),this},an=function(){this.page=ke,this.currentPage=B,this.pages=K.slice(0),this.pagesContext=Ce.slice(0),this.x=fe,this.y=me,this.matrix=ge,this.width=ln(B),this.height=dn(B),this.outputDestination=Q,this.id="",this.objectNumber=-1};an.prototype.restore=function(){ke=this.page,B=this.currentPage,Ce=this.pagesContext,K=this.pages,fe=this.x,me=this.y,ge=this.matrix,cn(B,this.width),un(B,this.height),Q=this.outputDestination};var sn=function(e,t,n,r,a){Te.push(new an),ke=B=0,K=[],fe=e,me=t,ge=a,at([n,r])};for(var on in p.beginFormObject=function(e,t,n,r,a){return sn(e,t,n,r,a),this},p.endFormObject=function(e){return function(e){if(Le[e])Te.pop().restore();else{var t=new an,n="Xo"+(Object.keys(Pe).length+1).toString(10);t.id=n,Le[e]=n,Pe[n]=t,Ae.publish("addFormObject",t),Te.pop().restore()}}(e),this},p.doFormObject=function(e,t){var n=Pe[Le[e]];return $("q"),$(t.toString()+" cm"),$("/"+n.id+" Do"),$("Q"),this},p.getFormObject=function(e){var t=Pe[Le[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},p.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Ma(gt(mt()),e),"function"==typeof Ma.unload&&Ea.setTimeout&&setTimeout(Ma.unload,911),this):new Promise(function(t,n){try{var a=Ma(gt(mt()),e);"function"==typeof Ma.unload&&Ea.setTimeout&&setTimeout(Ma.unload,911),t(a)}catch(r){n(r.message)}})},ui.API)ui.API.hasOwnProperty(on)&&("events"===on&&ui.API.events.length?function(e,t){var n,r,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],r=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ae,ui.API.events):p[on]=ui.API[on]);var ln=p.getPageWidth=function(e){return(Ce[e=e||B].mediaBox.topRightX-Ce[e].mediaBox.bottomLeftX)/pe},cn=p.setPageWidth=function(e,t){Ce[e].mediaBox.topRightX=t*pe+Ce[e].mediaBox.bottomLeftX},dn=p.getPageHeight=function(e){return(Ce[e=e||B].mediaBox.topRightY-Ce[e].mediaBox.bottomLeftY)/pe},un=p.setPageHeight=function(e,t){Ce[e].mediaBox.topRightY=t*pe+Ce[e].mediaBox.bottomLeftY};return p.internal={pdfEscape:rt,getStyle:kt,getFont:Ft,getFontSize:ae,getCharSpace:$t,getTextColor:Qt,getLineHeight:Bt,getLineHeightFactor:Ut,getLineWidth:Mt,write:Z,getHorizontalCoordinate:Wt,getVerticalCoordinate:Ht,getCoordinateString:Vt,getVerticalCoordinateString:Gt,collections:{},newObject:De,newAdditionalObject:Be,newObjectDeferred:Me,newObjectDeferredBegin:Oe,getFilters:Ve,putStream:Ge,events:Ae,scaleFactor:pe,pageSize:{getWidth:function(){return ln(B)},setWidth:function(e){cn(B,e)},getHeight:function(){return dn(B)},setHeight:function(e){un(B,e)}},encryptionOptions:d,encryption:yt,getEncryptor:function(e){return null!==d?yt.encryptor(e,0):function(e){return e}},output:xt,getNumberOfPages:lt,pages:K,out:$,f2:_,f3:P,getPageInfo:vt,getPageInfoByObjId:wt,getCurrentPageInfo:jt,getPDFVersion:m,Point:nn,Rectangle:rn,Matrix:Ee,hasHotfix:bt},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ln(B)},set:function(e){cn(B,e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return dn(B)},set:function(e){un(B,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=te.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],te[t][3],!0);!1===u&&(h[r]=!0);var a=e[t][0].split("-");tt({id:r,fontName:a[0],fontStyle:a[1]||""})}Ae.publish("addFonts",{fonts:xe,dictionary:be})}.call(p,te),he="F1",it(a,n),Ae.publish("initialized"),p}ai.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ai.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ai.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ai.prototype.processOwnerPassword=function(e,t){return ni(Za(t).substr(0,5),e)},ai.prototype.encryptor=function(e,t){var n=Za(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return ni(n,e)}},oi.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,v.A)(e)!==(0,v.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},ui.API={events:[]},ui.version="3.0.2";var hi=ui.API,pi=1,fi=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mi=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gi=function(e){return e.toFixed(2)},xi=function(e){return e.toFixed(5)};hi.__acroform__={};var bi=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},yi=function(e){return e*pi},vi=function(e){var t=new Ii,n=Qi.internal.getHeight(e)||0,r=Qi.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gi(r)),Number(gi(n))],t},wi=hi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ji=hi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Si=hi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ni=hi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Si(e,t-1)},ki=hi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wi(e,t-1)},Ci=hi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ji(e,t-1)},Ai=hi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=r(i+o)||0,l.upperRight_X=n(a+s)||0,l.upperRight_Y=r(i)||0,[Number(gi(l.lowerLeft_X)),Number(gi(l.lowerLeft_Y)),Number(gi(l.upperRight_X)),Number(gi(l.upperRight_Y))]},_i=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Pi(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+gi(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=vi(e);return i.scope=e.scope,i.stream=t.join("\n"),i}},Pi=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var i=n,s=Qi.internal.getHeight(e)||0;s=s<0?-s:s;var o=Qi.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<a.length){var i=n+" "+a[t+1][0];return Li(i,e,r).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,d,u=Li("3",e,i).height,h=e.multiline?s-i:(s-u)/2,p=h+=2,f=0,m=0,g=0;if(i<=0){t="(...) Tj\n",t+="% Width of Text: "+Li(t,e,i=12).width+", FieldWidth:"+o+"\n";break}for(var x="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var v=!1;if(1!==a[y].length&&g!==a[y].length-1){if((u+2)*(b+2)+2>s)continue e;x+=a[y][g],v=!0,m=y,y--}else{x=" "==(x+=a[y][g]+" ").substr(x.length-1)?x.substr(0,x.length-1):x;var w=parseInt(y),j=l(w,x,i),S=y>=a.length-1;if(j&&!S){x+=" ",g=0;continue}if(j||S){if(S)m=w;else if(e.multiline&&(u+2)*(b+2)+2>s)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>s)continue e;m=w}}for(var N="",k=f;k<=m;k++){var C=a[k];if(e.multiline){if(k===m){N+=C[g]+" ",g=(g+1)%C.length;continue}if(k===f){N+=C[C.length-1]+" ";continue}}N+=C[0]+" "}switch(N=" "==N.substr(N.length-1)?N.substr(0,N.length-1):N,d=Li(N,e,i).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=gi(c)+" "+gi(p)+" Td\n",t+="("+fi(N)+") Tj\n",t+=-gi(c)+" 0 Td\n",p=-(i+2),d=0,f=v?m:m+1,b++,x=""}break}return r.text=t,r.fontSize=i,r},Li=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},Ti={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ei=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},zi=hi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(0!==i&&(a+=" "),(0,v.A)(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),a+="("+fi(r(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ri=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+fi(r(e))+")"},Fi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fi.prototype.toString=function(){return this.objId+" 0 R"},Fi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Fi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:zi(a,this.objId,this.scope)}):a instanceof Fi?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:r,value:a}))}return e};var Ii=function(){Fi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};bi(Ii,Fi);var Di=function(){Fi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fi(t(e))+")"}},set:function(t){e=t}})};bi(Di,Fi);var Mi=function e(){Fi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(t,3))},set:function(e){!0===Boolean(e)?this.F=ki(t,3):this.F=Ci(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Gi)return;i="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fi(t(i))+")"},set:function(e){i=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(e){s=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/pi:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Gi||this instanceof Ki))return Ri(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Wi==0?Ri(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Wi==0?"("===e.substr(0,1)?mi(e.substr(1,e.length-2)):mi(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi==1?mi(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Wi==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Wi==0?Ri(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof Wi==0?"("===e.substr(0,1)?mi(e.substr(1,e.length-2)):mi(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Wi==1?mi(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof Wi==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,1):this.Ff=Ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,2):this.Ff=Ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,3):this.Ff=Ci(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};bi(Mi,Fi);var Oi=function(){Mi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zi(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,a=[];r=t.exec(e);)a.push(r[n]);return a}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,18):this.Ff=Ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=ki(this.Ff,19):this.Ff=Ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=ki(this.Ff,20),t.sort()):this.Ff=Ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,22):this.Ff=Ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,23):this.Ff=Ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,27):this.Ff=Ci(this.Ff,27)}}),this.hasAppearanceStream=!1};bi(Oi,Mi);var Bi=function(){Oi.call(this),this.fontName="helvetica",this.combo=!1};bi(Bi,Oi);var qi=function(){Bi.call(this),this.combo=!0};bi(qi,Bi);var Ui=function(){qi.call(this),this.edit=!0};bi(Ui,qi);var Wi=function(){Mi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,15):this.Ff=Ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,16):this.Ff=Ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,17):this.Ff=Ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,26):this.Ff=Ci(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+fi(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,v.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};bi(Wi,Mi);var Hi=function(){Wi.call(this),this.pushButton=!0};bi(Hi,Wi);var Vi=function(){Wi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};bi(Vi,Wi);var Gi=function(){var e,t;Mi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+fi(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,v.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qi.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};bi(Gi,Mi),Vi.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Vi.prototype.createOption=function(e){var t=new Gi;return t.Parent=this,t.optionName=e,this.Kids.push(t),Xi.call(this.scope,t),t};var Yi=function(){Wi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qi.CheckBox.createAppearanceStream()};bi(Yi,Wi);var Ki=function(){Mi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,13):this.Ff=Ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,21):this.Ff=Ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,23):this.Ff=Ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,24):this.Ff=Ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,25):this.Ff=Ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,26):this.Ff=Ci(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};bi(Ki,Mi);var Ji=function(){Ki.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ni(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=ki(this.Ff,14):this.Ff=Ci(this.Ff,14)}}),this.password=!0};bi(Ji,Ki);var Qi={CheckBox:{createAppearanceStream:function(){return{N:{On:Qi.CheckBox.YesNormal},D:{On:Qi.CheckBox.YesPushDown,Off:Qi.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=vi(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Pi(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+gi(Qi.internal.getWidth(e))+" "+gi(Qi.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gi(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=vi(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=Qi.internal.getHeight(e),s=Qi.internal.getWidth(e),o=Pi(e,e.caption);return a.push("1 g"),a.push("0 0 "+gi(s)+" "+gi(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+gi(s-1)+" "+gi(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+gi(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=vi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gi(Qi.internal.getWidth(e))+" "+gi(Qi.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Qi.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Qi.RadioButton.Circle.YesNormal,t.D[e]=Qi.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=vi(e);t.scope=e.scope;var n=[],r=Qi.internal.getWidth(e)<=Qi.internal.getHeight(e)?Qi.internal.getWidth(e)/4:Qi.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Qi.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+xi(Qi.internal.getWidth(e)/2)+" "+xi(Qi.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=vi(e);t.scope=e.scope;var n=[],r=Qi.internal.getWidth(e)<=Qi.internal.getHeight(e)?Qi.internal.getWidth(e)/4:Qi.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Qi.internal.Bezier_C).toFixed(5)),s=Number((r*Qi.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xi(Qi.internal.getWidth(e)/2)+" "+xi(Qi.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+xi(Qi.internal.getWidth(e)/2)+" "+xi(Qi.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=vi(e);t.scope=e.scope;var n=[],r=Qi.internal.getWidth(e)<=Qi.internal.getHeight(e)?Qi.internal.getWidth(e)/4:Qi.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*Qi.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xi(Qi.internal.getWidth(e)/2)+" "+xi(Qi.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Qi.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Qi.RadioButton.Cross.YesNormal,t.D[e]=Qi.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=vi(e);t.scope=e.scope;var n=[],r=Qi.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+gi(Qi.internal.getWidth(e)-2)+" "+gi(Qi.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gi(r.x1.x)+" "+gi(r.x1.y)+" m"),n.push(gi(r.x2.x)+" "+gi(r.x2.y)+" l"),n.push(gi(r.x4.x)+" "+gi(r.x4.y)+" m"),n.push(gi(r.x3.x)+" "+gi(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=vi(e);t.scope=e.scope;var n=Qi.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+gi(Qi.internal.getWidth(e))+" "+gi(Qi.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gi(Qi.internal.getWidth(e)-2)+" "+gi(Qi.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gi(n.x1.x)+" "+gi(n.x1.y)+" m"),r.push(gi(n.x2.x)+" "+gi(n.x2.y)+" l"),r.push(gi(n.x4.x)+" "+gi(n.x4.y)+" m"),r.push(gi(n.x3.x)+" "+gi(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=vi(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gi(Qi.internal.getWidth(e))+" "+gi(Qi.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Qi.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Qi.internal.getWidth(e),n=Qi.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Qi.internal.getWidth=function(e){var t=0;return"object"===(0,v.A)(e)&&(t=yi(e.Rect[2])),t},Qi.internal.getHeight=function(e){var t=0;return"object"===(0,v.A)(e)&&(t=yi(e.Rect[3])),t};var Xi=hi.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Mi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Ti)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pi=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Di,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&Ei(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var a=e[r],i=[],s=a.Rect;if(a.Rect&&(a.Rect=Ai(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Qi.createDefaultAppearanceStream(a),"object"===(0,v.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(i=a.getKeyValueListForStream()),a.Rect=s,a.hasAppearanceStream&&!a.appearanceStreamContent){var o=_i(a);i.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(a.appearanceStreamContent){var l="";for(var c in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(c)){var d=a.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var r in d)if(d.hasOwnProperty(r)){var u=d[r];"function"==typeof u&&(u=u.call(t,a)),l+="/"+r+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,a)),l+="/"+r+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}i.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,v.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Mi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};hi.AcroFormChoiceField=Oi,hi.AcroFormListBox=Bi,hi.AcroFormComboBox=qi,hi.AcroFormEditBox=Ui,hi.AcroFormButton=Wi,hi.AcroFormPushButton=Hi,hi.AcroFormRadioButton=Vi,hi.AcroFormCheckBox=Yi,hi.AcroFormTextField=Ki,hi.AcroFormPasswordField=Ji,hi.AcroFormAppearance=Qi,hi.AcroForm={ChoiceField:Oi,ListBox:Bi,ComboBox:qi,EditBox:Ui,Button:Wi,PushButton:Hi,RadioButton:Vi,CheckBox:Yi,TextField:Ki,PasswordField:Ji,Appearance:Qi},ui.AcroForm={ChoiceField:Oi,ListBox:Bi,ComboBox:qi,EditBox:Ui,Button:Wi,PushButton:Hi,RadioButton:Vi,CheckBox:Yi,TextField:Ki,PasswordField:Ji,Appearance:Qi};ui.AcroForm;function $i(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(e,t){var a,i,s,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(S(e))for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e[i]){o=!1;break}if(!0===o){c=l;break}}else for(l in r)for(s=r[l],a=0;a<s.length;a+=1){for(o=!0,i=0;i<s[a].length;i+=1)if(void 0!==s[a][i]&&s[a][i]!==e.charCodeAt(i)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var i=[];if(i.push({key:"Type",value:"/XObject"}),i.push({key:"Subtype",value:"/Image"}),i.push({key:"Width",value:t.width}),i.push({key:"Height",value:t.height}),t.colorSpace===x.INDEXED?i.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(i.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===x.DEVICE_CMYK&&i.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),i.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&i.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var s="",o=0,l=t.transparency.length;o<l;o++)s+=t.transparency[o]+" "+t.transparency[o]+" ";i.push({key:"Mask",value:"["+s+"]"})}void 0!==t.sMask&&i.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:i,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d=(null!=t.predictor?"/Predictor "+t.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===x.INDEXED){var h=this.internal.newObject();r({data:k(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},s=function(){var e=this.internal.collections[t+"images"];for(var n in e)i.call(this,e[n])},o=function(){var e,n=this.internal.collections[t+"images"],r=this.internal.write;for(var a in n)r("/I"+(e=n[a]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,v.A)(e)&&1===e.nodeType},p=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return Ba(unescape(r).split("base64,").pop());var a=e.loadFile(r,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var i;switch(n){case"PNG":i="image/png";break;case"WEBP":i="image/webp";break;default:i="image/jpeg"}return Ba(t.toDataURL(i,1).split("base64,").pop())}},f=function(e){var n=this.internal.collections[t+"images"];if(n)for(var r in n)if(e===n[r].alias)return n[r]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},g=function(e,t,n,r,a,i){var s=m.call(this,n,r,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=s[0],r=s[1],d[a.index]=a,i){i*=Math.PI/180;var u=Math.cos(i),h=Math.sin(i),p=function(e){return e.toFixed(4)},f=[p(u),p(h),p(-1*h),p(u),0,0,"cm"]}this.internal.write("q"),i?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(S(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},w=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},j=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var S=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=S(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,t,r,a,i,s,o,c,d;if("number"==typeof arguments[1]?(t=n,r=arguments[1],a=arguments[2],i=arguments[3],s=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4],s=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===(0,v.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,r=u.x||r||0,a=u.y||a||0,i=u.w||u.width||i,s=u.h||u.height||s,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var p=this.internal.getFilters();if(void 0===c&&-1!==p.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var f=C.call(this,e,t,o,c);return g.call(this,r,a,i,s,f,d),this};var C=function(t,r,i,s){var o,l,c;if("string"==typeof t&&a(t)===n){t=unescape(t);var m=A(t,!1);(""!==m||void 0!==(m=e.loadFile(t,!0)))&&(t=m)}if(h(t)&&(t=p(t,r)),r=a(t,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=i)||0===c.length)&&(i=function(e){return"string"==typeof e||S(e)?y(e):S(e.data)?y(e.data):null}(t)),(o=f.call(this,i))||(t instanceof Uint8Array||"RGBA"===r||(l=t,t=N(t)),o=this["process"+r.toUpperCase()](t,d.call(this),i,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(s),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},A=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=j(e))&&void 0!==i?i:e;try{r=Ba(n)}catch(a){if(t)throw w(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(t){var r,i,s="";if(h(t)&&(t=p(t)),"string"==typeof t&&a(t)===n&&(""===(s=A(t,!1))&&(s=e.loadFile(t)||""),t=s),i=a(t),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(r=this["process"+i.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=i,r}}(ui.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};ui.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,a,i=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),x=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",a+=" /Popup "+m.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+h(g(x))+") >>",f.content=a;var b=f.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+i(n.bounds.x+30)+" "+s(n.bounds.y+n.bounds.h)+" "+i(n.bounds.x+n.bounds.w+30)+" "+s(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",m.content=a,this.internal.write(f.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+i(n.bounds.x)+" "+s(n.bounds.y)+" "+i(n.bounds.x+n.bounds.w)+" "+s(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var v=this.annotations._nameMap[n.options.name];n.options.pageNumber=v.page,n.options.top=v.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=s(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,a){var i=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;i.pageContext.annotations.push({finalBounds:{x:s(e),y:o(t),w:s(e+n),h:o(t+r)},options:a,type:"link"})},e.textWithLink=function(e,t,n,r){var a,i,s=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){i=r.maxWidth;var l=this.splitTextToSize(e,i).length;a=Math.ceil(o*l)}else i=s,a=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=s/2),"right"===r.align&&(t-=s),this.link(t,n-o,i,a,r),s},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(ui.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},s=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return s(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return s(e)&&i(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return s(e)&&i(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,a="",i=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(i++,"number"==typeof(r=r[e.charCodeAt(t)])&&(a+=String.fromCharCode(r),r=n,i=0),t===e.length-1&&(r=n,a+=e.charAt(t-(i-1)),t-=i-1,i=0)):(r=n,a+=e.charAt(t-i),t-=i,i=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return s(e)?!1===i(e)?-1:!c(e)||!s(t)&&!s(n)||!s(n)&&o(t)||o(e)&&!s(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&s(t)&&!o(t)&&s(n)&&c(n)?3:o(e)||!s(n)?1:2:-1},p=function(e){var n=0,r=0,a=0,i="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)i=c[n][r],o=c[n][r-1],l=c[n][r+1],s(i)?(a=h(i,o,l),d[n]+=-1!==a?String.fromCharCode(t[i.charCodeAt(0)][a]):i):d[n]+=i;d[n]=u(d[n])}return d.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([p(t[r][0]),t[r][1],t[r][2]]):n.push([p(t[r])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(ui.API),ui.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ui.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(e){s=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),a=t.font||this.getFont(),i=t.scaleFactor||this.internal.scaleFactor,s=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)s<(l=this.getStringUnitWidth(e[u],{font:a})*n)&&(s=l);return 0!==s&&(o=e.length),{w:s/=i,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/i,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==a.lineNumber&&(a.lineNumber===e.lineNumber?(e.x=(a.x||0)+(a.width||0),e.y=a.y||0):a.y+a.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=a.y+a.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,d){if(r.call(this),!l)throw new Error("No data for PDF table.");var u,h,p,f,m=[],g=[],x=[],b={},y={},w=[],j=[],S=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,C=d.margins||Object.assign({width:this.getPageWidth()},t),A="number"==typeof d.padding?d.padding:3,_=d.headerBackgroundColor||"#c8c8c8",P=d.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=_,this.internal.__cell__.headerTextColor=P,this.setFontSize(k),null==c)g=m=Object.keys(l[0]),x=m.map(function(){return"left"});else if(Array.isArray(c)&&"object"===(0,v.A)(c[0]))for(m=c.map(function(e){return e.name}),g=c.map(function(e){return e.prompt||e.name||""}),x=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(g=m=c,x=m.map(function(){return"left"}));if(S||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<m.length;u+=1){for(b[f=m[u]]=l.map(function(e){return e[f]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(g[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=b[f],this.setFont(void 0,"normal"),p=0;p<h.length;p+=1)w.push(this.getTextDimensions(h[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[f]=Math.max.apply(null,w)+A+A,w=[]}if(N){var L={};for(u=0;u<m.length;u+=1)L[m[u]]={},L[m[u]].text=g[u],L[m[u]].align=x[u];var T=o.call(this,L,y);j=m.map(function(t){return new i(e,n,y[t],T,L[t].text,void 0,L[t].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var E=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var z=o.call(this,l[u],y);for(p=0;p<m.length;p+=1){var R=l[u][m[p]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:p,data:R},this),s.call(this,new i(e,n,y[m[p]],z,R,u+2,E[m[p]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var o=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(r){var a=e[r];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var a;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){a=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(a.y=this.internal.__cell__.margins.top||0,l.push(a)),a.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,a),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(ui.API);var Zi={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},es=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ts=$i(es),ns=[100,200,300,400,500,600,700,800,900],rs=$i(ns);function as(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Zi[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof ts[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function is(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var ss={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},os={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ls(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function cs(e){return e.trimLeft()}function ds(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function us(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var hs,ps,fs,ms,gs,xs,bs,ys,vs,ws=["times"];function js(e,t,n,r){var a=4,i=ks;switch(r){case ui.API.image_compression.FAST:a=1,i=Ns;break;case ui.API.image_compression.MEDIUM:a=6,i=Cs;break;case ui.API.image_compression.SLOW:a=9,i=As}e=function(e,t,n,r){for(var a,i=e.length/t,s=new Uint8Array(e.length+i),o=[Ss,Ns,ks,Cs,As],l=0;l<i;l+=1){var c=l*t,d=e.subarray(c,c+t);if(r)s.set(r(d,n,a),c+l);else{for(var u=o.length,h=[],p=0;p<u;p+=1)h[p]=o[p](d,n,a);var f=Ps(h.concat());s.set(h[f],c+l)}a=d}return s}(e,t,n,i);var s=ae(e,{level:a});return ui.API.__addimage__.arrayBufferToBinaryString(s)}function Ss(e){var t=Array.apply([],e);return t.unshift(0),t}function Ns(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var i=e[a-t]||0;r[a+1]=e[a]-i+256&255}return r}function ks(e,t,n){var r=e.length,a=[];a[0]=2;for(var i=0;i<r;i+=1){var s=n&&n[i]||0;a[i+1]=e[i]-s+256&255}return a}function Cs(e,t,n){var r=e.length,a=[];a[0]=3;for(var i=0;i<r;i+=1){var s=e[i-t]||0,o=n&&n[i]||0;a[i+1]=e[i]+256-(s+o>>>1)&255}return a}function As(e,t,n){var r=e.length,a=[];a[0]=4;for(var i=0;i<r;i+=1){var s=_s(e[i-t]||0,n&&n[i]||0,n&&n[i-t]||0);a[i+1]=e[i]-s+256&255}return a}function _s(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),i=Math.abs(e+t-n-n);return r<=a&&r<=i?e:a<=i?t:n}function Ps(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function Ls(e,t,n){var r=t*n,a=Math.floor(r/8),i=16-(r-8*a+n),s=(1<<n)-1;return Es(e,a)>>i&s}function Ts(e,t,n,r){var a=n*r,i=Math.floor(a/8),s=16-(a-8*i+r),o=(1<<r)-1,l=(t&o)<<s;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var r=n>>8&255;e.setUint8(t,r)}}(e,i,Es(e,i)&~(o<<s)&65535|l)}function Es(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function zs(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,d=[],u=0,h=null,p=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],1&m||(h=null),p=m>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++],w=v>>6&1,j=1<<1+(7&v),S=o,N=l,k=!1;v>>7&&(k=!0,S=t,N=j,t+=3*j);var C=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}d.push({x:g,y:x,width:b,height:y,has_local_palette:k,palette_offset:S,palette_size:N,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!w,delay:u,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);Rs(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),f=h,m=4*d;!0===a.interlaced&&(m+=4*n*7);for(var g=8,x=0,b=s.length;x<b;++x){var y=s[x];if(0===u&&(u=c,(f+=m)>=p&&(m=4*d+4*n*(g-1),f=h+(c+d)*(g<<1),g>>=1)),y===l)f+=4;else{var v=e[o+3*y],w=e[o+3*y+1],j=e[o+3*y+2];r[f++]=j,r[f++]=w,r[f++]=v,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var a=this.frameInfo(t),i=a.width*a.height,s=new Uint8Array(i);Rs(e,a.data_offset,s,i);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,u=c,h=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),f=h,m=4*d;!0===a.interlaced&&(m+=4*n*7);for(var g=8,x=0,b=s.length;x<b;++x){var y=s[x];if(0===u&&(u=c,(f+=m)>=p&&(m=4*d+4*n*(g-1),f=h+(c+d)*(g<<1),g>>=1)),y===l)f+=4;else{var v=e[o+3*y],w=e[o+3*y+1],j=e[o+3*y+2];r[f++]=v,r[f++]=w,r[f++]=j,r[f++]=255}--u}}}function Rs(e,t,n,r){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,d=0,u=0,h=0,p=e[t++],f=new Int32Array(4096),m=null;;){for(;d<16&&0!==p;)u|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=u&c;if(u>>=l,d-=l,g!==i){if(g===s)break;for(var x=g<o?g:m,b=0,y=x;y>i;)y=f[y]>>8,++b;var v=y;if(h+b+(x!==g?1:0)>r)return void Ra.log("Warning, gif stream longer than expected.");n[h++]=v;var w=h+=b;for(x!==g&&(n[h++]=v),y=x;b--;)y=f[y],n[--w]=255&y,y>>=8;null!==m&&o<4096&&(f[o++]=m<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==r&&Ra.log("Warning, gif stream shorter than expected."),n}function Fs(e){var t,n,r,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),p=new Array(64),f=new Array(64),m=[],g=0,x=7,b=new Array(64),y=new Array(64),v=new Array(64),w=new Array(256),j=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function E(e,t){for(var n=0,r=0,a=new Array,i=1;i<=16;i++){for(var s=1;s<=e[i];s++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=i,r++,n++;n*=2}return a}function z(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<x),n--,--x<0&&(255==g?(R(255),R(0)):R(g),x=7,g=0)}function R(e){m.push(e)}function F(e){R(e>>8&255),R(255&e)}function I(e,t,n,r,a){for(var i,s=a[0],o=a[240],l=function(e,t){var n,r,a,i,s,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],a=e[h+2],i=e[h+3],s=e[h+4],o=e[h+5],l=e[h+6];var f=n+(c=e[h+7]),m=n-c,g=r+l,x=r-l,b=a+o,y=a-o,v=i+s,w=i-s,j=f+v,S=f-v,N=g+b,k=g-b;e[h]=j+N,e[h+4]=j-N;var C=.707106781*(k+S);e[h+2]=S+C,e[h+6]=S-C;var A=.382683433*((j=w+y)-(k=x+m)),_=.5411961*j+A,P=1.306562965*k+A,L=.707106781*(N=y+x),T=m+L,E=m-L;e[h+5]=E+_,e[h+3]=E-_,e[h+1]=T+P,e[h+7]=T-P,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],a=e[h+16],i=e[h+24],s=e[h+32],o=e[h+40],l=e[h+48];var z=n+(c=e[h+56]),R=n-c,F=r+l,I=r-l,D=a+o,M=a-o,O=i+s,B=i-s,q=z+O,U=z-O,W=F+D,H=F-D;e[h]=q+W,e[h+32]=q-W;var V=.707106781*(H+U);e[h+16]=U+V,e[h+48]=U-V;var G=.382683433*((q=B+M)-(H=I+R)),Y=.5411961*q+G,K=1.306562965*H+G,J=.707106781*(W=M+I),Q=R+J,X=R-J;e[h+40]=X+Y,e[h+24]=X-Y,e[h+8]=Q+K,e[h+56]=Q-K,h++}for(d=0;d<64;++d)u=e[d]*t[d],p[d]=u>0?u+.5|0:u-.5|0;return p}(e,t),c=0;c<64;++c)f[S[c]]=l[c];var d=f[0]-n;n=f[0],0==d?z(r[0]):(z(r[h[i=32767+d]]),z(u[i]));for(var m=63;m>0&&0==f[m];)m--;if(0==m)return z(s),n;for(var g,x=1;x<=m;){for(var b=x;0==f[x]&&x<=m;)++x;var y=x-b;if(y>=16){g=y>>4;for(var v=1;v<=g;++v)z(o);y&=15}i=32767+f[x],z(a[(y<<4)+h[i]]),z(u[i]),x++}return 63!=m&&z(s),n}function D(e){e=Math.min(Math.max(e,1),100),i!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[S[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var u=s((a[i]*e+50)/100);u=Math.min(Math.max(u,1),255),l[S[i]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,f=0;f<8;f++)for(var m=0;m<8;m++)c[p]=1/(o[S[p]]*h[f]*h[m]*8),d[p]=1/(l[S[p]]*h[f]*h[m]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e)}this.encode=function(e,i){i&&D(i),m=new Array,g=0,x=7,F(65496),F(65504),F(16),R(74),R(70),R(73),R(70),R(0),R(1),R(1),R(0),F(1),F(1),R(0),R(0),function(){F(65499),F(132),R(0);for(var e=0;e<64;e++)R(o[e]);R(1);for(var t=0;t<64;t++)R(l[t])}(),function(e,t){F(65472),F(17),R(8),F(t),F(e),R(3),R(1),R(17),R(0),R(2),R(17),R(1),R(3),R(17),R(1)}(e.width,e.height),function(){F(65476),F(418),R(0);for(var e=0;e<16;e++)R(N[e+1]);for(var t=0;t<=11;t++)R(k[t]);R(16);for(var n=0;n<16;n++)R(C[n+1]);for(var r=0;r<=161;r++)R(A[r]);R(1);for(var a=0;a<16;a++)R(_[a+1]);for(var i=0;i<=11;i++)R(P[i]);R(17);for(var s=0;s<16;s++)R(L[s+1]);for(var o=0;o<=161;o++)R(T[o])}(),F(65498),F(12),R(3),R(1),R(0),R(2),R(17),R(3),R(17),R(0),R(63),R(0);var s=0,u=0,h=0;g=0,x=7,this.encode.displayName="_encode_";for(var p,f,w,S,E,M,O,B,q,U=e.data,W=e.width,H=e.height,V=4*W,G=0;G<H;){for(p=0;p<V;){for(E=V*G+p,O=-1,B=0,q=0;q<64;q++)M=E+(B=q>>3)*V+(O=4*(7&q)),G+B>=H&&(M-=V*(G+1+B-H)),p+O>=V&&(M-=p+O-V+4),f=U[M++],w=U[M++],S=U[M++],b[q]=(j[f]+j[w+256|0]+j[S+512|0]>>16)-128,y[q]=(j[f+768|0]+j[w+1024|0]+j[S+1280|0]>>16)-128,v[q]=(j[f+1280|0]+j[w+1536|0]+j[S+1792|0]>>16)-128;s=I(b,c,s,t,r),u=I(y,d,u,n,a),h=I(v,d,h,n,a),p+=32}G+=8}if(x>=0){var Y=[];Y[1]=x+1,Y[0]=(1<<x+1)-1,z(Y)}return F(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=E(N,k),n=E(_,P),r=E(C,A),a=E(L,T),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)h[32767+a]=n,u[32767+a]=[],u[32767+a][1]=n,u[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)j[e]=19595*e,j[e+256|0]=38470*e,j[e+512|0]=7471*e+32768,j[e+768|0]=-11059*e,j[e+1024|0]=-21709*e,j[e+1280|0]=32768*e+8421375,j[e+1536|0]=-27439*e,j[e+1792|0]=-5329*e}(),D(e)}function Is(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ds(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,a){for(var i=0;i<a;i++)e[t+i]=n[r+i]}function a(e,t,n,r){for(var a=0;a<r;a++)e[t+a]=n}function i(e){return new Int32Array(e)}function s(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,a){for(var i=a[r],s=0;s<i&&(n.push(a.length>r+1?[]:new t),!(a.length<r+1));s++)e(n[s],r+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,a,i){t(!(a%r));do{e[n+(a-=r)]=i}while(0<a)}function d(e,n,r,a,s){if(t(2328>=s),512>=s)var o=i(512);else if(null==(o=i(s)))return 0;return function(e,n,r,a,s,o){var d,h,p=n,f=1<<r,m=i(16),g=i(16);for(t(0!=s),t(null!=a),t(null!=e),t(0<r),h=0;h<s;++h){if(15<a[h])return 0;++m[a[h]]}if(m[0]==s)return 0;for(g[1]=0,d=1;15>d;++d){if(m[d]>1<<d)return 0;g[d+1]=g[d]+m[d]}for(h=0;h<s;++h)d=a[h],0<a[h]&&(o[g[d]++]=h);if(1==g[15])return(a=new u).g=0,a.value=o[0],c(e,p,1,f,a),f;var x,b=-1,y=f-1,v=0,w=1,j=1,S=1<<r;for(h=0,d=1,s=2;d<=r;++d,s<<=1){if(w+=j<<=1,0>(j-=m[d]))return 0;for(;0<m[d];--m[d])(a=new u).g=d,a.value=o[h++],c(e,p+v,s,S,a),v=l(v,d)}for(d=r+1,s=2;15>=d;++d,s<<=1){if(w+=j<<=1,0>(j-=m[d]))return 0;for(;0<m[d];--m[d]){if(a=new u,(v&y)!=b){for(p+=S,x=1<<(b=d)-r;15>b&&!(0>=(x-=m[b]));)++b,x<<=1;f+=S=1<<(x=b-r),e[n+(b=v&y)].g=x+r,e[n+b].value=p-n-b}a.g=d-r,a.value=o[h++],c(e,p+(v>>r),s,S,a),v=l(v,d)}}return w!=2*g[15]-1?0:f}(e,n,r,a,s,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function p(){this.G=s(5,u),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Mn,h)}function f(e,n,r,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+a,e.Zc=4<=a?r+a-4+1:r,C(e)}function m(e,t){for(var n=0;0<t--;)n|=_(e,128)<<t;return n}function g(e,t){var n=m(e,t);return A(e)?-n:n}function x(e,n,r,a){var i,s=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),i=0;i<a;++i)s+=n[r+i]<<8*i;e.Ra=s,e.bb=a,e.oa=n,e.pa=r}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<qn-8>>>0,++e.bb,e.u-=8;S(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Bn){var r=j(e)&On[n];return e.u+=n,b(e),r}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function j(e){return e.Ra>>>(e.u&qn-1)>>>0}function S(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>qn}function N(e,t){e.u=t,e.h=S(e)}function k(e){e.u>=Un&&(t(e.u>=Un),b(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return m(e,1)}function _(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,a=n*t>>>8,i=(e.I>>>r>a)+0;for(i?(n-=a,e.I-=a+1<<r>>>0):n=a+1,r=n,a=0;256<=r;)a+=8,r>>=8;return r=7^a+Wn[r],e.b-=r,e.Ca=(n<<r)-1,i}function P(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function L(e,t){return e[t+0]|e[t+1]<<8}function T(e,t){return L(e,t)|e[t+2]<<16}function E(e,t){return L(e,t)|L(e,t+2)<<16}function z(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=i(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function R(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function I(e,n,r,a){t(null!=r),t(null!=a);var i=r[0],s=a[0];return 0==i&&(i=(e*s+n/2)/n),0==s&&(s=(n*i+e/2)/e),0>=i||0>=s?0:(r[0]=i,a[0]=s,1)}function D(e,t){return e+(1<<t)-1>>>t}function M(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function O(t,n){e[n]=function(n,r,a,i,s,o,l){var c;for(c=0;c<s;++c){var d=e[t](o[l+c-1],a,i+c);o[l+c]=M(n[r+c],d)}}}function B(){this.ud=this.hd=this.jd=0}function q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function U(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function W(e,t){return U(e+(e-t+.5>>1))}function H(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function V(e,t,n,r,a,i,s){for(r=i[s-1],n=0;n<a;++n)i[s+n]=r=M(e[t+n],r)}function G(e,t,n,r,a){var i;for(i=0;i<n;++i){var s=e[t+i],o=s>>8&255,l=16711935&(l=(l=16711935&s)+((o<<16)+o));r[a+i]=(4278255360&s)+l>>>0}}function Y(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,n,r,a,i){var s;for(s=0;s<r;++s){var o=t[n+s],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[i+s]=(4278255360&o)+(d<<16)+c}}function J(t,n,r,a,i){e[n]=function(e,t,n,r,s,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)s[o++]=i(n[a(e[t++])])},e[t]=function(t,n,s,o,l,c,d){var u=8>>t.b,h=t.Ea,p=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<s;++n){var m,g=0;for(m=0;m<h;++m)m&t||(g=a(o[l++])),c[d++]=i(p[g&f]),g>>=u}else e["VP8LMapColor"+r](o,l,p,f,c,d,n,s,h)}}function Q(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i}}function X(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=i>>16&255,r[a++]=i>>8&255,r[a++]=255&i,r[a++]=i>>24&255}}function $(e,t,n,r,a){for(n=t+n;t<n;){var i=(s=e[t++])>>16&240|s>>12&15,s=240&s|s>>28&15;r[a++]=i,r[a++]=s}}function Z(e,t,n,r,a){for(n=t+n;t<n;){var i=(s=e[t++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[a++]=i,r[a++]=s}}function ee(e,t,n,r,a){for(n=t+n;t<n;){var i=e[t++];r[a++]=255&i,r[a++]=i>>8&255,r[a++]=i>>16&255}}function te(e,t,n,a,i,s){if(0==s)for(n=t+n;t<n;)P(a,((s=e[t++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),i+=32;else r(a,i,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Ur||e==Wr||e==Hr||e==Vr}function ae(){this.eb=[],this.size=this.A=this.fb=0}function ie(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function se(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new ie,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,i=a.eb,s=a.fb+e.ka*a.A,o=ga[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,p=e.W,f=t.cc,m=t.dc,g=t.Mc,x=t.Nc,b=e.ka,y=e.ka+e.T,v=e.U,w=v+1>>1;for(0==b?o(l,c,null,null,d,u,h,p,d,u,h,p,i,s,null,null,v):(o(t.ec,t.fc,l,c,f,m,g,x,d,u,h,p,i,s-a.A,i,s,v),++n);b+2<y;b+=2)f=d,m=u,g=h,x=p,u+=e.Rc,p+=e.Rc,s+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,f,m,g,x,d,u,h,p,i,s-a.A,i,s,v);return c+=e.fa,e.j+y<e.o?(r(t.ec,t.fc,l,c,v),r(t.cc,t.dc,d,u,w),r(t.Mc,t.Nc,h,p,w),n--):1&y||o(l,c,null,null,d,u,h,p,d,u,h,p,i,s+a.A,null,null,v),n}function ue(e,n,r){var a=e.F,i=[e.J];if(null!=a){var s=e.U,o=n.ba.S,l=o==Or||o==Hr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,i[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=Nr(a,i[0],e.width,s,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,s,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,a=n==Ir||n==Mr||n==Or||n==Br||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Fn(t.Oa,e,a?11:12))return 0;if(a&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=i(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,bn()}}else alert("todo:EmitYUV");a&&(t.Jb=ue,r&&gn())}if(r&&!La){for(e=0;256>e;++e)Ta[e]=89858*(e-128)+ka>>Na,Ra[e]=-22014*(e-128)+ka,za[e]=-45773*(e-128),Ea[e]=113618*(e-128)+ka>>Na;for(e=Ca;e<Aa;++e)t=76283*(e-16)+ka>>Na,Fa[e-Ca]=Ve(t,255),Ia[e-Ca]=Ve(t+8>>4,15);La=1}return 1}function pe(e){var n=e.ma,r=e.U,a=e.T;return t(!(1&e.ka)),0>=r||0>=a?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,r[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function xe(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var r=j(n),a=e[t+=255&r].g-8;return 0<a&&(N(n,n.u+8),r=j(n),t+=e[t].value,t+=r&(1<<a)-1),N(n,n.u+e[t].g),e[t].value}function ye(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ve(e,n,r){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(r>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,i){var s=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=i;for(i=e.Ta,a=e.Ua;0<s--;){var u=e.gc[s],h=l,p=n,f=c,m=d,g=(d=i,c=a,u.Ea);switch(t(h<p),t(p<=u.nc),u.hc){case 2:Gn(f,m,(p-h)*g,d,c);break;case 0:var x=h,b=p,y=d,v=c,w=(C=u).Ea;0==x&&(Hn(f,m,null,null,1,y,v),V(f,m+1,0,0,w-1,y,v+1),m+=w,v+=w,++x);for(var j=1<<C.b,S=j-1,N=D(w,C.b),k=C.K,C=C.w+(x>>C.b)*N;x<b;){var A=k,_=C,P=1;for(Vn(f,m,y,v-w,1,y,v);P<w;){var L=(P&~S)+j;L>w&&(L=w),(0,Xn[A[_++]>>8&15])(f,m+ +P,y,v+P-w,L-P,y,v+P),P=L}m+=w,v+=w,++x&S||(C+=N)}p!=u.nc&&r(d,c-g,d,c+(p-h-1)*g,g);break;case 1:for(g=f,b=m,w=(f=u.Ea)-(v=f&~(y=(m=1<<u.b)-1)),x=D(f,u.b),j=u.K,u=u.w+(h>>u.b)*x;h<p;){for(S=j,N=u,k=new B,C=b+v,A=b+f;b<C;)Y(S[N++],k),$n(k,g,b,m,d,c),b+=m,c+=m;b<A&&(Y(S[N++],k),$n(k,g,b,w,d,c),b+=w,c+=w),++h&y||(u+=x)}break;case 3:if(f==d&&m==c&&0<u.b){for(b=d,f=g=c+(p-h)*g-(v=(p-h)*D(u.Ea,u.b)),m=d,y=c,x=[],v=(w=v)-1;0<=v;--v)x[v]=m[y+v];for(v=w-1;0<=v;--v)b[f+v]=x[v];Yn(u,h,p,d,g,d,c)}else Yn(u,h,p,f,m,d,c)}c=i,d=a}d!=a&&r(i,a,c,d,o)}function je(e,n){var r=e.V,a=e.Ba+e.c*e.C,i=n-e.C;if(t(n<=e.l.o),t(16>=i),0<i){var s=e.l,o=e.Ta,l=e.Ua,c=s.width;if(we(e,i,r,a),i=l=[l],t((r=e.C)<(a=n)),t(s.v<s.va),a>s.o&&(a=s.o),r<s.j){var d=s.j-r;r=s.j,i[0]+=d*c}if(r>=a?r=0:(i[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=a-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(a=r.S,i=s.U,s=s.T,d=u.eb,u.A),p=s;for(u=u.fb+e.Ma*u.A;0<p--;){var f=o,m=l,g=i,x=d,b=u;switch(a){case Fr:Zn(f,m,g,x,b);break;case Ir:er(f,m,g,x,b);break;case Ur:er(f,m,g,x,b),jr(x,b,0,g,1,0);break;case Dr:rr(f,m,g,x,b);break;case Mr:te(f,m,g,x,b,1);break;case Wr:te(f,m,g,x,b,1),jr(x,b,0,g,1,0);break;case Or:te(f,m,g,x,b,0);break;case Hr:te(f,m,g,x,b,0),jr(x,b,1,g,1,0);break;case Br:tr(f,m,g,x,b);break;case Vr:tr(f,m,g,x,b),Sr(x,b,g,1,0);break;case qr:nr(f,m,g,x,b);break;default:t(0)}l+=c,u+=h}e.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Se(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ne(e,n,r,a,i,s){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ma[e.Z]);n<r;++n)ma[e.Z](o,l,a,i,a,i,s),o=a,l=i,i+=s;e.qd=o,e.rd=l}}function ke(e,n){var r=e.l.ma,a=0==r.Z||1==r.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var i=e.l.width,s=r.ca,o=r.tb+i*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),Jn(d[0],a,n,l,c,s,o),Ne(r,a,n,s,o,i)}e.C=e.Ma=n}function Ce(e,n,r,a,i,s,o){var l=e.$/a,c=e.$%a,d=e.m,u=e.s,h=r+e.$,p=h;i=r+a*i;var f=r+a*s,m=280+u.ua,g=e.Pb?l:16777216,x=0<u.ua?u.Wa:null,b=u.wc,y=h<f?ve(u,c,l):null;t(e.C<s),t(f<=i);var v=!1;e:for(;;){for(;v||h<f;){var w=0;if(l>=g){var C=h-r;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&R(g.s.Wa,g.s.vb),g=l+Zr}if(c&b||(y=ve(u,c,l)),t(null!=y),y.Qb&&(n[h]=y.qb,v=!0),!v)if(k(d),y.jc){w=d,C=n;var A=h,_=y.pd[j(w)&Mn-1];t(y.jc),256>_.g?(N(w,w.u+_.g),C[A]=_.value,w=0):(N(w,w.u+_.g-256),t(256<=_.value),w=_.value),0==w&&(v=!0)}else w=be(y.G[0],y.H[0],d);if(d.h)break;if(v||256>w){if(!v)if(y.nd)n[h]=(y.qb|w<<8)>>>0;else{if(k(d),v=be(y.G[1],y.H[1],d),k(d),C=be(y.G[2],y.H[2],d),A=be(y.G[3],y.H[3],d),d.h)break;n[h]=(A<<24|v<<16|w<<8|C)>>>0}if(v=!1,++h,++c>=a&&(c=0,++l,null!=o&&l<=s&&!(l%16)&&o(e,l),null!=x))for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else if(280>w){if(w=ge(w-256,d),C=be(y.G[4],y.H[4],d),k(d),C=xe(a,C=ge(C,d)),d.h)break;if(h-r<C||i-h<w)break e;for(A=0;A<w;++A)n[h+A]=n[h+A-C];for(h+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=s&&!(l%16)&&o(e,l);if(t(h<=i),c&b&&(y=ve(u,c,l)),null!=x)for(;p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w}else{if(!(w<m))break e;for(v=w-280,t(null!=x);p<h;)w=n[p++],x.X[(506832829*w&4294967295)>>>x.Mb]=w;w=h,t(!(v>>>(C=x).Xa)),n[w]=C.X[v],v=!0}v||t(d.h==S(d))}if(e.Pb&&d.h&&h<i)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&R(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>s?s:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function _e(){var t=new sn;return null==t?null:(t.a=0,t.xb=fa,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=G,$n=K,Zn=Q,er=X,tr=$,nr=Z,rr=ee,e.VP8LMapColor32b=Kn,e.VP8LMapColor8b=Qn,t)}function Pe(e,n,r,o,l){var c=1,h=[e],f=[n],m=o.m,g=o.s,x=null,b=0;e:for(;;){if(r)for(;c&&y(m,1);){var v=h,w=f,S=o,C=1,A=S.m,_=S.gc[S.ab],P=y(A,2);if(S.Oc&1<<P)c=0;else{switch(S.Oc|=1<<P,_.hc=P,_.Ea=v[0],_.nc=w[0],_.K=[null],++S.ab,t(4>=S.ab),P){case 0:case 1:_.b=y(A,3)+2,C=Pe(D(_.Ea,_.b),D(_.nc,_.b),0,S,_.K),_.K=_.K[0];break;case 3:var L,T=y(A,8)+1,E=16<T?0:4<T?1:2<T?2:3;if(v[0]=D(_.Ea,E),_.b=E,L=C=Pe(T,1,0,S,_.K)){var R,F=T,I=_,O=1<<(8>>I.b),B=i(O);if(null==B)L=0;else{var q=I.K[0],U=I.w;for(B[0]=I.K[0][0],R=1;R<1*F;++R)B[R]=M(q[U+R],B[R-1]);for(;R<4*O;++R)B[R]=0;I.K[0]=null,I.K[0]=B,L=1}}C=L;break;case 2:break;default:t(0)}c=C}}if(h=h[0],f=f[0],c&&y(m,1)&&!(c=1<=(b=y(m,4))&&11>=b)){o.a=3;break e}var W;if(W=c)t:{var H,V,G,Y=o,K=h,J=f,Q=b,X=r,$=Y.m,Z=Y.s,ee=[null],te=1,ne=0,re=$r[Q];n:for(;;){if(X&&y($,1)){var ae=y($,3)+2,ie=D(K,ae),se=D(J,ae),oe=ie*se;if(!Pe(ie,se,0,Y,ee))break n;for(ee=ee[0],Z.xc=ae,H=0;H<oe;++H){var le=ee[H]>>8&65535;ee[H]=le,le>=te&&(te=le+1)}}if($.h)break n;for(V=0;5>V;++V){var ce=Kr[V];!V&&0<Q&&(ce+=1<<Q),ne<ce&&(ne=ce)}var de=s(te*re,u),ue=te,he=s(ue,p);if(null==he)var pe=null;else t(65536>=ue),pe=he;var fe=i(ne);if(null==pe||null==fe||null==de){Y.a=1;break n}var me=de;for(H=G=0;H<te;++H){var ge=pe[H],xe=ge.G,be=ge.H,ve=0,we=1,je=0;for(V=0;5>V;++V){ce=Kr[V],xe[V]=me,be[V]=G,!V&&0<Q&&(ce+=1<<Q);r:{var Se,Ne=ce,ke=Y,_e=fe,Le=me,Te=G,Ee=0,ze=ke.m,Re=y(ze,1);if(a(_e,0,0,Ne),Re){var Fe=y(ze,1)+1,Ie=y(ze,1),De=y(ze,0==Ie?1:8);_e[De]=1,2==Fe&&(_e[De=y(ze,8)]=1);var Me=1}else{var Oe=i(19),Be=y(ze,4)+4;if(19<Be){ke.a=3;var qe=0;break r}for(Se=0;Se<Be;++Se)Oe[Qr[Se]]=y(ze,3);var Ue=void 0,We=void 0,He=ke,Ve=Oe,Ge=Ne,Ye=_e,Ke=0,Je=He.m,Qe=8,Xe=s(128,u);a:for(;d(Xe,0,7,Ve,19);){if(y(Je,1)){var $e=2+2*y(Je,3);if((Ue=2+y(Je,$e))>Ge)break a}else Ue=Ge;for(We=0;We<Ge&&Ue--;){k(Je);var Ze=Xe[0+(127&j(Je))];N(Je,Je.u+Ze.g);var et=Ze.value;if(16>et)Ye[We++]=et,0!=et&&(Qe=et);else{var tt=16==et,nt=et-16,rt=Yr[nt],at=y(Je,Gr[nt])+rt;if(We+at>Ge)break a;for(var it=tt?Qe:0;0<at--;)Ye[We++]=it}}Ke=1;break a}Ke||(He.a=3),Me=Ke}(Me=Me&&!ze.h)&&(Ee=d(Le,Te,8,_e,Ne)),Me&&0!=Ee?qe=Ee:(ke.a=3,qe=0)}if(0==qe)break n;if(we&&1==Jr[V]&&(we=0==me[G].g),ve+=me[G].g,G+=qe,3>=V){var st,ot=fe[0];for(st=1;st<ce;++st)fe[st]>ot&&(ot=fe[st]);je+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(xe[3][be[3]+0].value<<24|xe[1][be[1]+0].value<<16|xe[2][be[2]+0].value)>>>0,0==ve&&256>xe[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=xe[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>je,ge.jc){var lt,ct=ge;for(lt=0;lt<Mn;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=ye(ht,8,ut),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ut),ye(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=pe,Z.yc=de,W=1;break t}W=0}if(!(c=W)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!z(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,ft=h,mt=f,gt=pt.s,xt=gt.xc;if(pt.c=ft,pt.i=mt,gt.md=D(ft,xt),gt.wc=0==xt?-1:(1<<xt)-1,r){o.xb=pa;break e}if(null==(x=i(h*f))){o.a=1,c=0;break e}c=(c=Ce(o,x,0,h,f,f,null))&&!m.h;break e}return c?(null!=l?l[0]=x:(t(null==x),t(r)),o.$=0,r||Ae(g)):Ae(g),c}function Le(e,n){var r=e.c*e.i,a=r+n+16*n;return t(e.c<=n),e.V=i(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Te(e,n){var r=e.C,a=n-r,i=e.V,s=e.Ba+e.c*r;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,p=e.Ta,f=e.Ua;we(e,o,i,s),kr(p,f,u,h,d),Ne(l,r,r+o,u,h,c),a-=o,i+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Ee(){this.ub=this.yd=this.td=this.Rb=0}function ze(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Re(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Fe(){this.Yb=function(){var e=[];return function e(t,n,r){for(var a=r[n],i=0;i<a&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));i++)e(t[i],n+1,r)}(e,0,[3,11]),e}()}function Ie(){this.jb=i(3),this.Wc=o([4,8],Fe),this.Xc=o([4,17],Fe)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Me(){this.ld=this.La=this.dd=this.tc=0}function Oe(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qe(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ue(){this.uc=this.M=this.Nb=0,this.wa=Array(new Me),this.Y=0,this.ya=Array(new qe),this.aa=0,this.l=new Ge}function We(){this.y=i(16),this.f=i(8),this.ea=i(8)}function He(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new Ee,this.Kc=new ze,this.ed=new De,this.Qa=new Re,this.Ic=this.$c=this.Aa=0,this.D=new Ue,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,v),this.ia=0,this.pb=s(4,Be),this.Pa=new Ie,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new We),this.Hd=0,this.rb=Array(new Oe),this.sb=0,this.wa=Array(new Me),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qe),this.L=this.aa=0,this.gd=o([4,2],Me),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function Ge(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ye(){var e=new He;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Xe)),e}function Ke(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Je(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Qe(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ke(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,i=n.w,s=n.ha;if(4>s)return Ke(e,7,"Truncated header.");var o=r[i+0]|r[i+1]<<8|r[i+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ke(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ke(e,4,"Frame not displayable.");i+=3,s-=3;var c=e.Kc;if(l.Rb){if(7>s)return Ke(e,7,"cannot parse picture header");if(!Je(r,i,s))return Ke(e,3,"Bad code word");c.c=16383&(r[i+4]<<8|r[i+3]),c.Td=r[i+4]>>6,c.i=16383&(r[i+6]<<8|r[i+5]),c.Ud=r[i+6]>>6,i+=7,s-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>s)return Ke(e,7,"bad partition length");f(o=e.m,r,i,l.ub),i+=l.ub,s-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),d=0;4>d;++d)c.Zb[d]=A(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=A(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=A(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Ke(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=A(o),c.Pc&&A(o)){for(u=0;4>u;++u)A(o)&&(c.vd[u]=g(o,6));for(u=0;4>u;++u)A(o)&&(c.od[u]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ke(e,3,"cannot parse filter header");var h=s;if(s=d=i,i=d+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var p=r[s+0]|r[s+1]<<8|r[s+2]<<16;p>c&&(p=c),f(e.Jc[+h],r,d,p),d+=p,c-=p,s+=3}f(e.Jc[+u],r,d,c),r=d<i?0:5}if(0!=r)return Ke(e,r,"cannot parse partitions");for(r=m(d=e.m,7),s=A(d)?g(d,4):0,i=A(d)?g(d,4):0,c=A(d)?g(d,4):0,u=A(d)?g(d,4):0,d=A(d)?g(d,4):0,h=e.Qa,p=0;4>p;++p){if(h.Cb){var x=h.Zb[p];h.Fb||(x+=r)}else{if(0<p){e.pb[p]=e.pb[0];continue}x=r}var b=e.pb[p];b.Sc[0]=ea[Ve(x+s,127)],b.Sc[1]=ta[Ve(x+0,127)],b.Eb[0]=2*ea[Ve(x+i,127)],b.Eb[1]=101581*ta[Ve(x+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ea[Ve(x+u,117)],b.Qc[1]=ta[Ve(x+d,127)],b.lc=x+d}if(!l.Rb)return Ke(e,4,"Not a key frame.");for(A(o),l=e.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(i=0;3>i;++i)for(c=0;11>c;++c)u=_(o,la[r][s][i][c])?m(o,8):sa[r][s][i][c],l.Wc[r][s].Yb[i][c]=u;for(s=0;17>s;++s)l.Xc[r][s]=l.Wc[r][ca[s]]}return e.kc=A(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,n,r,a,i,s){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!_(e,o[n+0]))return a;for(;!_(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(_(e,o[n+2])){var c=e,d=0;if(_(c,(h=o)[(u=n)+3]))if(_(c,h[u+6])){for(o=0,u=2*(d=_(c,h[u+8]))+(h=_(c,h[u+9+d])),d=0,h=ra[u];h[o];++o)d+=d+_(c,h[o]);d+=3+(8<<u)}else _(c,h[u+7])?(d=7+2*_(c,165),d+=_(c,145)):d=5+_(c,159);else d=_(c,h[u+4])?3+_(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=s+aa[a],0>(c=e).b&&C(c);var u,h=c.b,p=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(u+1&p)<<h,i[l]=((d^p)-p)*r[(0<a)+0]}return 16}function $e(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,n,r,a){a=e[t+n+32*r]+(a>>3),e[t+n+32*r]=-256&a?0>a?0:255:a}function et(e,t,n,r,a,i){Ze(e,t,0,n,r+a),Ze(e,t,1,n,r+i),Ze(e,t,2,n,r-i),Ze(e,t,3,n,r-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,r){var a,s=0,o=i(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[s+0]=l+u,o[s+1]=c+d,o[s+2]=c-d,o[s+3]=l-u,s+=4,t++}for(a=s=0;4>a;++a)l=(e=o[s+0]+4)+o[s+8],c=e-o[s+8],d=(35468*o[s+4]>>16)-tt(o[s+12]),Ze(n,r,0,0,l+(u=tt(o[s+4])+(35468*o[s+12]>>16))),Ze(n,r,1,0,c+d),Ze(n,r,2,0,c-d),Ze(n,r,3,0,l-u),s++,r+=32}function rt(e,t,n,r){var a=e[t+0]+4,i=35468*e[t+4]>>16,s=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,r,0,a+s,e=tt(e[t+1]),o),et(n,r,1,a+i,e,o),et(n,r,2,a-i,e,o),et(n,r,3,a-s,e,o)}function at(e,t,n,r,a){nt(e,t,n,r),a&&nt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function st(e,t,n,r){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)Ze(n,r,t,a,e)}function ot(e,t,n,r){e[t+0]&&lr(e,t+0,n,r),e[t+16]&&lr(e,t+16,n,r+4),e[t+32]&&lr(e,t+32,n,r+128),e[t+48]&&lr(e,t+48,n,r+128+4)}function lt(e,t,n,r){var a,s=i(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];s[0+a]=o+l,s[8+a]=o-l,s[4+a]=d+c,s[12+a]=d-c}for(a=0;4>a;++a)o=(e=s[0+4*a]+3)+s[3+4*a],l=s[1+4*a]+s[2+4*a],c=s[1+4*a]-s[2+4*a],d=e-s[3+4*a],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function ct(e,t,n){var r,a=t-32,i=zr,s=255-e[a-1];for(r=0;r<n;++r){var o,l=i,c=s+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function ht(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function ft(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function mt(e,t,n){var r;for(r=0;16>r;++r)a(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];mt(r>>5,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];mt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];mt(r>>4,e,t)}function yt(e,t){mt(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,a=t-32;for(a=new Uint8Array([vt(e[a-1],e[a+0],e[a+1]),vt(e[a+0],e[a+1],e[a+2]),vt(e[a+1],e[a+2],e[a+3]),vt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)r(e,t+32*n,a,0,a.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];P(e,t+0,16843009*vt(e[t-1-32],n,r)),P(e,t+32,16843009*vt(n,r,a)),P(e,t+64,16843009*vt(r,a,i)),P(e,t+96,16843009*vt(a,i,i))}function St(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)a(e,t+32*n,r,4)}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(r,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(i,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(s,i,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,s,i),e[t+3+32]=e[t+2+0]=vt(l,o,s),e[t+3+0]=vt(c,l,o)}function kt(e,t){var n=e[t+1-32],r=e[t+2-32],a=e[t+3-32],i=e[t+4-32],s=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,a,i),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(a,i,s),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(i,s,o),e[t+3+64]=e[t+2+96]=vt(s,o,l),e[t+3+96]=vt(o,l,l)}function Ct(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1-32],s=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=i+s+1>>1,e[t+1+0]=e[t+2+64]=s+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(a,r,n),e[t+0+64]=vt(r,n,i),e[t+0+32]=e[t+1+96]=vt(n,i,s),e[t+1+32]=e[t+2+96]=vt(i,s,o),e[t+2+32]=e[t+3+96]=vt(s,o,l),e[t+3+32]=vt(o,l,c)}function At(e,t){var n=e[t+0-32],r=e[t+1-32],a=e[t+2-32],i=e[t+3-32],s=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+a+1>>1,e[t+2+0]=e[t+1+64]=a+i+1>>1,e[t+3+0]=e[t+2+64]=i+s+1>>1,e[t+0+32]=vt(n,r,a),e[t+1+32]=e[t+0+96]=vt(r,a,i),e[t+2+32]=e[t+1+96]=vt(a,i,s),e[t+3+32]=e[t+2+96]=vt(i,s,o),e[t+3+64]=vt(s,o,l),e[t+3+96]=vt(o,l,c)}function _t(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+a+1>>1,e[t+2+32]=e[t+0+64]=a+i+1>>1,e[t+1+0]=vt(n,r,a),e[t+3+0]=e[t+1+32]=vt(r,a,i),e[t+3+32]=e[t+1+64]=vt(a,i,i),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=i}function Pt(e,t){var n=e[t-1+0],r=e[t-1+32],a=e[t-1+64],i=e[t-1+96],s=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+s+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=a+r+1>>1,e[t+0+96]=i+a+1>>1,e[t+3+0]=vt(o,l,c),e[t+2+0]=vt(s,o,l),e[t+1+0]=e[t+3+32]=vt(n,s,o),e[t+1+32]=e[t+3+64]=vt(r,n,s),e[t+1+64]=e[t+3+96]=vt(a,r,n),e[t+1+96]=vt(i,a,r)}function Lt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Tt(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Et(e,t,n){var r;for(r=0;8>r;++r)a(t,n+32*r,e,8)}function zt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Et(r>>4,e,t)}function Rt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Et(r>>3,e,t)}function Ft(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Et(r>>3,e,t)}function It(e,t){Et(128,e,t)}function Dt(e,t,n){var r=e[t-n],a=e[t+0],i=3*(a-r)+Tr[1020+e[t-2*n]-e[t+n]],s=Er[112+(i+4>>3)];e[t-n]=zr[255+r+Er[112+(i+3>>3)]],e[t+0]=zr[255+a-s]}function Mt(e,t,n,r){var a=e[t+0],i=e[t+n];return Rr[255+e[t-2*n]-e[t-n]]>r||Rr[255+i-a]>r}function Ot(e,t,n,r){return 4*Rr[255+e[t-n]-e[t+0]]+Rr[255+e[t-2*n]-e[t+n]]<=r}function Bt(e,t,n,r,a){var i=e[t-3*n],s=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Rr[255+o-l]+Rr[255+s-c]>r?0:Rr[255+e[t-4*n]-i]<=a&&Rr[255+i-s]<=a&&Rr[255+s-o]<=a&&Rr[255+u-d]<=a&&Rr[255+d-c]<=a&&Rr[255+c-l]<=a}function qt(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Ot(e,t+r,n,a)&&Dt(e,t+r,n)}function Ut(e,t,n,r){var a=2*r+1;for(r=0;16>r;++r)Ot(e,t+r*n,1,a)&&Dt(e,t+r*n,1)}function Wt(e,t,n,r){var a;for(a=3;0<a;--a)qt(e,t+=4*n,n,r)}function Ht(e,t,n,r){var a;for(a=3;0<a;--a)Ut(e,t+=4,n,r)}function Vt(e,t,n,r,a,i,s,o){for(i=2*i+1;0<a--;){if(Bt(e,t,n,i,s))if(Mt(e,t,n,o))Dt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],p=l[c+0],f=l[c+d],m=l[c+2*d],g=27*(b=Tr[1020+3*(p-h)+Tr[1020+u-f]])+63>>7,x=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=zr[255+l[c-3*d]+b],l[c-2*d]=zr[255+u+x],l[c-d]=zr[255+h+g],l[c+0]=zr[255+p-g],l[c+d]=zr[255+f-x],l[c+2*d]=zr[255+m-b]}t+=r}}function Gt(e,t,n,r,a,i,s,o){for(i=2*i+1;0<a--;){if(Bt(e,t,n,i,s))if(Mt(e,t,n,o))Dt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],p=l[c+d],f=Er[112+(4+(m=3*(h-u))>>3)],m=Er[112+(m+3>>3)],g=f+1>>1;l[c-2*d]=zr[255+l[c-2*d]+g],l[c-d]=zr[255+u+m],l[c+0]=zr[255+h-f],l[c+d]=zr[255+p-g]}t+=r}}function Yt(e,t,n,r,a,i){Vt(e,t,n,1,16,r,a,i)}function Kt(e,t,n,r,a,i){Vt(e,t,1,n,16,r,a,i)}function Jt(e,t,n,r,a,i){var s;for(s=3;0<s;--s)Gt(e,t+=4*n,n,1,16,r,a,i)}function Qt(e,t,n,r,a,i){var s;for(s=3;0<s;--s)Gt(e,t+=4,1,n,16,r,a,i)}function Xt(e,t,n,r,a,i,s,o){Vt(e,t,a,1,8,i,s,o),Vt(n,r,a,1,8,i,s,o)}function $t(e,t,n,r,a,i,s,o){Vt(e,t,1,a,8,i,s,o),Vt(n,r,1,a,8,i,s,o)}function Zt(e,t,n,r,a,i,s,o){Gt(e,t+4*a,a,1,8,i,s,o),Gt(n,r+4*a,a,1,8,i,s,o)}function en(e,t,n,r,a,i,s,o){Gt(e,t+4,1,a,8,i,s,o),Gt(n,r+4,1,a,8,i,s,o)}function tn(){this.ba=new se,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new u}function sn(){this.xb=this.a=0,this.l=new Ge,this.ca=new se,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=s(4,rn),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ge,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,r,a,i,s){for(e=null==e?0:e[t+0],t=0;t<s;++t)a[i+t]=e+n[r+t]&255,e=a[i+t]}function cn(e,t,n,r,a,i,s){var o;if(null==e)ln(null,null,n,r,a,i,s);else for(o=0;o<s;++o)a[i+o]=e[t+o]+n[r+o]&255}function dn(e,t,n,r,a,i,s){if(null==e)ln(null,null,n,r,a,i,s);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<s;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,a[i+o]=d}}function un(e,n,a,s){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=s||a+s>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=i(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,p=e.mb,f=e.nb,m=u+1,g=h-1,b=c.l;if(t(null!=d&&null!=p&&null!=n),ma[0]=null,ma[1]=ln,ma[2]=cn,ma[3]=dn,c.ca=p,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(b.put=pe,b.ac=he,b.bc=fe,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=_e();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,x(n.m,d,m,g),!Pe(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Se(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=i(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Le(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:s=l-a}t(null!=e.ga),t(a+s<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(m=e.rc,g=e.Vc,b=e.Fa,u=e.P+1+a*n,h=e.mb,p=e.nb+a*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=ma[d.Z]),c=0;c<s;++c)ma[d.Z](m,g,b,u,h,p,n),m=h,g=p,p+=n,u+=n;else for(c=0;c<s;++c)r(h,p,b,u,n),m=h,g=p,p+=n,u+=n;e.rc=m,e.Vc=g}else{if(t(null!=d.mc),n=a+s,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,m=c.Ba,g=c.c;var y=c.i,v=(b=1,u=c.$/g,h=c.$%g,p=c.m,f=c.s,c.$),w=g*y,j=g*n,N=f.wc,C=v<j?ve(f,h,u):null;t(v<=w),t(n<=y),t(Se(f));t:for(;;){for(;!p.h&&v<j;){if(h&N||(C=ve(f,h,u)),t(null!=C),k(p),256>(y=be(C.G[0],C.H[0],p)))d[m+v]=y,++v,++h>=g&&(h=0,++u<=n&&!(u%16)&&ke(c,u));else{if(!(280>y)){b=0;break t}y=ge(y-256,p);var A,_=be(C.G[4],C.H[4],p);if(k(p),!(v>=(_=xe(g,_=ge(_,p)))&&w-v>=y)){b=0;break t}for(A=0;A<y;++A)d[m+v+A]=d[m+v+A-_];for(v+=y,h+=y;h>=g;)h-=g,++u<=n&&!(u%16)&&ke(c,u);v<j&&h&N&&(C=ve(f,h,u))}t(p.h==S(p))}ke(c,u>n?n:u);break t}!b||p.h&&v<w?(b=0,c.a=p.h?5:3):c.$=v,n=b}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Te);if(!n){s=0;break e}}a+s>=l&&(e.Cc=1),s=1}if(!s)return null;if(e.Cc&&(null!=(s=e.ga)&&(s.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function hn(e,t,n,r,a,i){for(;0<a--;){var s,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(s=0;s<r;++s){var u=c[d+4*s];255!=u&&(u*=32897,o[l+4*s+0]=o[l+4*s+0]*u>>23,o[l+4*s+1]=o[l+4*s+1]*u>>23,o[l+4*s+2]=o[l+4*s+2]*u>>23)}t+=i}}function pn(e,t,n,r,a){for(;0<r--;){var i;for(i=0;i<n;++i){var s=e[t+2*i+0],o=15&(c=e[t+2*i+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*i+0]=(240&s|s>>4)*l>>16&240|(15&s|s<<4)*l>>16>>4&15,e[t+2*i+1]=240&c|o}t+=a}}function fn(e,t,n,r,a,i,s,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<r;++l){var u=e[t+l];i[s+4*l]=u,d&=u}t+=n,s+=o}return 255!=d}function mn(e,t,n,r,a){var i;for(i=0;i<a;++i)n[r+i]=e[t+i]>>8}function gn(){jr=hn,Sr=pn,Nr=fn,kr=mn}function xn(n,r,a){e[n]=function(e,n,i,s,o,l,c,d,u,h,p,f,m,g,x,b,y){var v,w=y-1>>1,j=o[l+0]|c[d+0]<<16,S=u[h+0]|p[f+0]<<16;t(null!=e);var N=3*j+S+131074>>2;for(r(e[n+0],255&N,N>>16,m,g),null!=i&&(N=3*S+j+131074>>2,r(i[s+0],255&N,N>>16,x,b)),v=1;v<=w;++v){var k=o[l+v]|c[d+v]<<16,C=u[h+v]|p[f+v]<<16,A=j+k+S+C+524296,_=A+2*(k+S)>>3;N=_+j>>1,j=(A=A+2*(j+C)>>3)+k>>1,r(e[n+2*v-1],255&N,N>>16,m,g+(2*v-1)*a),r(e[n+2*v-0],255&j,j>>16,m,g+(2*v-0)*a),null!=i&&(N=A+S>>1,j=_+C>>1,r(i[s+2*v-1],255&N,N>>16,x,b+(2*v-1)*a),r(i[s+2*v+0],255&j,j>>16,x,b+(2*v+0)*a)),j=k,S=C}1&y||(N=3*j+S+131074>>2,r(e[n+y-1],255&N,N>>16,m,g+(y-1)*a),null!=i&&(N=3*S+j+131074>>2,r(i[s+y-1],255&N,N>>16,x,b+(y-1)*a)))}}function bn(){ga[Fr]=xa,ga[Ir]=ya,ga[Dr]=ba,ga[Mr]=va,ga[Or]=wa,ga[Br]=ja,ga[qr]=Sa,ga[Ur]=ya,ga[Wr]=va,ga[Hr]=wa,ga[Vr]=ja}function yn(e){return e&~Pa?0>e?0:255:e>>_a}function vn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function Sn(e,t,n,r,a){r[a+0]=vn(e,n),r[a+1]=wn(e,t,n),r[a+2]=jn(e,t)}function Nn(e,t,n,r,a){r[a+0]=jn(e,t),r[a+1]=wn(e,t,n),r[a+2]=vn(e,n)}function kn(e,t,n,r,a){var i=wn(e,t,n);t=i<<3&224|jn(e,t)>>3,r[a+0]=248&vn(e,n)|i>>5,r[a+1]=t}function Cn(e,t,n,r,a){var i=240&jn(e,t)|15;r[a+0]=240&vn(e,n)|wn(e,t,n)>>4,r[a+1]=i}function An(e,t,n,r,a){r[a+0]=255,Sn(e,t,n,r,a+1)}function _n(e,t,n,r,a){Nn(e,t,n,r,a),r[a+3]=255}function Pn(e,t,n,r,a){Sn(e,t,n,r,a),r[a+3]=255}function Ve(e,t){return 0>e?0:e>t?t:e}function Ln(t,n,r){e[t]=function(e,t,a,i,s,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],a[i+0],s[o+0],l,c),n(e[t+1],a[i+0],s[o+0],l,c+r),t+=2,++i,++o,c+=2*r;1&d&&n(e[t+0],a[i+0],s[o+0],l,c)}}function Tn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function En(e,t,n,r,a){switch(e>>>30){case 3:ir(t,n,r,a,0);break;case 2:sr(t,n,r,a);break;case 1:lr(t,n,r,a)}}function zn(e,t){var n,i,s=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[p+32*n-1]=129;for(0<s?l[c-1-32]=d[u-1-32]=h[p-1-32]=129:(a(l,c-32-1,127,21),a(d,u-32-1,127,9),a(h,p-32-1,127,9)),i=0;i<e.za;++i){var f=t.ya[t.aa+i];if(0<i){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,p+32*n-4,h,p+32*n+4,4)}var m=e.Gd,g=e.Hd+i,x=f.ad,b=f.Hc;if(0<s&&(r(l,c-32,m[g].y,0,16),r(d,u-32,m[g].f,0,8),r(h,p-32,m[g].ea,0,8)),f.Za){var y=l,v=c-32+16;for(0<s&&(i>=e.za-1?a(y,v,m[g].y[15],4):r(y,v,m[g+1].y,0,4)),n=0;4>n;n++)y[v+128+n]=y[v+256+n]=y[v+384+n]=y[v+0+n];for(n=0;16>n;++n,b<<=2)y=l,v=c+Da[n],ua[f.Ob[n]](y,v),En(b,x,16*+n,y,v)}else if(y=Tn(i,s,f.Ob[0]),da[y](l,c),0!=b)for(n=0;16>n;++n,b<<=2)En(b,x,16*+n,l,c+Da[n]);for(n=f.Gc,y=Tn(i,s,f.Dd),ha[y](d,u),ha[y](h,p),b=x,y=d,v=u,255&(f=0|n)&&(170&f?or(b,256,y,v):cr(b,256,y,v)),f=h,b=p,255&(n>>=8)&&(170&n?or(x,320,f,b):cr(x,320,f,b)),s<e.Ub-1&&(r(m[g].y,0,l,c+480,16),r(m[g].f,0,d,u+224,8),r(m[g].ea,0,h,p+224,8)),n=8*o*e.B,m=e.sa,g=e.ta+16*i+16*o*e.R,x=e.qa,f=e.ra+8*i+n,b=e.Ha,y=e.Ia+8*i+n,n=0;16>n;++n)r(m,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(x,f+n*e.B,d,u+32*n,8),r(b,y+n*e.B,h,p+32*n,8)}}function Rn(e,r,a,i,s,o,l,c,d){var u=[0],h=[0],p=0,f=null!=d?d.kd:0,m=null!=d?d:new nn;if(null==e||12>a)return 7;m.data=e,m.w=r,m.ha=a,r=[r],a=[a],m.gb=[m.gb];e:{var g=r,b=a,y=m.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var v=E(e,g[0]+4);if(12>v||4294967286<v){y=3;break e}if(f&&v>b[0]-8){y=7;break e}y[0]=v,g[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(v=0<m.gb[0],a=a[0];;){e:{var j=e;b=r,y=a;var S=u,N=h,k=g=[0];if((_=p=[p])[0]=0,8>y[0])y=7;else{if(!n(j,b[0],"VP8X")){if(10!=E(j,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var C=E(j,b[0]+8),A=1+T(j,b[0]+12);if(2147483648<=A*(j=1+T(j,b[0]+15))){y=3;break e}null!=k&&(k[0]=C),null!=S&&(S[0]=A),null!=N&&(N[0]=j),b[0]+=18,y[0]-=18,_[0]=1}y=0}}if(p=p[0],g=g[0],0!=y)return y;if(b=!!(2&g),!v&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],g=h[0],p&&b&&null==d){y=0;break}if(4>a){y=7;break}if(v&&p||!v&&!p&&!n(e,r[0],"ALPH")){a=[a],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{C=e,y=r,v=a;var _=m.gb;S=m.na,N=m.P,k=m.Sa,A=22,t(null!=C),t(null!=v),j=y[0];var P=v[0];for(t(null!=S),t(null!=k),S[0]=null,N[0]=null,k[0]=0;;){if(y[0]=j,v[0]=P,8>P){y=7;break e}var L=E(C,j+4);if(4294967286<L){y=3;break e}var z=8+L+1&-2;if(A+=z,0<_&&A>_){y=3;break e}if(!n(C,j,"VP8 ")||!n(C,j,"VP8L")){y=0;break e}if(P[0]<z){y=7;break e}n(C,j,"ALPH")||(S[0]=C,N[0]=j+8,k[0]=L),j+=z,P-=z}}if(a=a[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=y)break}a=[a],m.Ja=[m.Ja],m.xa=[m.xa];e:if(_=e,y=r,v=a,S=m.gb[0],N=m.Ja,k=m.xa,C=y[0],j=!n(_,C,"VP8 "),A=!n(_,C,"VP8L"),t(null!=_),t(null!=v),t(null!=N),t(null!=k),8>v[0])y=7;else{if(j||A){if(_=E(_,C+4),12<=S&&_>S-12){y=3;break e}if(f&&_>v[0]-8){y=7;break e}N[0]=_,y[0]+=8,v[0]-=8,k[0]=A}else k[0]=5<=v[0]&&47==_[C+0]&&!(_[C+4]>>5),N[0]=v[0];y=0}if(a=a[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=y)break;if(4294967286<m.Ja)return 3;if(null==c||b||(c[0]=m.xa?2:1),l=[l],g=[g],m.xa){if(5>a){y=7;break}c=l,f=g,b=o,null==e||5>a?e=0:5<=a&&47==e[r+0]&&!(e[r+4]>>5)?(v=[0],_=[0],S=[0],x(N=new w,e,r,a),me(N,v,_,S)?(null!=c&&(c[0]=v[0]),null!=f&&(f[0]=_[0]),null!=b&&(b[0]=S[0]),e=1):e=0):e=0}else{if(10>a){y=7;break}c=g,null==e||10>a||!Je(e,r+3,a-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,b=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=m.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(u[0]!=l||h[0]!=g))return 3;null!=d&&(d[0]=m,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-a));break}return 0==y||7==y&&p&&null==d?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=i&&(i[0]=l),null!=s&&(s[0]=g),0):y}function Fn(e,t,n){var r=t.width,a=t.height,i=0,s=0,o=r,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,i=e.v,s=e.j,11>n||(i&=-2,s&=-2),0>i||0>s||0>=o||0>=l||i+o>r||s+l>a))return 0;if(t.v=i,t.j=s,t.va=i+o,t.o=s+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!I(o,l,n=[e.ib],i=[e.hb]))return 0;t.ib=n[0],t.hb=i[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*a/4,t.Kb=0),1}function In(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,s=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=s||o+a>e||l+s>t)return 2;e=a,t=s}if(n.da){if(!I(e,t,a=[n.ib],s=[n.hb]))return 2;e=a[0],t=s[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Fr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=s=a=t=0;var u=(l=c*Ba[e])*d;if(11>e||(s=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=i(u+2*s+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=s,c.ea=d,c.W=0+u+s,c.Db=t,c.Ed=s,12==e&&(c.F=d,c.J=0+u+2*s),c.Tc=o,c.lb=a)}if(t=1,a=r.S,s=r.width,o=r.height,a>=Fr&&13>a)if(11>a)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+s<=e.size,t&=l>=s*Ba[a],t&=null!=e.eb;else{e=r.f.kb,l=(s+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),p=Math.abs(e.lb),f=p*(o-1)+s;t&=c*(o-1)+s<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=s&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=p>=s,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=In(r)),e}var Mn=64,On=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bn=24,qn=32,Un=8,Wn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];O("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return q(q(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return q(e,t[n-1])},e.Predictor7=function(e,t,n){return q(e,t[n+0])},e.Predictor8=function(e,t,n){return q(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return q(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return q(q(e,t[n-1]),q(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=H(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+H(r>>16&255,e>>16&255,t>>16&255)+H(r>>8&255,e>>8&255,t>>8&255)+H(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(U((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|U((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|U((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|U((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(W((e=q(e,t[n+0]))>>24&255,r>>24&255)<<24|W(e>>16&255,r>>16&255)<<16|W(e>>8&255,r>>8&255)<<8|W(255&e,255&r))>>>0};var Hn=e.PredictorAdd0;e.PredictorAdd1=V,O("Predictor2","PredictorAdd2"),O("Predictor3","PredictorAdd3"),O("Predictor4","PredictorAdd4"),O("Predictor5","PredictorAdd5"),O("Predictor6","PredictorAdd6"),O("Predictor7","PredictorAdd7"),O("Predictor8","PredictorAdd8"),O("Predictor9","PredictorAdd9"),O("Predictor10","PredictorAdd10"),O("Predictor11","PredictorAdd11"),O("Predictor12","PredictorAdd12"),O("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;J("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),J("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Gn,Yn=e.ColorIndexInverseTransform,Kn=e.MapARGB,Jn=e.VP8LColorIndexInverseTransformAlpha,Qn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,Zn,er,tr,nr,rr,ar,ir,sr,or,lr,cr,dr,ur,hr,pr,fr,mr,gr,xr,br,yr,vr,wr,jr,Sr,Nr,kr,Cr=i(511),Ar=i(2041),_r=i(225),Pr=i(767),Lr=0,Tr=Ar,Er=_r,zr=Pr,Rr=Cr,Fr=0,Ir=1,Dr=2,Mr=3,Or=4,Br=5,qr=6,Ur=7,Wr=8,Hr=9,Vr=10,Gr=[2,3,7],Yr=[3,3,11],Kr=[280,256,256,256,40],Jr=[0,1,1,1,0],Qr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zr=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ia=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],sa=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ua=[],ha=[],pa=1,fa=2,ma=[],ga=[];xn("UpsampleRgbLinePair",Sn,3),xn("UpsampleBgrLinePair",Nn,3),xn("UpsampleRgbaLinePair",Pn,4),xn("UpsampleBgraLinePair",_n,4),xn("UpsampleArgbLinePair",An,4),xn("UpsampleRgba4444LinePair",Cn,2),xn("UpsampleRgb565LinePair",kn,2);var xa=e.UpsampleRgbLinePair,ba=e.UpsampleBgrLinePair,ya=e.UpsampleRgbaLinePair,va=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,ja=e.UpsampleRgba4444LinePair,Sa=e.UpsampleRgb565LinePair,Na=16,ka=1<<Na-1,Ca=-227,Aa=482,_a=6,Pa=(256<<_a)-1,La=0,Ta=i(256),Ea=i(256),za=i(256),Ra=i(256),Fa=i(Aa-Ca),Ia=i(Aa-Ca);Ln("YuvToRgbRow",Sn,3),Ln("YuvToBgrRow",Nn,3),Ln("YuvToRgbaRow",Pn,4),Ln("YuvToBgraRow",_n,4),Ln("YuvToArgbRow",An,4),Ln("YuvToRgba4444Row",Cn,2),Ln("YuvToRgb565Row",kn,2);var Da=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ma=[0,2,8],Oa=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Ir,u=new tn,h=new se;u.ba=h,h.S=d,h.width=[h.width],h.height=[h.height];var p=h.width,f=h.height,m=new oe;if(null==m||null==e)var g=2;else t(null!=m),g=Rn(e,n,o,m.width,m.height,m.Pd,m.Qd,m.format,null);if(0!=g?p=0:(null!=p&&(p[0]=m.width[0]),null!=f&&(f[0]=m.height[0]),p=1),p){h.width=h.width[0],h.height=h.height[0],null!=l&&(l[0]=h.width),null!=c&&(c[0]=h.height);e:{if(l=new Ge,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=Rn(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=he,l.bc=fe,l.ma=u,c.xa){if(null==(e=_e())){u=1;break e}if(function(e,n){var r=[0],a=[0],i=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,x(e.m,n.data,n.w,n.ha),!me(e.m,r,a,i)){e.a=3;break t}if(e.xb=fa,n.width=r[0],n.height=a[0],!Pe(r[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Dn(l.width,l.height,u.Oa,u.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Fn(c.Oa,o,Mr)){l.a=2;break n}if(!Le(l,o.width))break n;if(o.da)break n;if((o.da||re(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!z(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,je))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ye)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Qe(e,l)){if(0==(n=Dn(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(f=m=0;4>f;++f)12>(g=c.pb[f]).lc&&(g.ia=p*Oa[0>g.lc?0:g.lc]>>3),m|=g.ia;m&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ke(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Qe(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ma[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var p=h;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),u.dd=p,u.tc=2*h+p,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ke(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var f=32*p,m=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,x=(2==e.Aa?2:1)*p;if((u=l+832+(c=3*(16*o+Ma[e.L])/2*f)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=i(u),e.Fc=0,null==e.Ec){o=Ke(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=s(f,We),e.Hd=0,e.rb=s(m+1,Oe),e.sb=1,e.wa=g?s(g,Me):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=s(x,qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(f=Ma[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=h+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+f,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),$e(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Lr){for(o=-255;255>=o;++o)Cr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)Ar[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)_r[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Pr[255+o]=0>o?0:255<o?255:o;Lr=1}ar=lt,ir=at,or=it,lr=st,cr=ot,sr=rt,dr=Yt,ur=Kt,hr=Xt,pr=$t,fr=Jt,mr=Qt,gr=Zt,xr=en,br=qt,yr=Ut,vr=Wt,wr=Ht,ua[0]=St,ua[1]=dt,ua[2]=wt,ua[3]=jt,ua[4]=Nt,ua[5]=Ct,ua[6]=kt,ua[7]=At,ua[8]=Pt,ua[9]=_t,da[0]=gt,da[1]=ht,da[2]=pt,da[3]=ft,da[4]=xt,da[5]=bt,da[6]=yt,ha[0]=zt,ha[1]=ut,ha[2]=Lt,ha[3]=Tt,ha[4]=Ft,ha[5]=Rt,ha[6]=It,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var s,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(s=0;s<c.za;++s){var d=l,u=c,h=u.Ac,p=u.Bc+4*s,f=u.zc,m=u.ya[u.aa+s];if(u.Qa.Bb?m.$b=_(d,u.Pa.jb[0])?2+_(d,u.Pa.jb[2]):_(d,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=_(d,u.Bd)),m.Za=!_(d,145)+0,m.Za){var g=m.Ob,x=0;for(u=0;4>u;++u){var b,y=f[0+u];for(b=0;4>b;++b){y=oa[h[p+b]][y];for(var v=ia[_(d,y[0])];0<v;)v=ia[2*v+_(d,y[v])];y=-v,h[p+b]=y}r(g,x,h,p,4),x+=4,f[0+u]=y}}else y=_(d,156)?_(d,128)?1:3:_(d,163)?2:0,m.Ob[0]=y,a(h,p,y,4),a(f,0,y,4);m.Dd=_(d,142)?_(d,114)?_(d,183)?1:3:2:0}if(c.m.Ka)return Ke(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],s=l.ya[l.aa+l.ja],p=l.kc?s.Ad:0)d.la=h.la=0,s.Za||(d.Na=h.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,j;if(d=h,h=c,p=l.Pa.Xc,f=l.ya[l.aa+l.ja],m=l.pb[f.$b],u=f.ad,g=0,x=l.rb[l.sb-1],y=b=0,a(u,g,0,384),f.Za)var S=0,N=p[3];else{v=i(16);var k=d.Na+x.Na;if(k=na(h,p[1],k,m.Eb,0,v,0),d.Na=x.Na=(0<k)+0,1<k)ar(v,0,u,g);else{var C=v[0]+3>>3;for(v=0;256>v;v+=16)u[g+v]=C}S=1,N=p[0]}var A=15&d.la,P=15&x.la;for(v=0;4>v;++v){var L=1&P;for(C=j=0;4>C;++C)A=A>>1|(L=(k=na(h,N,k=L+(1&A),m.Sc,S,u,g))>S)<<7,j=j<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;A>>=4,P=P>>1|L<<7,b=(b<<8|j)>>>0}for(N=A,S=P>>4,w=0;4>w;w+=2){for(j=0,A=d.la>>4+w,P=x.la>>4+w,v=0;2>v;++v){for(L=1&P,C=0;2>C;++C)k=L+(1&A),A=A>>1|(L=0<(k=na(h,p[2],k,m.Qc,0,u,g)))<<3,j=j<<2|(3<k?3:1<k?2:0!=u[g+0]),g+=16;A>>=2,P=P>>1|L<<5}y|=j<<4*w,N|=A<<4<<w,S|=(240&P)<<w}d.la=N,x.la=S,f.Hc=b,f.Gc=y,f.ia=43690&y?0:m.ia,p=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[s.$b][s.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ke(e,7,"Premature end-of-file encountered.")}if($e(e),l=n,c=1,s=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(s.M=o.M,s.uc=d,zn(o,s),c=1,s=(j=o.D).Nb,d=(y=Ma[o.L])*o.R,h=y/2*o.B,v=16*s*o.R,C=8*s*o.B,p=o.sa,f=o.ta-d+v,m=o.qa,u=o.ra-h+C,g=o.Ha,x=o.Ia-h+C,P=0==(A=j.M),b=A>=o.Va-1,2==o.Aa&&zn(o,j),j.uc)for(L=(k=o).D.M,t(k.D.uc),j=k.yb;j<k.Hb;++j){S=j,N=L;var T=(E=(q=k).D).Nb;w=q.R;var E=E.wa[E.Y+S],z=q.sa,R=q.ta+16*T*w+16*S,F=E.dd,I=E.tc;if(0!=I)if(t(3<=I),1==q.L)0<S&&yr(z,R,w,I+4),E.La&&wr(z,R,w,I),0<N&&br(z,R,w,I+4),E.La&&vr(z,R,w,I);else{var D=q.B,M=q.qa,O=q.ra+8*T*D+8*S,B=q.Ha,q=q.Ia+8*T*D+8*S;T=E.ld,0<S&&(ur(z,R,w,I+4,F,T),pr(M,O,B,q,D,I+4,F,T)),E.La&&(mr(z,R,w,I,F,T),xr(M,O,B,q,D,I,F,T)),0<N&&(dr(z,R,w,I+4,F,T),hr(M,O,B,q,D,I+4,F,T)),E.La&&(fr(z,R,w,I,F,T),gr(M,O,B,q,D,I,F,T))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(j=16*A,A=16*(A+1),P?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(j-=y,l.y=p,l.O=f,l.f=m,l.N=u,l.ea=g,l.W=x),b||(A-=y),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&j<A&&(l.J=un(o,l,j,A-j),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ke(o,3,"Could not decode alpha data.");break t}j<l.j&&(y=l.j-j,j=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),j<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=j-l.j,l.U=l.va-l.v,l.T=A-j,c=l.put(l))}s+1!=o.Ic||b||(r(o.sa,o.ta-d,p,f+16*o.R,d),r(o.qa,o.ra-h,m,u+8*o.B,h),r(o.Ha,o.Ia-h,g,x+8*o.B,h))}if(!c)return Ke(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=u.Oa&&u.Oa.fd&&(n=In(u.ba))}u=n}d=0!=u?null:11>d?h.f.RGBA.eb:h.f.kb.y}else d=null;return d};var Ba=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],f=[0],m=[],g=new l,x=e,b=function(e,t){var n={},r=0,a=!1,i=0,s=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(h(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=h(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=a?s:t-8,g.src_size=i+l+8,r++,a&&(a=!1,i=0,s=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var f=t+4;g.canvas_width=1+u(e,f),f+=3,g.canvas_height=1+u(e,f),f+=3;break;case"ALPH":a=!0,i=p+8,s=t-8;break;case"ANIM":(g=n.header).bgcolor=h(e,t),f=t+4,g.loop_count=d(e,f),f+=2;break;case"ANMF":var m,g;(g=n.frames[r]={}).offset_x=2*u(e,t),t+=3,g.offset_y=2*u(e,t),t+=3,g.width=1+u(e,t),t+=3,g.height=1+u(e,t),t+=3,g.duration=u(e,t),t+=3,m=e[t++],g.dispose=1&m,g.blend=m>>1&1}"ANMF"!=o&&(t+=p)}return n}}(x,0);b.response=x,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,v=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],f=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var j=v[0],S=g.WebPDecodeRGBA(x,j.src_off,j.src_size,f,p);j.rgba=S,j.imgwidth=f[0],j.imgheight=p[0];for(var N=0;N<f[0]*p[0]*4;N++)m[N]=S[N];return this.width=f,this.height=p,this.data=m,this}!function(e){var t,n,r,a,i,s,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new s,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new s,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var i=0;Object.defineProperty(this,"posY",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(e){s=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var p=null,f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){p=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],a=t[4];t[5];var i=t[6],s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===s?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,r=[],a=e.trim();if(""===a)return ws;if(a in os)return[os[a]];for(;""!==a;){switch(n=null,t=(a=cs(a)).charAt(0)){case'"':case"'":n=ds(a.substring(1),t);break;default:n=us(a)}if(null===n)return ws;if(r.push(n[0]),""!==(a=cs(n[1]))&&","!==a.charAt(0))return ws;a=a.replace(/^,/,"")}return r}(i);if(this.fontFaces){var l=function(e,t){if(null===p){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());p=function(e){for(var t={},n=0;n<e.length;++n){var r=as(e[n]),a=r.family,i=r.stretch,s=r.style,o=r.weight;t[a]=t[a]||{},t[a][i]=t[a][i]||{},t[a][i][s]=t[a][i][s]||{},t[a][i][s][o]=r}return t}(n.concat(t))}return p}(this.pdf,this.fontFaces),c=o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}),d=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},ss,n.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=as(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+ls(i)+"' and default family '"+r+"'.");if(s=function(e,t){if(t[e])return t[e];var n=ts[e],r=n<=ts.normal?-1:1,a=is(t,es,n,r);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(i.stretch,s),s=function(e,t){if(t[e])return t[e];for(var n=Zi[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(i.style,s),!(s=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=rs[e],r=is(t,ns,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+ls(i)+"'.");return s}(l,c);this.pdf.setFont(d.ref.name,d.ref.style)}else{var u="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(u="bold"),"italic"===n&&(u+="italic"),0===u.length&&(u="normal");for(var h="",f={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},m=0;m<o.length;m++){if(void 0!==this.pdf.internal.getFont(o[m],u,{noFallback:!0,disableWarning:!0})){h=o[m];break}if("bolditalic"===u&&void 0!==this.pdf.internal.getFont(o[m],"bold",{noFallback:!0,disableWarning:!0}))h=o[m],u="bold";else if(void 0!==this.pdf.internal.getFont(o[m],"normal",{noFallback:!0,disableWarning:!0})){h=o[m],u="normal";break}}if(""===h)for(var g=0;g<o.length;g++)if(f[o[g]]){h=f[o[g]];break}h=""===h?"Times":h,this.pdf.setFont(h,u)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw Ra.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(e,t)},u.prototype.closePath=function(){var e=new s(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,v.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new s(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw Ra.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new s(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw Ra.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new s(n,r)),i=this.ctx.transform.applyToPoint(new s(e,t));this.path.push({type:"qct",x1:i.x,y1:i.y,x:a.x,y:a.y}),this.ctx.lastPoint=new s(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,r,a,i){if(isNaN(a)||isNaN(i)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ra.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new s(a,i)),l=this.ctx.transform.applyToPoint(new s(e,t)),c=this.ctx.transform.applyToPoint(new s(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new s(o.x,o.y)},u.prototype.arc=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a))throw Ra.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(i=Boolean(i),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new s(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new s(0,n)),c=this.ctx.transform.applyToPoint(new s(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-r)>=2*Math.PI&&(r=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:a,counterclockwise:i})},u.prototype.arcTo=function(e,t,n,r,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ra.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ra.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ra.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},u.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw Ra.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,a=0;else{var i=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==i)t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=1;else if(null!==(i=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(i[1]),n=parseInt(i[2]),r=parseInt(i[3]),a=parseFloat(i[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var s=new Oa(e);e=s.ok?s.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:a,style:e}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Ra.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var a=F(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:n,scale:i,angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw Ra.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var a=F(this.ctx.transform.rotation),i=this.ctx.transform.scaleX;P.call(this,{text:e,x:t,y:n,scale:i,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:r})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw Ra.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw Ra.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw Ra.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw Ra.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,r,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(a)||isNaN(i))throw Ra.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new l(e,t,n,r,a,i);this.ctx.transform=this.ctx.transform.multiply(s)},u.prototype.setTransform=function(e,t,n,r,a,i){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,a=isNaN(a)?0:a,i=isNaN(i)?0:i,this.ctx.transform=new l(e,t,n,r,a,i)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,r,a,i,s,c,d){var u=this.pdf.getImageProperties(e),h=1,p=1,f=1,x=1;void 0!==r&&void 0!==c&&(f=c/r,x=d/a,h=u.width/r*c/r,p=u.height/a*d/a),void 0===i&&(i=t,s=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,d=a),void 0===r&&void 0===c&&(c=u.width,d=u.height);for(var v,w=this.ctx.transform.decompose(),S=F(w.rotate.shx),N=new l,k=(N=(N=(N=N.multiply(w.translate)).multiply(w.skew)).multiply(w.scale)).applyToRectangle(new o(i-t*f,s-n*x,r*h,a*p)),C=g.call(this,k),A=[],_=0;_<C.length;_+=1)-1===A.indexOf(C[_])&&A.push(C[_]);if(y(A),this.autoPaging)for(var P=A[0],L=A[A.length-1],T=P;T<L+1;T++){this.pdf.setPage(T);var E=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],z=1===T?this.posY+this.margin[0]:this.margin[0],R=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===T?0:R+(T-2)*I;if(0!==this.ctx.clip_path.length){var M=this.path;v=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(v,this.posX+this.margin[3],-D+z+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=M}var O=JSON.parse(JSON.stringify(k));O=b([O],this.posX+this.margin[3],-D+z+this.ctx.prevPageLastElemOffset)[0];var B=(T>P||T<L)&&m.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],E,I,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",O.x,O.y,O.w,O.h,null,null,S),B&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,S)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+a)/n)+1);break;case"arc":r.push(Math.floor((e.y+a-e.radius)/n)+1),r.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var i=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((i.y+a)/n)+1),r.push(Math.floor((i.y+i.h+a)/n)+1);break;case"bct":var s=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((s.y+a)/n)+1),r.push(Math.floor((s.y+s.h+a)/n)+1);break;case"rect":r.push(Math.floor((e.y+a)/n)+1),r.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)x.call(this);return r},x=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,a=this.lineWidth,i=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=a,this.lineJoin=i},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var n,r,a=this.fillStyle,i=this.strokeStyle,s=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],p=0;p<u.length;p++)if(void 0!==u[p].x)for(var f=g.call(this,u[p]),v=0;v<f.length;v+=1)-1===h.indexOf(f[v])&&h.push(f[v]);for(var w=0;w<h.length;w++)for(;this.pdf.internal.getNumberOfPages()<h[w];)x.call(this);if(y(h),this.autoPaging)for(var S=h[0],N=h[h.length-1],k=S;k<N+1;k++){this.pdf.setPage(k),this.fillStyle=a,this.strokeStyle=i,this.lineCap=s,this.lineWidth=l,this.lineJoin=c;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===k?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],L=1===k?0:_+(k-2)*P;if(0!==this.ctx.clip_path.length){var T=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-L+A+this.ctx.prevPageLastElemOffset),j.call(this,e,!0),this.path=T}if(r=JSON.parse(JSON.stringify(d)),this.path=b(r,this.posX+this.margin[3],-L+A+this.ctx.prevPageLastElemOffset),!1===t||0===k){var E=(k>S||k<N)&&m.call(this);E&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,P,null).clip().discardPath()),j.call(this,e,t),E&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,j.call(this,e,t),this.lineWidth=o;this.path=d},j=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!p.call(this))){for(var n,r,a=[],i=this.path,s=0;s<i.length;s++){var o=i[s];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(i[s-1]&&!isNaN(i[s-1].x)&&(n=[o.x-i[s-1].x,o.y-i[s-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-i[s-1].x,o.y1-i[s-1].y,o.x2-i[s-1].x,o.y2-i[s-1].y,o.x-i[s-1].x,o.y-i[s-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=i[s-1].x+2/3*(o.x1-i[s-1].x),d=i[s-1].y+2/3*(o.y1-i[s-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),m=o.x,g=o.y;n=[c-i[s-1].x,d-i[s-1].y,u-i[s-1].x,h-i[s-1].y,m-i[s-1].x,g-i[s-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var x=!1,b=0;b<a.length;b++)if(a[b].arc)for(var y=a[b].abs,v=0;v<y.length;v++){var w=y[v];"arc"===w.type?k.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!x):L.call(this,w.x,w.y),x=!0}else if(!0===a[b].close)this.pdf.internal.out("h"),x=!1;else if(!0!==a[b].begin){var j=a[b].start.x,S=a[b].start.y;T.call(this,a[b].deltas,j,S),x=!0}r&&C.call(this,r),t&&A.call(this)}},S=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,n,r,a,i,s,o,l){for(var c=z.call(this,n,r,a,i),d=0;d<c.length;d++){var u=c[d];0===d&&(l?_.call(this,u.x1+e,u.y1+t):L.call(this,u.x1+e,u.y1+t)),E.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?A.call(this):C.call(this,s)},C=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},P=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=S.call(this,e.y),a=N.call(this,r)-n.h,i=this.ctx.transform.applyToPoint(new s(e.x,r)),c=this.ctx.transform.decompose(),d=new l;d=(d=(d=d.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var u,h,p,f=this.ctx.transform.applyToRectangle(new o(e.x,r,n.w,n.h)),x=d.applyToRectangle(new o(e.x,a,n.w,n.h)),v=g.call(this,x),w=[],k=0;k<v.length;k+=1)-1===w.indexOf(v[k])&&w.push(v[k]);if(y(w),this.autoPaging)for(var C=w[0],A=w[w.length-1],_=C;_<A+1;_++){this.pdf.setPage(_);var P=1===_?this.posY+this.margin[0]:this.margin[0],L=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[2],E=T-this.margin[0],z=this.pdf.internal.pageSize.width-this.margin[1],R=z-this.margin[3],F=1===_?0:L+(_-2)*E;if(0!==this.ctx.clip_path.length){var I=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*F+P),j.call(this,"fill",!0),this.path=I}var D=b([JSON.parse(JSON.stringify(x))],this.posX+this.margin[3],-F+P+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var M="text"!==this.autoPaging;if(M||D.y+D.h<=T){if(M||D.y>=P&&D.x<=z){var O=M?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||z-D.x)[0],B=b([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-F+P+this.ctx.prevPageLastElemOffset)[0],q=M&&(_>C||_<A)&&m.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],R,E,null).clip().discardPath()),this.pdf.text(O,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),q&&this.pdf.restoreGraphicsState()}}else D.y<T&&(this.ctx.prevPageLastElemOffset+=T-D.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,i.x+this.posX,i.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=p)},L=function(e,t,a,i){a=a||0,i=i||0,this.pdf.internal.out(n(e+a)+" "+r(t+i)+" l")},T=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},E=function(e,n,r,s,o,l,c,d){this.pdf.internal.out([t(a(r+e)),t(i(s+n)),t(a(o+e)),t(i(l+n)),t(a(c+e)),t(i(d+n)),"c"].join(" "))},z=function(e,t,n,r){for(var a=2*Math.PI,i=Math.PI/2;t>n;)t-=a;var s=Math.abs(n-t);s<a&&r&&(s=a-s);for(var o=[],l=r?-1:1,c=t;s>1e-5;){var d=c+l*Math.min(s,i);o.push(R.call(this,e,c,d)),s-=Math.abs(d-c),c=d}return o},R=function(e,t,n){var r=(n-t)/2,a=e*Math.cos(r),i=e*Math.sin(r),s=a,o=-i,l=s*s+o*o,c=l+s*a+o*i,d=4/3*(Math.sqrt(2*l*c)-c)/(s*i-o*a),u=s-d*o,h=o+d*s,p=u,f=-h,m=r+t,g=Math.cos(m),x=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*g-h*x,y2:u*x+h*g,x3:p*g-f*x,y3:p*x+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},F=function(e){return 180*e/Math.PI},I=function(e,t,n,r,a,i){var s=e+.5*(n-e),l=t+.5*(r-t),c=a+.5*(n-a),d=i+.5*(r-i),u=Math.min(e,a,s,c),h=Math.max(e,a,s,c),p=Math.min(t,i,l,d),f=Math.max(t,i,l,d);return new o(u,p,h-u,f-p)},D=function(e,t,n,r,a,i,s,l){var c,d,u,h,p,f,m,g,x,b,y,v,w,j,S=n-e,N=r-t,k=a-n,C=i-r,A=s-a,_=l-i;for(d=0;d<41;d++)x=(m=(u=e+(c=d/40)*S)+c*((p=n+c*k)-u))+c*(p+c*(a+c*A-p)-m),b=(g=(h=t+c*N)+c*((f=r+c*C)-h))+c*(f+c*(i+c*_-f)-g),0==d?(y=x,v=b,w=x,j=b):(y=Math.min(y,x),v=Math.min(v,b),w=Math.max(w,x),j=Math.max(j,b));return new o(Math.round(y),Math.round(v),Math.round(w-y),Math.round(j-v))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(ui.API),function(e){var t=function(e){var t,n,r,a,i,s,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>r;r+=4)0!==(i=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(s=(i=((i=((i=((i=(i-(d=i%85))/85)-(c=i%85))/85)-(l=i%85))/85)-(o=i%85))/85)%85,n.push(s+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,a,i,s=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],a=0,i=(e+=t="uuuuu"[d](e[o]%5||5))[o];i>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),s.fromCharCode.apply(s,r)},r=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=ae(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,s){var o=0,l=e||"",c=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=r(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ui.API),(vs=ui.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,a=0,i=function(e){var t=e.length,n=[],r=String.fromCharCode;for(a=0;a<t;a+=1)n.push(r(255&e.charCodeAt(a)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(i(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return i(r.responseText)}(e,t,n)}catch(R){}return r}(e,t,n)},vs.loadImageFile=vs.loadFile,function(e){function t(){return(Ea.html2canvas?Promise.resolve(Ea.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(Ea.DOMPurify?Promise.resolve(Ea.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,v.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},s=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||r.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(r).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var i=0;i<n.length;++i){var s=n[i],o=s.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,s.ref.name,s.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||ui.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var r=this;e&&(e=e.bind(r)),t&&(t=t.bind(r));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?r:o.convert(Object.assign({},r),Promise.prototype),i=n.call(a,e,t);return o.convert(i,r.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,ui.getPageSize=function(e,t,n){if("object"===(0,v.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,i=(""+n).toLowerCase(),s={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(s.hasOwnProperty(i))l=s[i][1]/a,c=s[i][0]/a;else try{l=n[1],c=n[0]}catch(Oa){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(as):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(ui.API),ui.API.addJS=function(e){return fs=e,this.internal.events.subscribe("postPutResources",function(){hs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(hs+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ps=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fs+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==hs&&void 0!==ps&&this.internal.out("/Names <</JavaScript "+hs+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),a=0;a<r.length;a++){var i=r[a],s=n.exec(i);if(null!=s){var o=s[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var a=t.children[r];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var i=this.count=this.count_r({count:0},a);if(i>0&&this.line("/Count "+i),a.options&&a.options.pageNumber){var s=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(ui.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,a,i,s){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,i={width:0,height:0,numcomponents:1},s=4;s<a;s+=2){if(s+=r,-1!==t.indexOf(e.charCodeAt(s+1))){n=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),i={width:256*e.charCodeAt(s+7)+e.charCodeAt(s+8),height:n,numcomponents:e.charCodeAt(s+9)};break}r=256*e.charCodeAt(s+2)+e.charCodeAt(s+3)}return i}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:s,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(ui.API),ui.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=new La(e,{checkCrc:!0}).decode(),s=i.width,o=i.height,l=i.channels,c=i.palette,d=i.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,r=e.data,a=e.palette,i=e.depth,s=!1,o=[],l=[],c=void 0,d=!1,u=0,h=0;h<a.length;h++){var p=oe(a[h],4),f=p[0],m=p[1],g=p[2],x=p[3];o.push(f,m,g),null!=x&&(0===x?(u++,l.length<1&&l.push(h)):x<255&&(d=!0))}if(d||u>1){s=!0,l=void 0;var b=t*n;c=new Uint8Array(b);for(var y=new DataView(r.buffer),v=0;v<b;v++){var w=oe(a[Ls(y,v,i)],4)[3];c[v]=w}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:r,alphaBytes:c,needSMask:s,palette:o,mask:l}}(i):2===l||4===l?function(e){for(var t=e.data,n=e.width,r=e.height,a=e.channels,i=e.depth,s=2===a?"DeviceGray":"DeviceRGB",o=a-1,l=n*r,c=o,d=l*c,u=1*l,h=Math.ceil(d*i/8),p=Math.ceil(u*i/8),f=new Uint8Array(h),m=new Uint8Array(p),g=new DataView(t.buffer),x=new DataView(f.buffer),b=new DataView(m.buffer),y=!1,v=0;v<l;v++){for(var w=v*a,j=0;j<c;j++)Ts(x,Ls(g,w+j,i),v*c+j,i);var S=Ls(g,w+c,i);S<(1<<i)-1&&(y=!0),Ts(b,S,1*v,i)}return{colorSpace:s,colorsPerPixel:o,colorBytes:f,alphaBytes:m,needSMask:y}}(i):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint8Array?t:new Uint8Array(t.buffer),needSMask:!1}}(i);var u,h,p,f=a,m=f.colorSpace,g=f.colorsPerPixel,x=f.colorBytes,b=f.alphaBytes,y=f.needSMask,v=f.palette,w=f.mask,j=null;return r!==ui.API.image_compression.NONE?(j=function(e){var t;switch(e){case ui.API.image_compression.FAST:t=11;break;case ui.API.image_compression.MEDIUM:t=13;break;case ui.API.image_compression.SLOW:t=14;break;default:t=12}return t}(r),u=this.decode.FLATE_DECODE,h="/Predictor ".concat(j," "),e=js(x,s*g,g,r),y&&(p=js(b,s,1,r))):(u=void 0,h="",e=x,y&&(p=b)),h+="/Colors ".concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(s),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:u,decodeParameters:h,transparency:w,palette:v,sMask:p,predictor:j,width:s,height:o,bitsPerComponent:d,colorSpace:m}}},function(e){e.processGIF89A=function(t,n,r,a){var i=new zs(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},d=new Fs(100).encode(c,100);return e.processJPEG.call(this,d,n,r,a)},e.processGIF87A=e.processGIF89A}(ui.API),Is.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Is.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ra.log("bit decode error:"+n)}},Is.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Is.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}0!==t&&(this.pos+=4-t)}},Is.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}0!==e&&(this.pos+=4-e)}},Is.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=c}this.pos+=e}},Is.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Is.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Is.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=s}},Is.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new Is(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new Fs(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(ui.API),Ds.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new Ds(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new Fs(100).encode(l,100);return e.processJPEG.call(this,c,n,r,a)}}(ui.API),ui.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=r[c],u=r[c+1],h=r[c+2],p=r[c+3];i[o++]=d,i[o++]=u,i[o++]=h,s[l++]=p}var f=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ui.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ms=ui.API,gs=ms.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,h=0,p=e.length,f=0,m=o[0]||l,g=[];for(n=0;n<p;n++)r=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+s*(1e3/i)||0)/1e3):(h=u&&"object"===(0,v.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/d:0,g.push((o[r]||m)/l+h)),f=r;return g},xs=ms.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return ms.processArabic&&(e=ms.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,a)/n:gs.apply(this,arguments).reduce(function(e,t){return e+t},0)},bs=function(e,t,n,r){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<n;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>r&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},ys=function(e,t,n){n||(n={});var r,a,i,s,o,l,c,d=[],u=[d],h=n.textIndent||0,p=0,f=0,m=e.split(" "),g=gs.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),b=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),m=b,l=xs.apply(this,[x,n])}for(i=0,s=m.length;i<s;i++){var y=0;if(r=m[i],l&&"\n"==r[0]&&(r=r.substr(1),y=1),h+p+(f=(a=gs.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||y){if(f>t){for(o=bs.apply(this,[r,a,t-(h+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);f=a.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=f+l,p=g}else d.push(r),h+=p+f,p=g}return c=l?function(e,t){return(t?x:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},ms.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(ys.apply(this,[r[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},i=0;i<16;i++)r[n[i]]=t[i],a[t[i]]=n[i];var s=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,r,i,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+a[n.slice(-1)]),"number"==typeof t)t<0?(r=s(t).slice(3),i="-"):(r=s(t).slice(2),i=""),r=i+r.slice(0,-1)+a[r.slice(-1)];else{if("object"!==(0,v.A)(t))throw new Error("Don't know what to do with value type "+(0,v.A)(t)+".");r=o(t)}l.push(n+r)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,a,i,s={},o=1,l=s,c=[],d="",u="",h=e.length-1,p=1;p<h;p+=1)"'"==(i=e[p])?t?(a=t.join(""),t=void 0):t=[]:t?t.push(i):"{"==i?(c.push([l,a]),l={},a=void 0):"}"==i?((n=c.pop())[0][n[1]]=l,a=void 0,l=n[0]):"-"==i?o=-1:void 0===a?r.hasOwnProperty(i)?(d+=r[i],a=parseInt(d,16)*o,o=1,d=""):d+=i:r.hasOwnProperty(i)?(u+=r[i],l[a]=parseInt(u,16)*o,o=1,a=void 0,u=""):u+=i;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(ui.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(void 0===i)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(r=!1===i.existsFileInVFS(a.postScriptName)?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(Ba(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,r)}}])}(ui),ui.API.addSvgAsImage=function(e,t,r,a,i,s,o,l){if(isNaN(t)||isNaN(r))throw Ra.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(i))throw Ra.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=i;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(Ea.canvg?Promise.resolve(Ea.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,r,a,i,o,l)})},ui.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},ui.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,d=0,u=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var p=o.length;for(u=0;u<p;u+=1)n[o[u]].value=n[o[u]].defaultValue,n[o[u]].explicitSet=!1}if("object"===(0,v.A)(e))for(a in e)if(i=e[a],h(o,a)&&void 0!==i){if("boolean"===n[a].type&&"boolean"==typeof i)n[a].value=i;else if("name"===n[a].type&&h(n[a].valueSet,i))n[a].value=i;else if("integer"===n[a].type&&Number.isInteger(i))n[a].value=i;else if("array"===n[a].type){for(c=0;c<i.length;c+=1)if(r=!0,1===i[c].length&&"number"==typeof i[c][0])l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)"number"!=typeof i[c][d]&&(r=!1);!0===r&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}n[a].value="["+l.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+a.length+t.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+a+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ui.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,a=["","0","00","000","0000"],i=[""],s=0,o=e.length;s<o;++s){if(n=t.metadata.characterToGlyph(e.charCodeAt(s)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return i.join("");n=n.toString(16),i.push(a[4-n.length],n)}return i.join("")},r=function(e){var t,n,r,a,i,s,o;for(i="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;s<o;s++)t=n[s],r.length>=100&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+a+">"));return r.length&&(i+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),i+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=i();s({data:c,addLength1:!0,objectId:u}),a("endobj");var h=i();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var p=i();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+ii(n.fontName)),a("/FontFile2 "+u+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var f=i();a("<<"),a("/Type /Font"),a("/BaseFont /"+ii(n.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=i(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+h+" 0 R"),a("/BaseFont /"+ii(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+f+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,i=t.newObject,s=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=i();s({data:l,addLength1:!0,objectId:d}),a("endobj");var u=i();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var h=i();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+ii(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=i();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+ii(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,r=e.text||"",a=e.x,i=e.y,s=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",p=0,f="",m=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:a,y:i,options:s,mutex:o};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),p=0;p<f.length;p+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[f[p].charCodeAt(0)]),t||f[p].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=f[p]:h+="";var g="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?g=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(g=n(h,d[u])),o.isHex=!0,{text:g,x:a,y:i,options:s,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var i=0;for(i=0;i<t.length;i+=1)Array.isArray(t[i])&&3===t[i].length?n.push([a(Object.assign({},r,{text:t[i][0]})).text,t[i][1],t[i][2]]):n.push(a(Object.assign({},r,{text:t[i]})).text);e.text=n}else e.text=a(Object.assign({},r,{text:t})).text}])}(ui),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(ui.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,a,i,s,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,x=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,r=p[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},v=function(e,t,s,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=s[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?s[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===s[o-1]){h="EN";break}if(g){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!i){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var p=e[o],f=p>=1425&&p<=2303||64286===p;if(l=t[d],f&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":s[o-1];break;case"B":g=!1,n=!0,h=x;break;case"S":r=!0,h="N"}return h},w=function(e,t,n){var r=e.split("");return n&&j(r,n,{hiLevel:x}),r.reverse(),t&&t.reverse(),r.join("")},j=function(e,t,a){var i,s,o,l,c,p=-1,f=e.length,m=0,y=[],w=x?u:d,j=[];for(g=!1,n=!1,r=!1,s=0;s<f;s++)j[s]=b(e[s]);for(o=0;o<f;o++){if(c=m,y[o]=v(e,j,y,o),i=240&(m=w[c][h[y[o]]]),m&=15,t[o]=l=w[m][5],i>0)if(16===i){for(s=p;s<o;s++)t[s]=1;p=-1}else p=-1;if(w[m][6])-1===p&&(p=o);else if(p>-1){for(s=p;s<o;s++)t[s]=l;p=-1}"B"===j[o]&&(t[o]=0),a.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=x;for(var a=r-1;a>=0&&"WS"===e[a];a--)t[a]=x}}(j,t,f)},S=function(e,t,r,a,i){if(!(i.hiLevel<e)){if(1===e&&1===x&&!n)return t.reverse(),void(r&&r.reverse());for(var s,o,l,c,d=t.length,u=0;u<d;){if(a[u]>=e){for(l=u+1;l<d&&a[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)s=t[c],t[c]=t[o],t[o]=s,r&&(s=r[c],r[c]=r[o],r[o]=s);u=l}u++}}},N=function(e,t,n){var r=e.split(""),a={hiLevel:x};return n||(n=[]),j(r,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,a=0;a<e.length;a++)1===t[a]&&(r=f.indexOf(e[a]))>=0&&(e[a]=f[r+1])}(r,n,a),S(2,r,t,n,a),S(1,r,t,n,a),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===i&&(i=y(e)),void 0===o&&(o=y(e))}(e,t),a||!s||o)if(a&&s&&i^o)x=i?1:0,e=w(e,t,n);else if(!a&&s&&o)x=i?1:0,e=N(e,t,n),e=w(e,t);else if(!a||i||s||o){if(a&&!s&&i^o)e=w(e,t),i?(x=0,e=N(e,t,n)):(x=1,e=N(e,t,n),e=w(e,t));else if(a&&i&&!s&&o)x=1,e=N(e,t,n),e=w(e,t);else if(!a&&!s&&i^o){var r=l;i?(x=1,e=N(e,t,n),x=0,l=!1,e=N(e,t,n),l=r):(x=0,e=N(e,t,n),e=w(e,t),x=1,l=!1,e=N(e,t,n),l=r,e=w(e,t))}}else x=0,e=N(e,t,n);else x=i?1:0,e=N(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,s=e.isOutputVisual,i=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var a=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var i=0;for(a=[],i=0;i<t.length;i+=1)"[object Array]"===Object.prototype.toString.call(t[i])?a.push([n.doBidiReorder(t[i][0]),t[i][1],t[i][2]]):a.push([n.doBidiReorder(t[i])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(ui),ui.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Os(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new ao(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Bs(this.contents),this.head=new Ws(this),this.name=new Qs(this),this.cmap=new Vs(this),this.toUnicode={},this.hhea=new Gs(this),this.maxp=new Xs(this),this.hmtx=new $s(this),this.post=new Ks(this),this.os2=new Ys(this),this.loca=new ro(this),this.glyf=new eo(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,a;for(a=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,a,i,s;for(i=0,a=0,s=(e=""+e).length;0<=s?a<s:a>s;a=0<=s?++a:--a)r=e.charCodeAt(a),i+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return i*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Ms,Os=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,a,i,s,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^a)+65536*(255^i)+256*(255^s)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*a+65536*i+256*s+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,a;for(a=[],n=0,r=e.length;n<r;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),Bs=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,a,i,s,o,l,c,d,u,h,p,f;for(f in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),i=Math.floor(d/o),c=16*h-d,(r=new Os).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(i),r.writeShort(c),a=16*h,l=r.pos+a,s=null,p=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),p=p.concat(u),"head"===f&&(s=l),l+=u.length;l%4;)p.push(0),l++;return r.write(p),n=2981146554-e(r.data),r.pos=s+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,a;for(e=Zs.call(e);e.length%4;)e.push(0);for(r=new Os(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),qs={}.hasOwnProperty,Us=function(e,t){for(var n in t)qs.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ms=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ws=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Os).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Hs=function(){function e(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,f,m,g,x,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,s=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,b=a.length;g<b;o=++g)for(m=a[o],n=x=p=f[o];p<=m?x<=m:x>=m;n=p<=m?++x:--x)0===c[o]?i=n+l[o]:0!==(i=s[c[o]/2+(n-p)-(u-o)]||0)&&(i+=l[o]),this.codeMap[n]=65535&i}e.pos=d}return e.encode=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,f,m,g,x,b,y,v,w,j,S,N,k,C,A,_,P,L,T,E,z,R,F,I,D,M,O,B,q,U,W,H,V,G,Y;switch(P=new Os,i=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,m=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),x={0:0},a={},L=0,R=i.length;L<R;L++)null==x[H=e[r=i[L]]]&&(x[H]=++f),a[r]={old:e[r],new:x[e[r]]},m[r]=x[e[r]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(m),{charMap:a,subtable:P.data,maxGlyphID:f+1};case"unicode":for(A=[],d=[],b=0,x={},n={},g=l=null,T=0,F=i.length;T<F;T++)null==x[v=e[r=i[T]]]&&(x[v]=++b),n[r]={old:v,new:x[v]},s=x[v]-r,null!=g&&s===l||(g&&d.push(g),A.push(r),l=s),g=r;for(g&&d.push(g),d.push(65535),A.push(65535),k=2*(N=A.length),S=2*Math.pow(Math.log(N)/Math.LN2,2),u=Math.log(S/2)/Math.LN2,j=2*N-S,o=[],w=[],h=[],p=E=0,I=A.length;E<I;p=++E){if(C=A[p],c=d[p],65535===C){o.push(0),w.push(0);break}if(C-(_=n[C].new)>=32768)for(o.push(0),w.push(2*(h.length+N-p)),r=z=C;C<=c?z<=c:z>=c;r=C<=c?++z:--z)h.push(n[r].new);else o.push(_-C),w.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*N+2*h.length),P.writeUInt16(0),P.writeUInt16(k),P.writeUInt16(S),P.writeUInt16(u),P.writeUInt16(j),U=0,D=d.length;U<D;U++)r=d[U],P.writeUInt16(r);for(P.writeUInt16(0),W=0,M=A.length;W<M;W++)r=A[W],P.writeUInt16(r);for(V=0,O=o.length;V<O;V++)s=o[V],P.writeUInt16(s);for(G=0,B=w.length;G<B;G++)y=w[G],P.writeUInt16(y);for(Y=0,q=h.length;Y<q;Y++)f=h[Y],P.writeUInt16(f);return{charMap:n,subtable:P.data,maxGlyphID:b+1}}},e}(),Vs=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Hs(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Hs.encode(e,t),(r=new Os).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Gs=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Ys=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Ks=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Js=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Qs=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,a,i,s,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),s=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+s+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)r=n[a],e.pos=r.offset,l=e.readString(r.length),i=new Js(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(i);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Ba){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Xs=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),$s=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,a,i,s,o;for(e.pos=this.offset,this.metrics=[],t=0,s=this.file.hhea.numberOfMetrics;0<=s?t<s:t>s;t=0<=s?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],r.push(a.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=i=0;0<=r?i<r:i>r;t=0<=r?++i:--i)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Zs=[].slice,eo=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,a,i,s,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(r=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,i=(s=new Os(t.read(r))).readShort(),l=s.readShort(),d=s.readShort(),o=s.readShort(),c=s.readShort(),this.cache[e]=-1===i?new no(s,l,d,o,c):new to(s,i,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,a,i,s,o;for(i=[],a=[],s=0,o=t.length;s<o;s++)r=e[t[s]],a.push(i.length),r&&(i=i.concat(r.encode(n)));return a.push(i.length),{table:i,offsets:a}},e}(),to=function(){function e(e,t,n,r,a,i){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),no=function(){function e(e,t,n,r,a){var i,s;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;s=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&s;)i.pos+=1&s?4:2,128&s?i.pos+=8:64&s?i.pos+=4:8&s&&(i.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Os(Zs.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),ro=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Us(e,Ms),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,a=0,i=0;i<n.length;++i)if(n[i]=r,a<t.length&&t[a]==i){++a,n[i]=r;var s=this.offsets[i],o=this.offsets[i+1]-s;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),ao=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,a;for(t in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,a,i,s,o;for(r={},i=0,s=e.length;i<s;i++)r[a=e[i]]=this.font.glyf.glyphFor(a);for(a in t=[],r)(null!=(n=r[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],r[a]=n;return r},e.prototype.encode=function(e,t){var n,r,a,i,s,o,l,c,d,u,h,p,f,m,g;for(r in n=Vs.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(e),h={0:0},g=n.charMap)h[(o=g[r]).old]=o.new;for(p in u=n.maxGlyphID,i)p in h||(h[p]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)s=d[e],n.push(c[s]);return n}(),a=this.font.glyf.encode(i,f,h),l=this.font.loca.encode(a.offsets,f),m={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();ui.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,a,i,s;if(Array.isArray(n))return"["+function(){var e,a,i;for(i=[],e=0,a=n.length;e<a;e++)r=n[e],i.push(t.convert(r));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in i=["<<"],n)s=n[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join("\n")}return""+n},t}();const io=e=>{var t,n;let{setCurrentPage:a}=e;const{notices:o,addNotice:l,updateNotice:c,deleteNotice:d,toggleNoticeActive:u}=x(),[p,m]=(0,r.useState)([]),[g,b]=(0,r.useState)([]),[v,w]=(0,r.useState)([]),[j,S]=(0,r.useState)([]),[N,k]=(0,r.useState)([]),[C,A]=(0,r.useState)(!1),[_,P]=(0,r.useState)(null),[L,T]=(0,r.useState)(!1),[E,z]=(0,r.useState)(!1),[R,F]=(0,r.useState)(null),[I,D]=(0,r.useState)(""),[M,O]=(0,r.useState)(!1),[B,q]=(0,r.useState)(null),[U,W]=(0,r.useState)(""),[H,V]=(0,r.useState)("dashboard"),[G,Y]=(0,r.useState)("Pending Review"),[K,J]=(0,r.useState)(!0),[Q,X]=(0,r.useState)(""),[$]=(0,r.useState)(localStorage.getItem("userAuthority")||"admin"),[Z,ee]=(0,r.useState)([]),[te,ne]=(0,r.useState)(null),[re,ae]=(0,r.useState)(!1),[ie,se]=(0,r.useState)(!1),[oe,le]=(0,r.useState)(null),[ce,de]=(0,r.useState)([]),[ue,he]=(0,r.useState)(!1),[pe,fe]=(0,r.useState)(!1),[me,ge]=(0,r.useState)(null),[xe,be]=(0,r.useState)({username:"",password:"",confirmPassword:"",email:"",stateName:"",stateCode:"",contactPerson:"",phone:""}),[ye,ve]=(0,r.useState)([]),[we,je]=(0,r.useState)({username:"",email:"",password:"",confirmPassword:"",authorityLevel:"",fullName:""}),[Se,Ne]=(0,r.useState)({format:"csv",includeArchived:!1,dataType:"applications",isExporting:!1}),[ke,Ce]=(0,r.useState)({emailAddresses:[],enabled:!0}),[Ae,_e]=(0,r.useState)(""),[Pe,Le]=(0,r.useState)(""),[Te,Ee]=(0,r.useState)(!1),[ze,Re]=(0,r.useState)(!1),[Fe,Ie]=(0,r.useState)({recipientEmail:"",recipientName:"",subject:"",content:"",priority:"normal",category:"general",relatedApplicationId:""}),[De,Me]=(0,r.useState)(!1),[Oe,Be]=(0,r.useState)(""),qe={Johor:["Johor Bahru","Batu Pahat","Muar","Kluang","Pontian","Segamat","Mersing","Kota Tinggi","Kulai","Skudai"],Kedah:["Alor Setar","Sungai Petani","Kulim","Jitra","Baling","Langkawi","Kuala Kedah","Pendang","Sik","Yan"],Kelantan:["Kota Bharu","Wakaf Che Yeh","Tanah Merah","Machang","Pasir Mas","Gua Musang","Kuala Krai","Tumpat","Pasir Puteh","Bachok"],Melaka:["Melaka City","Ayer Keroh","Batu Berendam","Bukit Baru","Tanjung Kling","Jasin","Merlimau","Masjid Tanah","Alor Gajah","Bemban"],"Negeri Sembilan":["Seremban","Port Dickson","Bahau","Tampin","Kuala Pilah","Rembau","Jelebu","Gemenceh","Labu","Linggi"],Pahang:["Kuantan","Temerloh","Bentong","Raub","Jerantut","Pekan","Kuala Lipis","Bera","Maran","Rompin"],Penang:["George Town","Bukit Mertajam","Butterworth","Perai","Nibong Tebal","Balik Pulau","Bayan Lepas","Air Itam","Tanjung Tokong","Jelutong"],Perak:["Ipoh","Taiping","Sitiawan","Kuala Kangsar","Teluk Intan","Batu Gajah","Lumut","Parit Buntar","Ayer Tawar","Bagan Serai"],Perlis:["Kangar","Arau","Padang Besar","Wang Kelian","Kaki Bukit","Simpang Empat","Beseri","Chuping","Mata Ayer","Sanglang"],Sabah:["Kota Kinabalu","Sandakan","Tawau","Lahad Datu","Keningau","Kota Belud","Kudat","Semporna","Beaufort","Ranau"],Sarawak:["Kuching","Miri","Sibu","Bintulu","Limbang","Sarikei","Sri Aman","Kapit","Betong","Mukah"],Selangor:["Shah Alam","Petaling Jaya","Subang Jaya","Klang","Ampang","Cheras","Kajang","Puchong","Seri Kembangan","Bangi"],Terengganu:["Kuala Terengganu","Chukai","Dungun","Marang","Jerteh","Besut","Setiu","Hulu Terengganu","Kemaman","Kuala Nerus"],"Kuala Lumpur":["Kuala Lumpur City Centre","Bukit Bintang","Cheras","Ampang","Bangsar","Mont Kiara","Wangsa Maju","Kepong","Setapak","Titiwangsa"],Putrajaya:["Putrajaya","Precinct 1","Precinct 8","Precinct 9","Precinct 11","Precinct 14","Precinct 16","Precinct 18","Precinct 19","Precinct 20"],Labuan:["Labuan Town","Victoria","Batu Manikar","Patau-Patau","Rancha-Rancha","Kiansam","Layang-Layangan","Sungai Lada","Sungai Miri","Varley"]},[Ue,We]=(0,r.useState)({organiserName:"",registrationNo:"",telContact:"",personInCharge:"",email:"",organisingPartner:"",eventTitle:"",eventStartDate:"",eventEndDate:"",eventStartDateFormatted:"",eventEndDateFormatted:"",state:"",city:"",venue:"",classification:"",eventType:"",category:"",malaysianEntryFee:"",internationalEntryFee:"",expectedParticipants:"",hospitalName:"",hospitalDistance:"",numberOfMedics:"",emergencyTransportType:"",emergencyTransportQuantity:"",standbyVehicleType:"",eventSummary:"",scoringFormat:"traditional",tournamentSoftware:[],tournamentSoftwareOther:"",dataConsent:!1,termsConsent:!1}),[He,Ve]=(0,r.useState)([]),[Ge,Ye]=(0,r.useState)(!1),[Ke,Je]=(0,r.useState)(""),[Qe,Xe]=(0,r.useState)(!1),[$e,Ze]=(0,r.useState)(null),[et,tt]=(0,r.useState)([]),[nt,rt]=(0,r.useState)([]),[at,it]=(0,r.useState)(30),[st,ot]=(0,r.useState)(""),[lt,ct]=(0,r.useState)(""),[dt,ut]=(0,r.useState)(""),[ht,pt]=(0,r.useState)(""),[ft,mt]=(0,r.useState)(70),[gt,xt]=(0,r.useState)([]),[bt,yt]=(0,r.useState)(null),[vt,wt]=(0,r.useState)([]),[jt,St]=(0,r.useState)(!1),[Nt,kt]=(0,r.useState)(!1),[Ct,At]=(0,r.useState)([]),[_t,Pt]=(0,r.useState)(""),[Lt,Tt]=(0,r.useState)(!1),[Et,zt]=(0,r.useState)(!1),[Rt,Ft]=(0,r.useState)(new Set),[It,Dt]=(0,r.useState)(!1),[Mt,Ot]=(0,r.useState)(null),[Bt,qt]=(0,r.useState)(""),[Ut,Wt]=(0,r.useState)(""),[Ht,Vt]=(0,r.useState)(""),[Gt,Yt]=(0,r.useState)(""),[Kt,Jt]=(0,r.useState)([]),[Qt,Xt]=(0,r.useState)(30),[$t,Zt]=(0,r.useState)(70),[en,tn]=(0,r.useState)(!1),[nn,rn]=(0,r.useState)(null),[an,sn]=(0,r.useState)(!1),[on,ln]=(0,r.useState)(!1),[cn,dn]=(0,r.useState)([]),[un,hn]=(0,r.useState)(!1),[pn,fn]=(0,r.useState)(!1),[mn,gn]=(0,r.useState)(null),[xn,bn]=(0,r.useState)(!1),[yn,vn]=(0,r.useState)(!1),[wn,jn]=(0,r.useState)(null),Sn=e=>{const t=e.dateApplied?new Date(e.dateApplied):null,n=e.eventStartDate?new Date(e.eventStartDate):null;return!(!t||2025!==t.getFullYear())||!(!n||2025!==n.getFullYear())},Nn=p.filter(e=>!Sn(e)),kn=p.filter(e=>Sn(e));g.filter(e=>!Sn(e));(0,r.useEffect)(()=>{(async()=>{try{const e=await f.getAllAssessmentForms();xt(Array.isArray(e)?e:[])}catch(Q){console.error("Error loading assessment forms:",Q),xt([])}})(),(async()=>{try{const e=await f.getAllAssessmentSubmissions();wt(Array.isArray(e)?e:[])}catch(Q){console.error("Error loading assessment submissions:",Q),wt([])}})()},[]);const Cn=()=>{Dt(!1),Ot(null),qt(""),Wt(""),Vt(""),Yt(""),Jt([]),Xt(30),Zt(70)},An=(e,t,n)=>{const r=[...Kt];"options"===t?r[e].options=n:r[e][t]=n,Jt(r)},_n=async()=>{zt(!0);try{const e=Lt&&_t?_t:null,t=await f.getAssessmentBatches(e);At(Array.isArray(t)?t:[])}catch(Q){console.error("Error loading assessment results:",Q),At([])}finally{zt(!1)}},Pn=()=>{nn&&nn.tempCode&&(navigator.clipboard.writeText(nn.tempCode),alert("Temporary code copied to clipboard!"))},Ln=()=>{tn(!1),rn(null)},Tn=async()=>{hn(!0),ln(!0);try{const e=await f.getTemporaryCodes();dn(e)}catch(Q){console.error("Error loading temporary codes:",Q),alert("Failed to load temporary codes: "+(Q.message||"Unknown error"))}finally{hn(!1)}},En=()=>{ln(!1),dn([])},zn=()=>{sn(!1)};(0,r.useEffect)(()=>{"assessment-statistics"===H&&_n(),"tournament-software-file"===H&&Yr()},[H]),(0,r.useEffect)(()=>{"assessment-statistics"===H&&_n()},[_t,Lt]);const Rn=()=>{Tt(!Lt),Lt&&Pt("")},Fn=()=>{try{const e=new ui,t=()=>{const t=document.createElement("canvas"),r=t.getContext("2d"),a=new Image;a.onload=function(){t.width=this.width,t.height=this.height,r.drawImage(this,0,0);const a=t.toDataURL("image/png"),i=this.height/this.width*25;e.addImage(a,"PNG",170,10,25,i),n()},a.onerror=function(){n()},a.src=i},n=()=>{e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Assessment Results Report",20,25),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Malaysia Pickleball Association",20,35),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Generated on: ".concat((new Date).toLocaleDateString()," at ").concat((new Date).toLocaleTimeString()),20,45);let t=60;0===Ct.length?(e.setFontSize(12),e.text("No assessment results available.",20,t)):Ct.forEach((n,r)=>{e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Batch: ".concat(n._id),20,t),t+=10,e.setFontSize(10),e.setFont("helvetica","normal"),e.text("Form Code: ".concat(n.formCode," | Date: ").concat(n.batchDate," | Average Score: ").concat(Math.round(n.averageScore),"%"),20,t),t+=15,e.setFontSize(10),e.setFont("helvetica","bold"),e.text("No.",20,t),e.text("Name",35,t),e.text("IC Number",100,t),e.text("Score",140,t),e.text("Percentage",160,t),e.text("Status",185,t),t+=5,e.line(20,t,200,t),t+=8,n.submissions.forEach((n,r)=>{t>270&&(e.addPage(),t=20),e.setFont("helvetica","normal"),e.text((r+1).toString(),20,t),e.text(n.participantName||"Unknown",35,t),e.text("N/A",100,t),e.text("".concat(n.correctAnswers||0,"/").concat(n.totalQuestions||0),140,t),e.text("".concat(n.score||0,"%"),160,t);const a=(n.score||0)>=70;e.setTextColor(a?0:255,a?128:0,0),e.text(a?"PASS":"FAIL",185,t),e.setTextColor(0,0,0),t+=8}),t+=10}),e.setFontSize(8),e.setFont("helvetica","italic"),e.text("Malaysia Pickleball Association - Assessment Results Report",20,290);const n=(new Date).toISOString().slice(0,19).replace(/:/g,"-"),r="Assessment_Results_".concat(n,".pdf");e.save(r)};t()}catch(Q){console.error("Error generating PDF:",Q),alert("Error generating PDF report. Please try again.")}},In=e=>{gn(e),fn(!0)},[Dn,Mn]=(0,r.useState)(null),[On,Bn]=(0,r.useState)(!1),[qn,Un]=(0,r.useState)({id:null,type:"info",title:"",content:"",date:(new Date).toISOString().split("T")[0],active:!0,actions:[]}),[Wn,Hn]=(0,r.useState)(new Date),[Vn,Gn]=(0,r.useState)(new Date),[Yn,Kn]=(0,r.useState)([]),[Jn,Qn]=(0,r.useState)(null),[Xn,$n]=(0,r.useState)({organiserName:"",registrationNo:"",telContact:"",personInCharge:"",email:"",organisingPartner:"",eventTitle:"",eventStartDate:"",eventEndDate:"",eventStartDateFormatted:"",eventEndDateFormatted:"",state:"",city:"",venue:"",classification:"",expectedParticipants:"",tournamentSoftware:[],tournamentSoftwareOther:"",eventSummary:"",scoringFormat:"traditional",dataConsent:!1,termsConsent:!1}),[Zn,er]=(0,r.useState)(!1),[tr,nr]=(0,r.useState)(""),[rr,ar]=(0,r.useState)(!1);(0,r.useEffect)(()=>{dr(),ur(),hr(),pr(),fr(),mr(),ir()},[]);const ir=async()=>{try{const e=await fetch("".concat(f.baseURL,"/state/registered-states")),t=await e.json();console.log("Registered states API response:",t),t.success&&t.registeredStates?(ve(t.registeredStates),console.log("Registered states loaded:",t.registeredStates)):console.warn("No registered states found or API error")}catch(Q){console.error("Failed to load registered states:",Q)}},sr=e=>{if(!e)return!1;const t=e.toLowerCase().trim(),n=ye.includes(t);return!n&&ye.length>0&&console.log('State check failed: "'.concat(t,'" not in [').concat(ye.join(", "),"]")),n},or=e=>{if(!e||!e.classification)return!1;const t=e.classification.toLowerCase();return"district"===t||"divisional"===t||"state"===t};(0,r.useEffect)(()=>{if("assessment_admin"===$){["assessment-management","assessment-list","assessment-statistics","saved-forms"].includes(H)||V("assessment-statistics")}},[$,H]),(0,r.useEffect)(()=>{"settings"===H&&Hr()},[H]),(0,r.useEffect)(()=>{"state-users"===H&&Qr()},[H]);const lr=()=>{Un({id:null,type:"info",title:"",content:"",date:(new Date).toISOString().split("T")[0],active:!0,actions:[]}),Mn(null),Bn(!0)},cr=()=>{qn.title.trim()&&qn.content.trim()?(Dn?c(Dn,qn):l(qn),Bn(!1),Mn(null)):alert("Please fill in all required fields.")},dr=async()=>{try{J(!0),X("");const e=await f.getAllApplications();m(e)}catch(Q){console.error("Failed to load applications:",Q),X("Failed to load applications. Please check if the server is running.")}finally{J(!1)}},ur=async()=>{try{const e=await f.getApprovedTournaments();b(e)}catch(Q){console.error("Failed to load approved tournaments:",Q)}},hr=async()=>{try{const e=await f.getRegisteredOrganizations();w(e)}catch(Q){console.error("Failed to load registered organizations:",Q)}},pr=async()=>{try{const e=await fetch("/api/tournament-software/all");if(e.ok){const t=await e.json();S(t)}}catch(Q){console.error("Failed to load tournament software:",Q)}},fr=async()=>{try{const e=await f.getAllAdminUsers();e.success&&ee(e.users)}catch(Q){console.error("Failed to load admin users:",Q)}},mr=async()=>{try{kt(!0);const e=await f.getAllApplications(),t=[],n=new Date,r=new Date(n.getTime()-864e5);e.forEach(e=>{const n=new Date(e.submissionDate);n>r&&t.push({id:"new-".concat(e.applicationId),type:"new",tournamentId:e.applicationId,tournamentName:e.eventTitle,organizerName:e.organiserName,change:"New tournament application submitted",timestamp:n,details:{eventDate:e.eventStartDate,venue:e.venue,status:e.status}}),"Approved"!==e.status&&"Rejected"!==e.status||t.push({id:"status-".concat(e.applicationId),type:"status_change",tournamentId:e.applicationId,tournamentName:e.eventTitle,organizerName:e.organiserName,change:"Tournament status changed to ".concat(e.status),timestamp:new Date(n.getTime()+2*Math.random()*60*60*1e3),details:{previousStatus:"Pending Review",newStatus:e.status,venue:e.venue}})}),t.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),tt(t.slice(0,10))}catch(Q){console.error("Failed to load tournament updates:",Q),tt([])}finally{kt(!1)}},gr=e=>{const{name:t,value:n}=e.target;Ie(e=>h(h({},e),{},{[t]:n}))},xr=()=>{Re(!1),Be(""),Ie({recipientEmail:"",recipientName:"",subject:"",content:"",priority:"normal",category:"general",relatedApplicationId:""})},br=e=>{switch(e){case"Pending Review":return"#ffa500";case"Approved":return"#28a745";case"Rejected":return"#dc3545";case"Under Review":return"#007bff";default:return"#6c757d"}},yr=e=>new Date(e).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),vr=function(e,t,n,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i={id:"update-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),type:"change",tournamentId:e,tournamentName:t,organizerName:n,change:r,timestamp:new Date,details:a};tt(e=>[i,...e].slice(0,10))},wr=()=>{O(!1),q(null),W("")},jr=()=>{z(!1),F(null),D("")},Sr=async e=>{try{const t=await f.getApplicationById(e.applicationId);P(t),T(!0)}catch(Q){console.error("Error fetching application details:",Q),P(e),T(!0)}},Nr=()=>{T(!1),P(null)},kr=e=>{ne(h({},e)),ae(!0)},Cr=e=>{switch(e){case"active":return"#28a745";case"disabled":default:return"#6c757d";case"suspended":return"#dc3545"}},Ar=e=>{switch(e){case"super_admin":return"Super Admin";case"admin":return"Admin";case"assessment_admin":return"Assessment Admin";default:return e}},_r=e=>{switch($){case"super_admin":return!0;case"admin":return"admin_management"!==e;case"assessment_admin":return["assessments","assessment-management","assessment-list","assessment-statistics","saved-forms"].includes(e);default:return!1}},Pr=async()=>{if(we.username.trim())if(we.email.trim())if(we.password.trim())if(we.password===we.confirmPassword)if(we.authorityLevel)try{const e={username:we.username.trim(),password:we.password.trim(),email:we.email.trim(),fullName:we.fullName.trim()||null,authorityLevel:we.authorityLevel};console.log("Creating admin user:",e);const t=await f.createAdminUser(e);t.success?(await fr(),je({username:"",email:"",password:"",confirmPassword:"",authorityLevel:"",fullName:""}),alert('Admin account "'.concat(e.username,'" created successfully with ').concat(Ar(e.authorityLevel)," privileges."))):alert(t.message||"Failed to create admin account")}catch(Q){console.error("Error creating admin user:",Q),alert(Q.message||"Failed to create admin account. Please try again.")}else alert("Authority level is required.");else alert("Passwords do not match.");else alert("Password is required.");else alert("Email is required.");else alert("Username is required.")},Lr=(e,t)=>{je(n=>h(h({},n),{},{[e]:t}))},Tr=(e,t)=>{Ne(n=>h(h({},n),{},{[e]:t}))},Er=(e,t)=>[t.join(","),...e.map(e=>t.map(t=>{const n=e[t];return"string"===typeof n&&(n.includes(",")||n.includes('"')||n.includes("\n"))?'"'.concat(n.replace(/"/g,'""'),'"'):n||""}).join(","))].join("\n"),zr=(e,t,n)=>{const r=new Blob([e],{type:n}),a=window.URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)},Rr=()=>{let e=[...p];return Se.includeArchived||(e=e.filter(e=>"Archived"!==e.status)),e.map(e=>({"Application ID":e.applicationId||"","Event Title":e.eventTitle||"","Organizer Name":e.organiserName||"","Organizer Email":e.organiserEmail||"","Event Start Date":e.eventStartDate?new Date(e.eventStartDate).toLocaleDateString("en-MY"):"","Event End Date":e.eventEndDate?new Date(e.eventEndDate).toLocaleDateString("en-MY"):"",Location:e.city&&e.state?"".concat(e.city,", ").concat(e.state):e.state||e.city||"",Venue:e.venue||"",Status:e.status||"","Submission Date":new Date(e.submissionDate).toLocaleDateString(),Category:e.category||"","Expected Participants":e.expectedParticipants||"","Contact Person":e.contactPerson||"","Contact Phone":e.contactPhone||""}))},Fr=e=>{const{name:t,value:n,type:r,checked:a}=e.target;We("tournamentSoftware"===t?e=>{const t=e.tournamentSoftware||[];return h(h({},e),{},a?{tournamentSoftware:[...t,n]}:{tournamentSoftware:t.filter(e=>e!==n)})}:e=>h(h({},e),{},{[t]:"checkbox"===r?a:n}))},Ir=e=>{const{name:t,value:n}=e.target,r=n?Dr(n):"";"eventStartDate"===t?We(e=>h(h({},e),{},{eventStartDate:n,eventStartDateFormatted:r})):"eventEndDate"===t&&We(e=>h(h({},e),{},{eventEndDate:n,eventEndDateFormatted:r}))},Dr=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";return t.toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})},Mr=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}T/.test(e))return e.split("T")[0];let t=new Date(e);if(isNaN(t.getTime())){const n=[e,e.replace(/\//g,"-"),e.replace(/\./g,"-")];for(const e of n)if(t=new Date(e),!isNaN(t.getTime()))break}return isNaN(t.getTime())?(console.warn("Could not parse date:",e),""):t.toISOString().split("T")[0]},Or=e=>{const{name:t,value:n,type:r,checked:a}=e.target;$n("tournamentSoftware"===t?e=>{const t=e.tournamentSoftware||[];return h(h({},e),{},a?{tournamentSoftware:[...t,n]}:{tournamentSoftware:t.filter(e=>e!==n)})}:e=>h(h({},e),{},{[t]:"checkbox"===r?a:n}))},Br=e=>{const{name:t,value:n}=e.target,r=n?Dr(n):"";"eventStartDate"===t?$n(e=>h(h({},e),{},{eventStartDate:n,eventStartDateFormatted:r})):"eventEndDate"===t&&$n(e=>h(h({},e),{},{eventEndDate:n,eventEndDateFormatted:r}))},qr=()=>{Qn(null),$n({}),nr(""),ar(!1)},Ur=e=>{const t=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},n=e=>{if(!e)return null;if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,r]=e.split("-");return new Date(parseInt(t),parseInt(n)-1,parseInt(r))}const t=new Date(e);return isNaN(t.getTime())?null:new Date(t.getFullYear(),t.getMonth(),t.getDate())},r=t(e);return p.filter(e=>{const a=n(e.eventStartDate),i=n(e.eventEndDate);if(!a||!i)return!1;const s=t(a),o=t(i);return r>=s&&r<=o})},Wr=async()=>{if(!Se.isExporting)try{Ne(e=>h(h({},e),{},{isExporting:!0}));let e=[],t="",n=[];switch(Se.dataType){case"applications":default:e=Rr(),t="tournament-applications-".concat((new Date).toISOString().split("T")[0]),n=Object.keys(e[0]||{});break;case"organizations":e=v.map(e=>({"Organization ID":e.organizationId||"","Organization Name":e.organizationName||"",Email:e.email||"","Contact Person":e.contactPerson||"","Contact Phone":e.contactPhone||"",Address:e.address||"",Status:e.status||"","Registration Date":new Date(e.registrationDate).toLocaleDateString(),Website:e.website||"",Description:e.description||""})),t="registered-organizations-".concat((new Date).toISOString().split("T")[0]),n=Object.keys(e[0]||{});break;case"admins":if("super_admin"!==$)return void alert("Only Super Admins can export admin user data.");e="super_admin"!==$?[]:Z.map(e=>({Username:e.username||"",Email:e.email||"","Full Name":e.fullName||"","Authority Level":e.authorityLevel||"",Status:e.status||"","Created Date":new Date(e.createdAt).toLocaleDateString(),"Last Login":e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"})),t="admin-users-".concat((new Date).toISOString().split("T")[0]),n=Object.keys(e[0]||{})}if(0===e.length)return void alert("No data available to export.");switch(Se.format){case"csv":const r=Er(e,n);zr(r,"".concat(t,".csv"),"text/csv;charset=utf-8;");break;case"excel":const a=Er(e,n);zr(a,"".concat(t,".xlsx"),"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8;"),alert("Note: Excel export is currently in CSV format. For true Excel format, additional libraries are needed.");break;case"json":const i=JSON.stringify(e,null,2);zr(i,"".concat(t,".json"),"application/json;charset=utf-8;");break;default:const s=Er(e,n);zr(s,"".concat(t,".csv"),"text/csv;charset=utf-8;")}alert("Successfully exported ".concat(e.length," records as ").concat(Se.format.toUpperCase()))}catch(Q){console.error("Export error:",Q),alert("Export failed: "+Q.message)}finally{Ne(e=>h(h({},e),{},{isExporting:!1}))}},Hr=async()=>{try{Ee(!0),console.log("Fetching notification settings from:","".concat(f.baseURL,"/admin/notification-settings"));const e=await fetch("".concat(f.baseURL,"/admin/notification-settings"));if(console.log("Response status:",e.status),!e.ok)throw new Error("HTTP error! status: ".concat(e.status));const t=await e.json();console.log("Notification settings data:",t),t.success?Ce(t.settings):console.error("Failed to fetch notification settings:",t.error)}catch(Q){console.error("Error fetching notification settings:",Q),console.error("Error details:",Q.message)}finally{Ee(!1)}},Vr=async()=>{if(!Ae.trim())return void alert("Please enter an email address");if(/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(Ae))try{const e=await fetch("".concat(f.baseURL,"/admin/notification-settings/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:Ae.trim(),name:Pe.trim()})}),t=await e.json();t.success?(Ce(t.settings),_e(""),Le(""),alert("Email added successfully!")):alert(t.error||"Failed to add email")}catch(Q){console.error("Error adding notification email:",Q),alert("Failed to add email. Please try again.")}else alert("Please enter a valid email address")},Gr=async()=>{try{const e=await fetch("".concat(f.baseURL,"/admin/notification-settings/toggle"),{method:"PATCH"}),t=await e.json();t.success?(Ce(t.settings),alert(t.message)):alert(t.error||"Failed to toggle notifications")}catch(Q){console.error("Error toggling notifications:",Q),alert("Failed to toggle notifications. Please try again.")}},Yr=async()=>{try{const e=await f.getTournamentSoftwareFiles();e.success&&k(e.files)}catch(Q){console.error("Error loading tournament software files:",Q)}},Kr=async e=>{const t=e.target.files[0];if(t){A(!0);try{const e=new FormData;e.append("file",t),e.append("description","");(await f.uploadTournamentSoftwareFile(e)).success&&(await Yr(),alert("File uploaded successfully!"))}catch(Q){console.error("Error uploading file:",Q),alert("Failed to upload file. Please try again.")}finally{A(!1),e.target.value=""}}},Jr=e=>{if(0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},Qr=async()=>{try{const e=await f.getAllStateUsers();e.success&&de(e.users)}catch(Q){console.error("Error loading state users:",Q)}},Xr=async()=>{if(xe.username.trim())if(xe.password.trim())if(xe.password===xe.confirmPassword)if(xe.stateName.trim())try{const e=await f.createStateUser({username:xe.username.trim(),password:xe.password.trim(),email:xe.email.trim()||null,stateName:xe.stateName.trim(),stateCode:xe.stateCode.trim()||null,contactPerson:xe.contactPerson.trim()||null,phone:xe.phone.trim()||null});e.success?(alert("State user created successfully!"),be({username:"",password:"",confirmPassword:"",email:"",stateName:"",stateCode:"",contactPerson:"",phone:""}),he(!1),Qr()):alert(e.message||"Failed to create state user")}catch(Q){console.error("Error creating state user:",Q),alert(Q.message||"Failed to create state user")}else alert("State name is required.");else alert("Passwords do not match.");else alert("Password is required.");else alert("Username is required.")},$r=async()=>{if(me)try{const e=await f.updateStateUser(me._id,{username:me.username,email:me.email,stateName:me.stateName,stateCode:me.stateCode,contactPerson:me.contactPerson,phone:me.phone});e.success?(alert("State user updated successfully!"),fe(!1),ge(null),Qr()):alert(e.message||"Failed to update state user")}catch(Q){console.error("Error updating state user:",Q),alert(Q.message||"Failed to update state user")}},Zr=["Johor","Kedah","Kelantan","Melaka","Negeri Sembilan","Pahang","Penang","Perak","Perlis","Sabah","Sarawak","Selangor","Terengganu","Kuala Lumpur","Putrajaya","Labuan"];return(0,s.jsxs)("div",{className:"admin-dashboard",children:[(0,s.jsxs)("div",{className:"dashboard-sidebar",children:[(0,s.jsxs)("div",{className:"mobile-nav-dropdown",children:[(0,s.jsxs)("button",{className:"mobile-nav-toggle",onClick:()=>vn(!yn),children:[(0,s.jsx)("span",{children:(ta=H,{dashboard:"Dashboard",calendar:"Calendar","create-tournament":"Create Tournament","edit-tournament":"Edit Tournament",applications:"Application Management","registered-organizations":"Registered Organizations","tournament-software":"Tournament Software",analytics:"Analytics","notice-management":"Notice Management","assessment-management":"Assessment Management","assessment-list":"Assessment Results","assessment-statistics":"Assessment Statistics","saved-forms":"Saved Forms","state-users":"State Users",admin_management:"Admin Management",settings:"Settings"}[ta]||"Dashboard")}),(0,s.jsx)("span",{className:"mobile-nav-arrow ".concat(yn?"open":""),children:"\u25bc"})]}),yn&&(0,s.jsxs)("div",{className:"mobile-nav-menu",children:[_r("dashboard")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("dashboard"===H?"active":""),onClick:()=>{V("dashboard"),vn(!1)},children:"Dashboard"}),_r("calendar")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("calendar"===H?"active":""),onClick:()=>{V("calendar"),vn(!1)},children:"Calendar"}),_r("tournaments")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("create-tournament"===H?"active":""),onClick:()=>{V("create-tournament"),vn(!1)},children:"Create Tournament"}),_r("applications")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("applications"===H?"active":""),onClick:()=>{V("applications"),vn(!1)},children:"Application Management"}),_r("organizations")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("registered-organizations"===H?"active":""),onClick:()=>{V("registered-organizations"),vn(!1)},children:"Registered Organizations"}),_r("tournament-software")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("tournament-software"===H?"active":""),onClick:()=>{V("tournament-software"),vn(!1)},children:"Tournament Software"}),_r("analytics")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("analytics"===H?"active":""),onClick:()=>{V("analytics"),vn(!1)},children:"Analytics"}),_r("notices")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("notice-management"===H?"active":""),onClick:()=>{V("notice-management"),vn(!1)},children:"Notice Management"}),_r("assessment")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("assessment-management"===H?"active":""),onClick:()=>{V("assessment-management"),vn(!1)},children:"Assessment Management"}),_r("state-users")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("state-users"===H?"active":""),onClick:()=>{V("state-users"),vn(!1)},children:"State Users"}),_r("admin_management")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("admin_management"===H?"active":""),onClick:()=>{V("admin_management"),vn(!1)},children:"Admin Management"}),_r("settings")&&(0,s.jsx)("button",{className:"mobile-nav-item ".concat("settings"===H?"active":""),onClick:()=>{V("settings"),vn(!1)},children:"Settings"})]})]}),(0,s.jsxs)("div",{className:"sidebar-nav desktop-sidebar-nav",children:[_r("dashboard")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("dashboard"===H?"active":""),onClick:()=>V("dashboard"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Dashboard"}),_r("calendar")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("calendar"===H?"active":""),onClick:()=>V("calendar"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Calendar"}),_r("tournaments")&&(0,s.jsxs)("div",{className:"sidebar-nav-group",children:[(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("create-tournament"===H||"edit-tournament"===H?"active":""),onClick:()=>{bn(!xn),xn||V("create-tournament")},style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("span",{children:"Create Tournament"}),(0,s.jsx)("span",{style:{fontSize:"12px",transition:"transform 0.2s ease",transform:xn?"rotate(180deg)":"rotate(0deg)"},children:"\u25bc"})]}),xn&&(0,s.jsxs)("div",{className:"sidebar-sub-menu",style:{marginLeft:"20px"},children:[(0,s.jsx)("button",{className:"sidebar-nav-item sub-item ".concat("create-tournament"===H?"active":""),onClick:()=>V("create-tournament"),style:{fontSize:"14px",fontWeight:"400",padding:"10px 15px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"New Tournament"}),(0,s.jsx)("button",{className:"sidebar-nav-item sub-item ".concat("edit-tournament"===H?"active":""),onClick:()=>V("edit-tournament"),style:{fontSize:"14px",fontWeight:"400",padding:"10px 15px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Edit Tournament"})]})]}),_r("applications")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("applications"===H?"active":""),onClick:()=>V("applications"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Applications"}),_r("organizations")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("registered-organizations"===H?"active":""),onClick:()=>V("registered-organizations"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Registered Organizations"}),(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("tournament-software"===H?"active":""),onClick:()=>V("tournament-software"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Tournament Software"}),(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("tournament-software-file"===H?"active":""),onClick:()=>V("tournament-software-file"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"File"}),_r("analytics")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("analytics"===H?"active":""),onClick:()=>V("analytics"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Analytics"}),_r("notices")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("notice-management"===H?"active":""),onClick:()=>V("notice-management"),style:{fontSize:"16px",fontWeight:"500",padding:"12px 20px",color:"#fff",backgroundColor:"transparent",border:"none",width:"100%",textAlign:"left",cursor:"pointer"},children:"Notice Management"}),_r("assessments")&&(0,s.jsxs)("div",{className:"sidebar-nav-group",children:[(0,s.jsxs)("button",{className:"sidebar-nav-item ".concat("assessment-management"===H||"assessment-list"===H||"assessment-statistics"===H||"saved-forms"===H?"active":""),onClick:()=>{St(!jt),jt||V("assessment-management")},style:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"transparent",border:"none",color:"assessment-management"===H||"assessment-list"===H||"assessment-statistics"===H||"saved-forms"===H?"#fff":"#ccc",cursor:"pointer",padding:"12px 20px",width:"100%",textAlign:"left",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[(0,s.jsx)("span",{style:{flex:1,minWidth:0},children:"Assessment Management"}),(0,s.jsx)("span",{style:{transform:jt?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s ease",fontSize:"12px",marginLeft:"8px",flexShrink:0},children:"\u25bc"})]}),jt&&(0,s.jsxs)("div",{className:"sidebar-sub-menu",style:{marginLeft:"20px"},children:[(0,s.jsx)("button",{className:"sidebar-nav-item sub-item ".concat("assessment-management"===H?"active":""),onClick:()=>V("assessment-management"),style:{backgroundColor:"transparent",border:"none",color:"assessment-management"===H?"#fff":"#ccc",cursor:"pointer",padding:"10px 20px",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:"400",transition:"all 0.3s ease"},children:"Manage Questions"}),(0,s.jsx)("button",{className:"sidebar-nav-item sub-item ".concat("assessment-list"===H?"active":""),onClick:()=>V("assessment-list"),style:{backgroundColor:"transparent",border:"none",color:"assessment-list"===H?"#fff":"#ccc",cursor:"pointer",padding:"10px 20px",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:"400",transition:"all 0.3s ease"},children:"Assessment List"}),(0,s.jsx)("button",{className:"sidebar-nav-item sub-item ".concat("assessment-statistics"===H?"active":""),onClick:()=>V("assessment-statistics"),style:{backgroundColor:"transparent",border:"none",color:"assessment-statistics"===H?"#fff":"#ccc",cursor:"pointer",padding:"10px 20px",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:"400",transition:"all 0.3s ease"},children:"Statistics"}),(0,s.jsxs)("button",{className:"sidebar-nav-item sub-item ".concat("saved-forms"===H?"active":""),onClick:()=>V("saved-forms"),style:{backgroundColor:"transparent",border:"none",color:"saved-forms"===H?"#fff":"#ccc",cursor:"pointer",padding:"10px 20px",width:"100%",textAlign:"left",fontSize:"14px",fontWeight:"400",transition:"all 0.3s ease",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("span",{children:"Saved Forms"}),(0,s.jsx)("span",{style:{backgroundColor:"#007bff",color:"#fff",borderRadius:"10px",padding:"2px 6px",fontSize:"10px",fontWeight:"bold"},children:gt.length})]})]})]}),_r("state-users")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("state-users"===H?"active":""),onClick:()=>V("state-users"),style:{backgroundColor:"transparent",border:"none",color:"state-users"===H?"#fff":"#ccc",cursor:"pointer",padding:"12px 20px",width:"100%",textAlign:"left",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:"State Users"}),_r("settings")&&(0,s.jsx)("button",{className:"sidebar-nav-item ".concat("settings"===H?"active":""),onClick:()=>V("settings"),style:{backgroundColor:"transparent",border:"none",color:"settings"===H?"#fff":"#ccc",cursor:"pointer",padding:"12px 20px",width:"100%",textAlign:"left",fontSize:"16px",fontWeight:"500",transition:"all 0.3s ease"},children:"Settings"})]})]}),(0,s.jsxs)("div",{className:"dashboard-content",children:["dashboard"===H&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Admin Dashboard"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Manage tournament applications by status"})]}),Q&&(0,s.jsxs)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"15px",borderRadius:"4px",marginBottom:"20px",border:"1px solid #ffcdd2"},children:[Q,(0,s.jsx)("button",{onClick:dr,style:{marginLeft:"10px",padding:"5px 10px"},children:"Retry"})]}),K?(0,s.jsx)("div",{className:"loading-message",style:{textAlign:"center",padding:"20px"},children:(0,s.jsx)("p",{children:"Loading applications..."})}):0===p.length?(0,s.jsxs)("div",{className:"no-applications",children:[(0,s.jsx)("p",{children:"No applications found."}),(0,s.jsx)("p",{children:"Applications will appear here once users submit tournament applications."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mobile-status-folders",children:[{key:"Pending Review",label:"Pending",color:"#f59e0b"},{key:"Under Review",label:"Review",color:"#3b82f6"},{key:"Approved",label:"Approved",color:"#10b981"},{key:"Rejected",label:"Rejected",color:"#ef4444"}].map(e=>{const t=p.filter(t=>t.status===e.key),n=wn===e.key;return(0,s.jsxs)("div",{className:"mobile-status-folder",children:[(0,s.jsxs)("button",{className:"mobile-folder-toggle ".concat(n?"expanded":""),onClick:()=>jn(n?null:e.key),style:{borderLeftColor:e.color},children:[(0,s.jsx)("span",{className:"folder-label",children:e.label}),(0,s.jsx)("span",{className:"folder-count",style:{backgroundColor:e.color},children:t.length}),(0,s.jsx)("span",{className:"folder-arrow ".concat(n?"open":""),children:"\u25bc"})]}),n&&(0,s.jsx)("div",{className:"mobile-folder-content",children:t.length>0?t.map((e,t)=>(0,s.jsxs)("div",{className:"mobile-folder-item",onClick:()=>Sr(e),children:[(0,s.jsxs)("span",{className:"item-number",children:[t+1,"."]}),(0,s.jsx)("span",{className:"item-title",children:e.eventTitle||"No Event Title"})]},e.applicationId||e.id)):(0,s.jsx)("div",{className:"mobile-folder-empty",children:"No applications"})})]},e.key)})}),(0,s.jsxs)("div",{className:"status-columns-container desktop-status-columns",children:[(0,s.jsxs)("div",{className:"status-column",children:[(0,s.jsxs)("h3",{className:"status-column-header pending",children:["Pending Review (",p.filter(e=>"Pending Review"===e.status).length,")"]}),(0,s.jsx)("div",{className:"status-column-content",children:p.filter(e=>"Pending Review"===e.status).length>0?(0,s.jsx)("div",{className:"tournament-list",children:p.filter(e=>"Pending Review"===e.status).map((e,t)=>(0,s.jsxs)("div",{className:"tournament-item",onClick:()=>Sr(e),title:"Click to view details",children:[(0,s.jsxs)("span",{className:"tournament-number",children:[t+1,"."]}),e.eventTitle||"No Event Title"]},e.applicationId||e.id))}):(0,s.jsx)("div",{className:"empty-column",children:"No pending applications"})})]}),(0,s.jsxs)("div",{className:"status-column",children:[(0,s.jsxs)("h3",{className:"status-column-header under-review",children:["Under Review (",p.filter(e=>"Under Review"===e.status).length,")"]}),(0,s.jsx)("div",{className:"status-column-content",children:p.filter(e=>"Under Review"===e.status).length>0?(0,s.jsx)("div",{className:"tournament-list",children:p.filter(e=>"Under Review"===e.status).map((e,t)=>(0,s.jsxs)("div",{className:"tournament-item",onClick:()=>Sr(e),title:"Click to view details",children:[(0,s.jsxs)("span",{className:"tournament-number",children:[t+1,"."]}),e.eventTitle||"No Event Title"]},e.applicationId||e.id))}):(0,s.jsx)("div",{className:"empty-column",children:"No applications under review"})})]}),(0,s.jsxs)("div",{className:"status-column",children:[(0,s.jsxs)("h3",{className:"status-column-header approved",children:["Approved (",p.filter(e=>"Approved"===e.status).length,")"]}),(0,s.jsx)("div",{className:"status-column-content",children:p.filter(e=>"Approved"===e.status).length>0?(0,s.jsx)("div",{className:"tournament-list",children:p.filter(e=>"Approved"===e.status).map((e,t)=>(0,s.jsxs)("div",{className:"tournament-item",onClick:()=>Sr(e),title:"Click to view details",children:[(0,s.jsxs)("span",{className:"tournament-number",children:[t+1,"."]}),e.eventTitle||"No Event Title"]},e.applicationId||e.id))}):(0,s.jsx)("div",{className:"empty-column",children:"No approved applications"})})]}),(0,s.jsxs)("div",{className:"status-column rejected",children:[(0,s.jsxs)("h3",{className:"status-column-header rejected",children:["Rejected (",p.filter(e=>"Rejected"===e.status).length,")"]}),(0,s.jsx)("div",{className:"status-column-content",children:p.filter(e=>"Rejected"===e.status).length>0?(0,s.jsx)("div",{className:"tournament-list",children:p.filter(e=>"Rejected"===e.status).map((e,t)=>(0,s.jsxs)("div",{className:"tournament-item",onClick:()=>Sr(e),title:"Click to view details",children:[(0,s.jsxs)("span",{className:"tournament-number",children:[t+1,"."]}),e.eventTitle||"No Event Title"]},e.applicationId||e.id))}):(0,s.jsx)("div",{className:"empty-column",children:"No rejected applications"})})]})]})]}),(0,s.jsxs)("div",{className:"tournament-updates-card",style:{backgroundColor:"white",border:"1px solid #e9ecef",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",margin:"20px 0",overflow:"hidden"},children:[(0,s.jsxs)("div",{className:"updates-card-body",style:{padding:"20px"},children:[(0,s.jsxs)("div",{className:"updates-header-content",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsxs)("div",{className:"updates-title",style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("h3",{style:{margin:"0",color:"#2c3e50",fontSize:"18px"},children:"Notice: Tournament Updates"}),(0,s.jsxs)("span",{className:"updates-count",style:{backgroundColor:"#007bff",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:[et.length," update",1!==et.length?"s":""]})]}),(0,s.jsx)("button",{className:"refresh-updates-btn-header",onClick:mr,disabled:Nt,title:"Refresh updates",style:{backgroundColor:Nt?"#f8f9fa":"#007bff",color:Nt?"#6c757d":"white",border:"none",borderRadius:"8px",padding:"8px 12px",cursor:Nt?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:e=>{Nt||(e.target.style.backgroundColor="#0056b3")},onMouseLeave:e=>{Nt||(e.target.style.backgroundColor="#007bff")},children:Nt?"Loading...":"Refresh"})]}),Nt?(0,s.jsxs)("div",{className:"loading-updates-card",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",color:"#6c757d"},children:[(0,s.jsx)("div",{className:"loading-spinner-card",style:{width:"24px",height:"24px",border:"3px solid #f1f3f4",borderTop:"3px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"12px"}}),(0,s.jsx)("span",{style:{fontSize:"14px"},children:"Loading tournament updates..."})]}):0===et.length?(0,s.jsx)("div",{className:"no-updates-card",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",textAlign:"center"},children:(0,s.jsxs)("div",{className:"no-updates-text",children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",color:"#495057",fontSize:"16px",fontWeight:"500"},children:"No recent tournament updates"}),(0,s.jsx)("small",{style:{color:"#6c757d",fontSize:"14px"},children:"Updates will appear here when tournaments are modified"})]})}):(0,s.jsx)("div",{className:"updates-scrollable-list",style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",padding:"10px",borderRadius:"8px",backgroundColor:"#f8f9fa"},children:et.map((e,t)=>(0,s.jsx)("div",{className:"update-list-item ".concat(e.type),style:{backgroundColor:"transparent",border:"none",borderBottom:t===et.length-1?"none":"1px solid #e9ecef",borderRadius:"0",padding:"15px 5px",marginBottom:"0",boxShadow:"none",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#f1f3f4"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:(0,s.jsxs)("div",{className:"update-card-content",children:[(0,s.jsxs)("div",{className:"update-card-header-row",children:[(0,s.jsx)("div",{className:"update-type-badge",children:(0,s.jsx)("span",{className:"tournament-name-badge",children:e.tournamentName})}),(0,s.jsx)("span",{className:"update-timestamp",style:{fontSize:"12px",color:"#6c757d",fontWeight:"500"},children:e.timestamp.toLocaleDateString("en-MY",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsx)("div",{className:"update-description-card",style:{margin:"8px 0",fontSize:"14px",fontWeight:"600",color:"#2c3e50"},children:e.change}),(0,s.jsxs)("div",{className:"update-details-card",style:{fontSize:"13px",color:"#6c757d",display:"flex",flexWrap:"wrap",gap:"12px",alignItems:"center"},children:[(0,s.jsx)("span",{className:"organizer-badge",children:e.organizerName}),e.details.venue&&(0,s.jsx)("span",{className:"venue-badge",children:e.details.venue}),e.details.eventDate&&(0,s.jsx)("span",{className:"event-date-badge",children:new Date(e.details.eventDate).toLocaleDateString("en-MY",{month:"short",day:"numeric",year:"numeric"})})]}),e.details.newStatus&&(0,s.jsxs)("div",{className:"status-change-card",style:{marginTop:"10px",padding:"8px 12px",backgroundColor:"#f1f3f4",borderRadius:"6px",display:"flex",alignItems:"center",gap:"8px",fontSize:"13px"},children:[(0,s.jsx)("span",{style:{color:"#6c757d"},children:"Status:"}),(0,s.jsx)("span",{style:{color:"#495057",fontWeight:"500"},children:e.details.previousStatus}),(0,s.jsx)("span",{style:{color:"#6c757d"},children:"\u2192"}),(0,s.jsx)("span",{style:{color:"Approved"===e.details.newStatus?"#28a745":"Rejected"===e.details.newStatus?"#dc3545":"#007bff",fontWeight:"600"},children:e.details.newStatus})]})]})},e.id))})]}),(0,s.jsx)("div",{className:"updates-card-footer",style:{padding:"12px 20px",borderTop:"1px solid #e9ecef",backgroundColor:"#f8f9fa",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsxs)("small",{style:{color:"#6c757d",fontSize:"12px",textAlign:"center"},children:["Updates are automatically tracked for all tournament changes \u2022 Last updated: ",(new Date).toLocaleTimeString("en-MY",{hour:"2-digit",minute:"2-digit"})]})})]})]}),"calendar"===H&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"dashboard-header",children:(0,s.jsx)("h2",{children:"Tournament Calendar"})}),(0,s.jsxs)("div",{className:"calendar-container",style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"30px",minHeight:"600px"},children:[(0,s.jsxs)("div",{className:"calendar-grid",children:[(0,s.jsxs)("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"2px solid #e9ecef"},children:[(0,s.jsx)("button",{onClick:()=>{Gn(new Date(Vn.getFullYear(),Vn.getMonth()-1,1))},style:{background:"none",border:"1px solid #dee2e6",borderRadius:"4px",padding:"8px 12px",cursor:"pointer",fontSize:"16px"},children:"\u2190"}),(0,s.jsx)("h3",{style:{margin:0},children:Vn.toLocaleString("default",{month:"long",year:"numeric"})}),(0,s.jsx)("button",{onClick:()=>{Gn(new Date(Vn.getFullYear(),Vn.getMonth()+1,1))},style:{background:"none",border:"1px solid #dee2e6",borderRadius:"4px",padding:"8px 12px",cursor:"pointer",fontSize:"16px"},children:"\u2192"})]}),(0,s.jsxs)("div",{className:"calendar-month",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",backgroundColor:"#dee2e6",borderRadius:"8px",overflow:"hidden"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("div",{style:{padding:"12px",backgroundColor:"#495057",color:"white",textAlign:"center",fontWeight:"500",fontSize:"14px"},children:e},e)),Array.from({length:(ea=Vn,new Date(ea.getFullYear(),ea.getMonth(),1).getDay())},(e,t)=>(0,s.jsx)("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",minHeight:"60px"}},"empty-".concat(t))),Array.from({length:(e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate())(Vn)},(e,t)=>{const n=t+1,r=new Date(Vn.getFullYear(),Vn.getMonth(),n),a=Ur(r),i=(new Date).toDateString()===r.toDateString(),o=Wn.toDateString()===r.toDateString();return(0,s.jsxs)("div",{onClick:()=>(e=>{const t=new Date(Vn.getFullYear(),Vn.getMonth(),e);Hn(t);const n=Ur(t);Kn(n)})(n),style:{padding:"8px",backgroundColor:o?"#007bff":i?"#e3f2fd":"white",minHeight:"60px",cursor:"pointer",border:i?"2px solid #2196f3":"none",position:"relative",color:o?"white":"#212529"},children:[(0,s.jsx)("div",{style:{fontWeight:i?"600":"400",fontSize:"14px"},children:n}),a.length>0&&(0,s.jsxs)("div",{style:{position:"absolute",bottom:"4px",left:"4px",right:"4px",display:"flex",gap:"2px",flexWrap:"wrap"},children:[a.slice(0,3).map((e,t)=>(0,s.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"Approved"===e.status?"#28a745":"Pending Review"===e.status?"#ffc107":"#dc3545"}},t)),a.length>3&&(0,s.jsxs)("div",{style:{fontSize:"8px",color:o?"white":"#6c757d",marginLeft:"2px"},children:["+",a.length-3]})]})]},n)})]}),(0,s.jsxs)("div",{className:"calendar-legend",style:{marginTop:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"12px"},children:[(0,s.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"#28a745",borderRadius:"50%",marginRight:"5px"}}),(0,s.jsx)("small",{style:{marginRight:"15px"},children:"Approved"}),(0,s.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"#ffc107",borderRadius:"50%",marginRight:"5px"}}),(0,s.jsx)("small",{style:{marginRight:"15px"},children:"Pending"}),(0,s.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"#dc3545",borderRadius:"50%",marginRight:"5px"}}),(0,s.jsx)("small",{children:"Rejected"})]})]}),(0,s.jsxs)("div",{className:"selected-date-details",children:[(0,s.jsx)("h4",{style:{marginTop:0,color:"#495057"},children:Wn.toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),0===Yn.length?(0,s.jsx)("div",{style:{textAlign:"center",padding:"20px",color:"#6c757d",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:(0,s.jsx)("p",{style:{margin:0},children:"No tournaments on this date"})}):(0,s.jsx)("div",{className:"tournaments-list",style:{maxHeight:"400px",overflowY:"auto"},children:Yn.map(e=>(0,s.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"6px",padding:"15px",marginBottom:"10px",backgroundColor:"Approved"===e.status?"#d4edda":"Pending Review"===e.status?"#fff3cd":"#f8d7da",borderLeft:"4px solid ".concat("Approved"===e.status?"#28a745":"Pending Review"===e.status?"#ffc107":"#dc3545")},children:[(0,s.jsx)("h5",{style:{margin:"0 0 8px 0",color:"#212529",fontSize:"16px"},children:e.eventTitle}),(0,s.jsxs)("p",{style:{margin:"0 0 4px 0",color:"#6c757d",fontSize:"13px"},children:[(0,s.jsx)("strong",{children:"\ud83c\udfe2"})," ",e.organiserName]}),(0,s.jsxs)("p",{style:{margin:"0 0 4px 0",color:"#6c757d",fontSize:"13px"},children:[(0,s.jsx)("strong",{children:"\ud83d\udccd"})," ",e.venue]}),(0,s.jsxs)("p",{style:{margin:"0 0 8px 0",color:"#6c757d",fontSize:"13px"},children:[(0,s.jsx)("strong",{children:"\ud83d\udcc5"})," ",new Date(e.eventStartDate).toLocaleDateString()," - ",new Date(e.eventEndDate).toLocaleDateString()]}),(0,s.jsx)("span",{style:{padding:"3px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"500",backgroundColor:"Approved"===e.status?"#28a745":"Pending Review"===e.status?"#ffc107":"#dc3545",color:"white"},children:e.status})]},e.applicationId))})]})]})]}),"applications"===H&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Applications Management"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Filter applications by status using the buttons below"})]}),(0,s.jsxs)("div",{className:"status-filter-buttons",children:[(0,s.jsxs)("button",{className:"status-filter-btn ".concat("Pending Review"===G?"active":""),onClick:()=>Y("Pending Review"),children:["Pending Review (",Nn.filter(e=>"Pending Review"===e.status).length,")"]}),(0,s.jsxs)("button",{className:"status-filter-btn ".concat("Under Review"===G?"active":""),onClick:()=>Y("Under Review"),children:["Under Review (",Nn.filter(e=>"Under Review"===e.status).length,")"]}),(0,s.jsxs)("button",{className:"status-filter-btn approved-folder ".concat("ApprovedTournaments"===G?"active":""),onClick:()=>Y("ApprovedTournaments"),title:"Sanctioned tournaments ready for event organization",children:["Approved Tournaments (",Nn.filter(e=>"Approved"===e.status).length,")"]}),(0,s.jsxs)("button",{className:"status-filter-btn ".concat("Rejected"===G?"active":""),onClick:()=>Y("Rejected"),children:["Rejected (",Nn.filter(e=>"Rejected"===e.status).length,")"]}),(0,s.jsxs)("button",{className:"status-filter-btn ".concat("All"===G?"active":""),onClick:()=>Y("All"),children:["All Applications (",Nn.length,")"]}),(0,s.jsxs)("button",{className:"status-filter-btn ".concat("History2025"===G?"active":""),onClick:()=>Y("History2025"),title:"Applications from 2025",children:["History 2025 (",kn.length,")"]})]}),Q&&(0,s.jsxs)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"15px",borderRadius:"4px",marginBottom:"20px",border:"1px solid #ffcdd2"},children:[Q,(0,s.jsx)("button",{onClick:dr,style:{marginLeft:"10px",padding:"5px 10px"},children:"Retry"})]}),K?(0,s.jsx)("div",{className:"loading-message",style:{textAlign:"center",padding:"20px"},children:(0,s.jsx)("p",{children:"Loading applications..."})}):0===p.length?(0,s.jsxs)("div",{className:"no-applications",children:[(0,s.jsx)("p",{children:"No applications found."}),(0,s.jsx)("p",{children:"Applications will appear here once users submit tournament applications."})]}):(0,s.jsx)("div",{className:"applications-table-container",children:(0,s.jsxs)("table",{className:"applications-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No."}),(0,s.jsx)("th",{children:"Tournament Name"}),(0,s.jsx)("th",{children:"ID Number"}),(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"History2025"===G?"Year":"Status"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:("ApprovedTournaments"===G?Nn.filter(e=>"Approved"===e.status):"History2025"===G?kn:Nn.filter(e=>"All"===G||e.status===G)).map((e,t)=>{const n=e.applicationId||e.id;return(0,s.jsxs)("tr",{"data-status":e.status,children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"clickable-link",onClick:()=>Sr(e),title:"Click to view details",children:e.eventTitle||"No Event Title"})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"clickable-link",onClick:()=>Sr(e),title:"Click to view details",children:n})}),(0,s.jsx)("td",{children:(()=>{if(!e.eventStartDate)return"Date TBA";const t=new Date(e.eventStartDate),n=e.eventEndDate?new Date(e.eventEndDate):null,r=new Date,a=Math.ceil((t-r)/864e5),i="Under Review"===e.status&&a<=5&&a>=0;let o;if(n&&e.eventStartDate!==e.eventEndDate){o=t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()?"".concat(t.getDate()," - ").concat(n.getDate()," ").concat(t.toLocaleDateString("en-MY",{month:"short",year:"numeric"})):"".concat(t.toLocaleDateString("en-MY",{day:"numeric",month:"short"})," - ").concat(n.toLocaleDateString("en-MY",{day:"numeric",month:"short",year:"numeric"}))}else o=t.toLocaleDateString("en-MY",{day:"numeric",month:"short",year:"numeric"});return(0,s.jsx)("span",{style:{color:i?"#dc2626":"inherit",fontWeight:i?"600":"normal"},children:o})})()}),(0,s.jsx)("td",{children:"History2025"===G?(0,s.jsxs)("span",{className:"status-badge-table",style:{backgroundColor:"#6b7280"},children:["2025 - ",e.status]}):"ApprovedTournaments"===G&&or(e)&&sr(e.state)?(0,s.jsxs)("span",{style:{backgroundColor:"#d1fae5",color:"#065f46",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},title:"".concat(e.classification," level - Approved by ").concat(e.state," State Association"),children:[e.state,": Approved"]}):(0,s.jsx)("span",{className:"status-badge-table",style:{backgroundColor:br(e.status)},children:e.status})}),(0,s.jsx)("td",{children:(0,s.jsx)("div",{className:"table-actions",children:"ApprovedTournaments"===G?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("button",{onClick:()=>Sr(e),className:"view-btn-table",title:"View Tournament Details",children:"View"})}):"History2025"===G?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:()=>Sr(e),className:"view-btn-table",title:"View Historical Record",children:"View"}),(0,s.jsx)("span",{style:{backgroundColor:"#f3f4f6",color:"#6b7280",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600"},children:"Archived"})]}):(0,s.jsxs)(s.Fragment,{children:[or(e)&&sr(e.state)?(0,s.jsxs)("span",{className:"state-approval-badge",title:"".concat(e.classification," level - managed by ").concat(e.state," State Association"),style:{backgroundColor:"Approved"===e.status?"#d1fae5":"Rejected"===e.status?"#fee2e2":"#fef3c7",color:"Approved"===e.status?"#065f46":"Rejected"===e.status?"#991b1b":"#92400e",padding:"4px 10px",borderRadius:"4px",fontSize:"11px",fontWeight:"600",marginRight:"8px"},children:[e.state,": ",e.status]}):(0,s.jsxs)("select",{value:e.status,onChange:e=>(async(e,t)=>{try{if("Rejected"===t)return F(e),void z(!0);if("More Info Required"===t)return q(e),void O(!0);{await f.updateApplicationStatus(e,t);const n=p.find(t=>t.id===e||t.applicationId===e),r=(null===n||void 0===n?void 0:n.status)||"Unknown",a=p.map(n=>n.id===e||n.applicationId===e?h(h({},n),{},{status:t}):n);m(a),n&&vr(n.applicationId||e,n.eventTitle||"Unknown Tournament",n.organiserName||"Unknown Organizer","Tournament status changed from ".concat(r," to ").concat(t),{previousStatus:r,newStatus:t,venue:n.venue,eventDate:n.eventStartDate}),"Approved"===t&&ur()}}catch(Q){console.error("Failed to update application status:",Q),alert("Failed to update application status. Please try again.")}})(n,e.target.value),className:"status-select-table",disabled:"Rejected"===e.status,children:[(0,s.jsx)("option",{value:"Pending Review",children:"Pending Review"}),(0,s.jsx)("option",{value:"Under Review",children:"Under Review"}),(0,s.jsx)("option",{value:"Approved",children:"Approved"}),(0,s.jsx)("option",{value:"Rejected",children:"Rejected"}),(0,s.jsx)("option",{value:"More Info Required",children:"More Info Required"})]}),(0,s.jsx)("button",{onClick:()=>Sr(e),className:"view-btn-table",title:"View Details",children:"View"}),"All"===G&&(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to permanently delete this application? This action cannot be undone."))try{console.log("Attempting to delete application with ID:",e),await f.deleteApplication(e),m(t=>t.filter(t=>t.applicationId!==e&&t.id!==e)),alert("Application deleted successfully.")}catch(Q){console.error("Failed to delete application:",Q),console.error("Error details:",Q.message),alert("Failed to delete application: ".concat(Q.message,". Please try again."))}})(n),className:"delete-btn-table",title:"Delete Application",children:"Delete"})]})})})]},n)})})]})})]}),"create-tournament"===H&&(0,s.jsxs)("div",{className:"create-tournament-view",children:[(0,s.jsx)("div",{className:"dashboard-header",children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"20px",width:"100%"},children:[(0,s.jsx)("img",{src:i,alt:"Malaysia Pickleball Association",style:{height:"100px",width:"auto"}}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("h2",{children:"Create Tournament"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Create and directly approve tournament applications"})]})]})}),Qe?(0,s.jsxs)("div",{className:"submission-success",children:[(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("h3",{children:"Tournament Created Successfully!"}),(0,s.jsx)("p",{children:"The tournament has been created and automatically approved."}),(0,s.jsx)("p",{children:"It will now appear in the approved tournaments list."})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"button",className:"home-btn",onClick:()=>{Xe(!1),V("applications")},children:"View Applications"}),(0,s.jsx)("button",{type:"button",className:"submit-btn",onClick:()=>{Xe(!1)},children:"Create Another Tournament"})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),Ye(!0),Je(""),0===He.length)return alert("Please save at least one tournament category before submitting."),void Ye(!1);if(!Ue.hospitalName||!Ue.hospitalName.trim())return alert("Please enter the hospital name in the Emergency Plan section."),void Ye(!1);if(!Ue.hospitalDistance||!Ue.hospitalDistance.trim())return alert("Please enter the distance to hospital in the Emergency Plan section."),void Ye(!1);if(!Ue.numberOfMedics||""===Ue.numberOfMedics)return alert("Please enter the number of medics in the Emergency Plan section."),void Ye(!1);if(!Ue.emergencyTransportType)return alert("Please select an emergency transport type in the Emergency Plan section."),void Ye(!1);if("ambulance"===Ue.emergencyTransportType&&(!Ue.emergencyTransportQuantity||""===Ue.emergencyTransportQuantity))return alert("Please enter the number of ambulances in the Emergency Plan section."),void Ye(!1);if("standby_vehicle"===Ue.emergencyTransportType&&(!Ue.standbyVehicleType||!Ue.standbyVehicleType.trim()))return alert("Please enter the type of vehicle in the Emergency Plan section."),void Ye(!1);try{const e=new FormData;e.append("organiserName",Ue.organiserName),e.append("registrationNo",Ue.registrationNo),e.append("telContact",Ue.telContact),e.append("personInCharge",Ue.personInCharge),e.append("email",Ue.email),e.append("organisingPartner",Ue.organisingPartner),e.append("eventTitle",Ue.eventTitle),e.append("eventStartDate",Ue.eventStartDate),e.append("eventEndDate",Ue.eventEndDate),e.append("eventStartDateFormatted",Ue.eventStartDateFormatted),e.append("eventEndDateFormatted",Ue.eventEndDateFormatted),e.append("state",Ue.state),e.append("city",Ue.city),e.append("venue",Ue.venue),e.append("classification",Ue.classification),e.append("eventType",Ue.eventType),e.append("categories",JSON.stringify(He)),e.append("expectedParticipants",parseInt(Ue.expectedParticipants)),e.append("hospitalName",Ue.hospitalName),e.append("hospitalDistance",Ue.hospitalDistance),e.append("numberOfMedics",Ue.numberOfMedics),e.append("emergencyTransportType",Ue.emergencyTransportType),e.append("emergencyTransportQuantity",Ue.emergencyTransportQuantity||""),e.append("standbyVehicleType",Ue.standbyVehicleType||""),e.append("eventSummary",Ue.eventSummary),e.append("scoringFormat",Ue.scoringFormat),e.append("tournamentSoftware",JSON.stringify(Ue.tournamentSoftware||[])),e.append("tournamentSoftwareOther",Ue.tournamentSoftwareOther||""),e.append("dataConsent",Ue.dataConsent),e.append("termsConsent",Ue.termsConsent),e.append("status","Approved"),e.append("createdByAdmin","true"),$e&&e.append("tournamentPoster",$e);const t=await f.submitTournamentApplication(e);alert("Tournament created successfully! Application ID: ".concat(t.application.applicationId)),vr(t.application.applicationId,Ue.eventTitle,Ue.organiserName,"New tournament created by admin and auto-approved",{venue:Ue.venue,eventDate:Ue.eventStartDate,status:"Approved",classification:Ue.classification}),Xe(!0),dr(),ur(),We({organiserName:"",registrationNo:"",telContact:"",personInCharge:"",email:"",organisingPartner:"",eventTitle:"",eventStartDate:"",eventEndDate:"",eventStartDateFormatted:"",eventEndDateFormatted:"",state:"",city:"",venue:"",classification:"",eventType:"",category:"",malaysianEntryFee:"",internationalEntryFee:"",expectedParticipants:"",hospitalName:"",hospitalDistance:"",numberOfMedics:"",emergencyTransportType:"",emergencyTransportQuantity:"",standbyVehicleType:"",eventSummary:"",scoringFormat:"traditional",tournamentSoftware:[],tournamentSoftwareOther:"",dataConsent:!1,termsConsent:!1}),Ve([]),Ze(null)}catch(Q){console.error("Tournament creation error:",Q),Je(Q.message||"Failed to create tournament. Please try again.")}finally{Ye(!1)}},className:"tournament-form",children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Organiser Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"organiserName",children:"Organiser Name *"}),(0,s.jsx)("input",{type:"text",id:"organiserName",name:"organiserName",value:Ue.organiserName,onChange:Fr,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"registrationNo",children:"PJS/ROS/Company Registration No. *"}),(0,s.jsx)("input",{type:"text",id:"registrationNo",name:"registrationNo",value:Ue.registrationNo,onChange:Fr,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"telContact",children:"Tel. Contact *"}),(0,s.jsx)("input",{type:"tel",id:"telContact",name:"telContact",value:Ue.telContact,onChange:Fr,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"personInCharge",children:"Person in Charge *"}),(0,s.jsx)("input",{type:"text",id:"personInCharge",name:"personInCharge",value:Ue.personInCharge,onChange:Fr,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:Ue.email,onChange:Fr,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"organisingPartner",children:"Organising Partner (if applicable)"}),(0,s.jsx)("input",{type:"text",id:"organisingPartner",name:"organisingPartner",value:Ue.organisingPartner,onChange:Fr})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Event Details"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"eventTitle",children:"Title of Event *"}),(0,s.jsx)("input",{type:"text",id:"eventTitle",name:"eventTitle",value:Ue.eventTitle,onChange:Fr,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Note: Should Not Include the National/State Title (e.g. Malaysia Open/Closed, State Open/Closed etc)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"tournamentPoster",children:"Tournament Poster"}),(0,s.jsx)("input",{type:"file",id:"tournamentPoster",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type),r=t.size<=10485760;return n?r?void Ze(t):(alert("Poster file is too large. Please upload an image smaller than 10MB."),void(e.target.value="")):(alert("Please upload an image file (JPG, PNG, or WEBP) for the tournament poster."),void(e.target.value=""))},style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}}),(0,s.jsx)("small",{className:"form-note",children:"Upload your tournament poster/flyer. Supported formats: JPG, PNG, WEBP (Max 10MB)"}),$e&&(0,s.jsx)("div",{style:{marginTop:"15px"},children:(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"15px",backgroundColor:"#f8f9fa"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,s.jsxs)("span",{style:{fontWeight:"600",color:"#333"},children:["\ud83d\udcc4 ",$e.name]}),(0,s.jsx)("button",{type:"button",onClick:()=>{Ze(null);const e=document.getElementById("tournamentPoster");e&&(e.value="")},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Remove"})]}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#666"},children:["Size: ",($e.size/1024).toFixed(2)," KB"]})]})})]}),(0,s.jsxs)("div",{className:"form-group date-input-group",children:[(0,s.jsx)("label",{htmlFor:"eventStartDate",children:"Event Start Date *"}),(0,s.jsxs)("div",{className:"date-input-wrapper",children:[(0,s.jsx)("input",{type:"date",id:"eventStartDate",name:"eventStartDate",value:Ue.eventStartDate,onChange:Ir,className:"date-picker-hidden",required:!0}),(0,s.jsx)("input",{type:"text",className:"date-display-input",value:Ue.eventStartDateFormatted,placeholder:"Click to select date",readOnly:!0,onClick:()=>document.getElementById("eventStartDate").showPicker()})]})]}),(0,s.jsxs)("div",{className:"form-group date-input-group",children:[(0,s.jsx)("label",{htmlFor:"eventEndDate",children:"Event End Date *"}),(0,s.jsxs)("div",{className:"date-input-wrapper",children:[(0,s.jsx)("input",{type:"date",id:"eventEndDate",name:"eventEndDate",value:Ue.eventEndDate,onChange:Ir,min:Ue.eventStartDate,className:"date-picker-hidden",required:!0}),(0,s.jsx)("input",{type:"text",className:"date-display-input",value:Ue.eventEndDateFormatted,placeholder:"Click to select date",readOnly:!0,onClick:()=>document.getElementById("eventEndDate").showPicker()})]}),(0,s.jsx)("small",{className:"form-note",children:"End date must be on or after start date"})]}),Ue.eventStartDate&&Ue.eventEndDate&&(0,s.jsxs)("div",{className:"approved-tournaments-section",style:{marginTop:"20px",marginBottom:"20px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsx)("h3",{style:{margin:"0 0 10px 0",color:"#2c3e50",fontSize:"18px"},children:"Date Conflict Check"}),(0,s.jsx)("p",{className:"section-note",style:{margin:"0 0 15px 0",color:"#6c757d",fontSize:"14px"},children:"Checking for approved tournaments on your selected dates"})]}),(()=>{const e=g.filter(e=>((e,t,n,r)=>{if(!e||!t||!n||!r)return!1;const a=new Date(e),i=new Date(t),s=new Date(n),o=new Date(r);return!(isNaN(a.getTime())||isNaN(i.getTime())||isNaN(s.getTime())||isNaN(o.getTime()))&&a<=o&&s<=i})(Ue.eventStartDate,Ue.eventEndDate,e.eventStartDate,e.eventEndDate));return 0===e.length?(0,s.jsx)("div",{className:"no-conflict-message",style:{padding:"15px",backgroundColor:"#d4edda",color:"#155724",borderRadius:"6px",border:"1px solid #c3e6cb"},children:"\u2713 No date conflicts found. Your selected dates are available!"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"conflict-warning",style:{padding:"15px",backgroundColor:"#fff3cd",color:"#856404",borderRadius:"6px",border:"1px solid #ffeaa7",marginBottom:"15px"},children:["\u26a0 Notice: ",e.length," approved tournament",e.length>1?"s":""," found on the same dates."]}),(0,s.jsx)("div",{className:"tournaments-list",style:{display:"flex",flexDirection:"column",gap:"10px"},children:e.map((e,t)=>{const n=e.eventStartDate?new Date(e.eventStartDate):null,r=e.eventEndDate?new Date(e.eventEndDate):null;return(0,s.jsxs)("div",{className:"tournament-item conflict",style:{padding:"15px",backgroundColor:"white",borderRadius:"6px",border:"1px solid #ffc107",borderLeft:"4px solid #ff9800"},children:[(0,s.jsx)("div",{className:"tournament-name",style:{fontWeight:"600",color:"#2c3e50",marginBottom:"8px"},children:e.eventTitle||"Untitled Tournament"}),(0,s.jsxs)("div",{className:"tournament-details",style:{fontSize:"14px",color:"#6c757d",display:"flex",flexWrap:"wrap",gap:"15px"},children:[(0,s.jsxs)("span",{className:"tournament-date",children:["\ud83d\udcc5 ",n&&r?"".concat(n.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," - ").concat(r.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})):"Date not available"]}),e.city&&e.state&&(0,s.jsxs)("span",{className:"tournament-location",children:["\ud83d\udccd ",e.city,", ",e.state]}),e.organiserName&&(0,s.jsxs)("span",{className:"tournament-organizer",children:["\ud83d\udc64 ",e.organiserName]})]})]},t)})})]})})()]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Location *"}),(0,s.jsxs)("div",{className:"location-row",children:[(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"state",children:"State"}),(0,s.jsxs)("select",{id:"state",name:"state",value:Ue.state,onChange:e=>{const t=e.target.value;We(e=>h(h({},e),{},{state:t,city:""}))},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Object.keys(qe).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"city",children:"City"}),(0,s.jsxs)("select",{id:"city",name:"city",value:Ue.city,onChange:Fr,required:!0,disabled:!Ue.state,children:[(0,s.jsx)("option",{value:"",children:"Select City"}),Ue.state&&qe[Ue.state].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),!Ue.state&&(0,s.jsx)("small",{className:"form-note",children:"Please select a state first"})]})]}),(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"venue",children:"Venue"}),(0,s.jsx)("input",{type:"text",id:"venue",name:"venue",value:Ue.venue,onChange:Fr,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Note: The venue must be fully covered and is required to hold a valid government occupancy permit."})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"classification",children:"Level of Event *"}),(0,s.jsxs)("select",{id:"classification",name:"classification",value:Ue.classification,onChange:Fr,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Level/Type"}),(0,s.jsx)("option",{value:"District",children:"District"}),(0,s.jsx)("option",{value:"Divisional",children:"Divisional"}),(0,s.jsx)("option",{value:"State",children:"State"}),(0,s.jsx)("option",{value:"National",children:"National"}),(0,s.jsx)("option",{value:"International",children:"International"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"eventType",children:"Type of Event *"}),(0,s.jsxs)("select",{id:"eventType",name:"eventType",value:Ue.eventType,onChange:Fr,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Type"}),(0,s.jsx)("option",{value:"Open",children:"Open"}),(0,s.jsx)("option",{value:"Closed",children:"Closed"})]})]})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Tournament Categories & Entry Fees"}),(0,s.jsx)("p",{className:"section-note",children:"Add tournament categories with their respective entry fees. You can add multiple categories."}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",style:{flex:"2"},children:[(0,s.jsx)("label",{htmlFor:"category",children:"Category *"}),(0,s.jsx)("input",{type:"text",id:"category",name:"category",value:Ue.category,onChange:Fr,placeholder:"e.g., Men's Singles, Women's Doubles, Mixed Doubles"}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Organisers are required to declare all competition categories planned for this tournament."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"malaysianEntryFee",children:"Malaysian Entry Fee (RM) per player *"}),(0,s.jsx)("input",{type:"number",id:"malaysianEntryFee",name:"malaysianEntryFee",value:Ue.malaysianEntryFee,onChange:Fr,min:"0",step:"0.01",placeholder:"0.00"}),(0,s.jsx)("small",{className:"form-note",style:{color:"#dc3545"},children:"Note: Not more than RM 200.00"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"internationalEntryFee",children:"International Entry Fee (RM) per player"}),(0,s.jsx)("input",{type:"number",id:"internationalEntryFee",name:"internationalEntryFee",value:Ue.internationalEntryFee,onChange:Fr,min:"0",step:"0.01",placeholder:"0.00"}),(0,s.jsx)("small",{className:"form-note",style:{color:"#dc3545"},children:"Note: Only required if international players are involved"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{style:{visibility:"hidden"},children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:()=>{if(!Ue.category||!Ue.malaysianEntryFee)return void alert("Please fill in Category and Malaysian Entry Fee before saving.");const e={id:Date.now(),category:Ue.category,malaysianEntryFee:parseFloat(Ue.malaysianEntryFee),internationalEntryFee:Ue.internationalEntryFee?parseFloat(Ue.internationalEntryFee):0};Ve(t=>[...t,e]),We(e=>h(h({},e),{},{category:"",malaysianEntryFee:"",internationalEntryFee:""}))},style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"auto"},children:"Save Category"})]})]}),He.length>0&&(0,s.jsxs)("div",{className:"saved-categories",style:{marginTop:"15px",marginBottom:"15px"},children:[(0,s.jsx)("h4",{children:"Tournament Categories:"}),(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd",backgroundColor:"white"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",fontWeight:"bold",color:"#333"},children:"Category"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",fontWeight:"bold",color:"#333",width:"150px"},children:"Malaysian Fee (RM)"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",fontWeight:"bold",color:"#333",width:"150px"},children:"International Fee (RM)"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",fontWeight:"bold",color:"#333",width:"100px"},children:"Action"})]})}),(0,s.jsx)("tbody",{children:He.map((e,t)=>(0,s.jsxs)("tr",{style:{backgroundColor:t%2===0?"#fff":"#f9f9f9"},children:[(0,s.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd"},children:e.category}),(0,s.jsxs)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd",fontWeight:"bold",color:"#007bff"},children:["RM ",e.malaysianEntryFee.toFixed(2)]}),(0,s.jsxs)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd",fontWeight:"bold",color:"#28a745"},children:["RM ",e.internationalEntryFee.toFixed(2)]}),(0,s.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd"},children:(0,s.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void Ve(e=>e.filter(e=>e.id!==t));var t},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"5px 10px",borderRadius:"3px",fontSize:"12px",cursor:"pointer"},children:"Remove"})})]},e.id))})]})})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"expectedParticipants",children:"Maximum Participant *"}),(0,s.jsx)("input",{type:"number",id:"expectedParticipants",name:"expectedParticipants",value:Ue.expectedParticipants,onChange:Fr,min:"1",required:!0})]}),(0,s.jsxs)("div",{className:"form-subsection",style:{marginTop:"20px",marginBottom:"20px",padding:"15px",backgroundColor:"#fff5f5",borderRadius:"8px",border:"1px solid #ffcdd2"},children:[(0,s.jsx)("h4",{style:{marginBottom:"15px",color:"#c62828"},children:"Emergency Plan"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"hospitalName",children:"Hospital Name *"}),(0,s.jsx)("input",{type:"text",id:"hospitalName",name:"hospitalName",value:Ue.hospitalName,onChange:Fr,placeholder:"Enter nearest hospital name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"hospitalDistance",children:"Distance to Hospital (km) *"}),(0,s.jsx)("input",{type:"text",id:"hospitalDistance",name:"hospitalDistance",value:Ue.hospitalDistance,onChange:Fr,placeholder:"e.g., 5 km",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"numberOfMedics",children:"Number of Medics *"}),(0,s.jsx)("input",{type:"number",id:"numberOfMedics",name:"numberOfMedics",value:Ue.numberOfMedics,onChange:Fr,placeholder:"0",min:"0",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Emergency Transport Type *"}),(0,s.jsxs)("div",{className:"radio-group",style:{marginTop:"8px"},children:[(0,s.jsxs)("div",{className:"radio-option",style:{marginBottom:"8px"},children:[(0,s.jsx)("input",{type:"radio",id:"admin-transportAmbulance",name:"emergencyTransportType",value:"ambulance",checked:"ambulance"===Ue.emergencyTransportType,onChange:Fr,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"admin-transportAmbulance",style:{display:"inline",fontWeight:"normal"},children:"Ambulance"})]}),(0,s.jsxs)("div",{className:"radio-option",children:[(0,s.jsx)("input",{type:"radio",id:"admin-transportStandby",name:"emergencyTransportType",value:"standby_vehicle",checked:"standby_vehicle"===Ue.emergencyTransportType,onChange:Fr,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"admin-transportStandby",style:{display:"inline",fontWeight:"normal"},children:"Standby/Support Emergency Vehicle"})]})]})]}),"ambulance"===Ue.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"emergencyTransportQuantity",children:"Number of Ambulances *"}),(0,s.jsx)("input",{type:"number",id:"emergencyTransportQuantity",name:"emergencyTransportQuantity",value:Ue.emergencyTransportQuantity,onChange:Fr,placeholder:"0",min:"1",required:!0})]}),"standby_vehicle"===Ue.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"standbyVehicleType",children:"Type of Vehicle *"}),(0,s.jsx)("input",{type:"text",id:"standbyVehicleType",name:"standbyVehicleType",value:Ue.standbyVehicleType,onChange:Fr,placeholder:"e.g., Van, SUV",required:!0}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Only SUV or van\u2013type vehicles are permitted. The distance to the hospital must not exceed 5 km. If the distance is more than 5 km, the use of an ambulance is mandatory."})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"eventSummary",children:"Brief Summary/Purpose of Event *"}),(0,s.jsx)("textarea",{id:"eventSummary",name:"eventSummary",value:Ue.eventSummary,onChange:Fr,rows:"5",maxLength:"300",required:!0}),(0,s.jsxs)("div",{className:"character-counter-wrapper",children:[(0,s.jsx)("small",{className:"form-note",children:"Maximum 300 characters. Do not include your factsheet."}),(0,s.jsxs)("small",{className:"character-counter ".concat(Ue.eventSummary.length>=300?"at-limit":Ue.eventSummary.length>=250?"near-limit":""),children:[Ue.eventSummary.length,"/300"]})]})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"NOTE : SCORING"}),(0,s.jsxs)("div",{className:"scoring-reminder",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"*Scoring Format"})," to be adopted for each match:"]}),(0,s.jsxs)("ul",{className:"scoring-list",children:[(0,s.jsx)("li",{children:"Traditional scoring up to 11 pts or more;"}),(0,s.jsx)("li",{children:"Rally Scoring minimum up to 21 pts is acceptable for the first round-robins only."})]})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Tournament Software"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Tournament Software Being Used * (Select all that apply)"}),(0,s.jsxs)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"10px",backgroundColor:"#f9f9f9"},children:[j.filter(e=>"approved"===e.status).map(e=>(0,s.jsx)("div",{style:{padding:"8px",marginBottom:"5px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:e.softwareName,checked:Ue.tournamentSoftware&&Ue.tournamentSoftware.includes(e.softwareName),onChange:Fr,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),e.softwareName]})},e._id)),0===j.filter(e=>"approved"===e.status).length&&(0,s.jsx)("div",{style:{padding:"10px",color:"#666",fontStyle:"italic"},children:'No approved tournament software available. Please select "Other" below.'}),(0,s.jsx)("div",{style:{padding:"8px",borderTop:"1px solid #ddd",marginTop:"5px",paddingTop:"10px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:"Other",checked:Ue.tournamentSoftware&&Ue.tournamentSoftware.includes("Other"),onChange:Fr,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),"Other (Please specify)"]})})]})]}),Ue.tournamentSoftware&&Ue.tournamentSoftware.includes("Other")&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"tournamentSoftwareOther",children:"Please specify the software name *"}),(0,s.jsx)("input",{type:"text",id:"tournamentSoftwareOther",name:"tournamentSoftwareOther",value:Ue.tournamentSoftwareOther,onChange:Fr,placeholder:"Enter software name",required:!0})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Tournament Categories & Skill Ratings"}),(0,s.jsxs)("div",{className:"skill-ratings-info",children:[(0,s.jsx)("h4",{children:"Skill Rating Guidelines:"}),(0,s.jsxs)("ul",{className:"skill-ratings",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Intermediate:"})," < 3.5"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Advanced:"})," < 4.5"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Elite:"})," >= 4.5"]})]}),(0,s.jsxs)("p",{className:"skill-note",children:[(0,s.jsx)("strong",{children:"Note:"})," Players with lower ratings can play in any higher rated categories but players of higher ratings cannot participate in the lower rated categories."]})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Important Remarks"}),(0,s.jsx)("div",{className:"remarks-info",children:(0,s.jsxs)("ul",{className:"remarks-list",children:[(0,s.jsx)("li",{children:"Endorsement logos (state, national & PJS/KBS) must be displayed on your event banners/at the venue etc."}),(0,s.jsx)("li",{children:"Traditional scoring up to 11 pts or more; Rally Scoring (minimum up to 21 pts) is acceptable for the first round-robins only."})]})})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Mandatory Compliance"}),(0,s.jsx)("div",{className:"remarks-info",children:(0,s.jsxs)("ul",{className:"remarks-list",children:[(0,s.jsx)("li",{children:"Endorsement logos (state, national & PJS/KBS) must be displayed on your event banners/at the venue etc."}),(0,s.jsx)("li",{children:"Traditional scoring up to 11 pts or more; Rally Scoring (minimum up to 21 pts) is acceptable for the first round-robins and novice only."}),(0,s.jsx)("li",{children:"The fee for each category is capped at RM200 per Malaysian player and must not be exceeded."})]})})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Consent & Agreement"}),(0,s.jsxs)("div",{className:"consent-section",children:[(0,s.jsx)("div",{className:"consent-item",children:(0,s.jsxs)("label",{className:"checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"dataConsent",checked:Ue.dataConsent,onChange:Fr,required:!0}),(0,s.jsx)("span",{className:"checkmark"}),"I consent to the collection, use, and processing of my personal data by Malaysia Pickleball Association (MPA) for the purposes of tournament organization, administration, and related communications. I understand that my data will be handled in accordance with applicable data protection laws."]})}),(0,s.jsx)("div",{className:"consent-item",children:(0,s.jsxs)("label",{className:"checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"termsConsent",checked:Ue.termsConsent,onChange:Fr,required:!0}),(0,s.jsx)("span",{className:"checkmark"}),"I have read, understood, and agree to abide by the Terms and Conditions set forth by Malaysia Pickleball Association (MPA) for tournament participation and organization. I acknowledge that failure to comply with these terms may result in disqualification or other appropriate actions."]})})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[Ke&&(0,s.jsx)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:Ke}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(Ue.dataConsent&&Ue.termsConsent&&!Ge?"":"disabled"),disabled:!Ue.dataConsent||!Ue.termsConsent||Ge,children:Ge?"Creating Tournament...":"Create Tournament (Auto-Approved)"})]})]})})]}),"edit-tournament"===H&&(0,s.jsx)("div",{className:"edit-tournament-view",children:Jn?(0,s.jsxs)("div",{className:"edit-tournament-form-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsxs)("h2",{children:["Edit Tournament: ",Jn.eventTitle]}),(0,s.jsxs)("p",{className:"dashboard-subtitle",children:["Tournament ID: ",Jn.applicationId||Jn.id," \u2022 Modify tournament details below"]})]}),rr?(0,s.jsxs)("div",{className:"submission-success",children:[(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("h3",{children:"Tournament Updated Successfully!"}),(0,s.jsxs)("p",{children:['The tournament "',Jn.eventTitle,'" has been updated.']}),(0,s.jsx)("p",{children:"Changes have been saved and applied to the system."})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"button",className:"home-btn",onClick:()=>{qr()},children:"Back to Tournament List"}),(0,s.jsx)("button",{type:"button",className:"submit-btn",onClick:()=>{ar(!1)},children:"Edit Another Tournament"})]})]}):Xn.eventTitle||Xn.organiserName?(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),er(!0),nr("");try{var t,n,r,a,i,s,o,l,c,d,u,g,x,b,y,v;const j={organiserName:(null===(t=Xn.organiserName)||void 0===t?void 0:t.trim())||"",registrationNo:(null===(n=Xn.registrationNo)||void 0===n?void 0:n.trim())||"",telContact:(null===(r=Xn.telContact)||void 0===r?void 0:r.trim())||"",personInCharge:(null===(a=Xn.personInCharge)||void 0===a?void 0:a.trim())||"",email:(null===(i=Xn.email)||void 0===i?void 0:i.trim())||"",organisingPartner:(null===(s=Xn.organisingPartner)||void 0===s?void 0:s.trim())||"",eventTitle:(null===(o=Xn.eventTitle)||void 0===o?void 0:o.trim())||"",eventStartDate:(null===(l=Xn.eventStartDate)||void 0===l?void 0:l.trim())||"",eventEndDate:(null===(c=Xn.eventEndDate)||void 0===c?void 0:c.trim())||"",state:(null===(d=Xn.state)||void 0===d?void 0:d.trim())||"",city:(null===(u=Xn.city)||void 0===u?void 0:u.trim())||"",venue:(null===(g=Xn.venue)||void 0===g?void 0:g.trim())||"",classification:(null===(x=Xn.classification)||void 0===x?void 0:x.trim())||"",expectedParticipants:Xn.expectedParticipants&&parseInt(Xn.expectedParticipants)||0,tournamentSoftware:Xn.tournamentSoftware||[],tournamentSoftwareOther:(null===(b=Xn.tournamentSoftwareOther)||void 0===b?void 0:b.trim())||"",eventSummary:(null===(y=Xn.eventSummary)||void 0===y?void 0:y.trim())||"",scoringFormat:(null===(v=Xn.scoringFormat)||void 0===v?void 0:v.trim())||"traditional",dataConsent:Xn.dataConsent,termsConsent:Xn.termsConsent},S={organiserName:"Organizer Name",eventTitle:"Event Title",eventStartDate:"Start Date",venue:"Venue",state:"State",city:"City",classification:"Classification",telContact:"Contact Number",email:"Email",personInCharge:"Person in Charge"},N=[];if(Object.keys(S).forEach(e=>{j[e]&&""!==j[e].toString().trim()||N.push(S[e])}),N.length>0)throw new Error("Please fill in all required fields: ".concat(N.join(", ")));if(!j.tournamentSoftware||0===j.tournamentSoftware.length)throw new Error("Please select at least one tournament software.");if(j.tournamentSoftware.includes("Other")&&!j.tournamentSoftwareOther.trim())throw new Error("Please specify the tournament software name.");const k=Jn.applicationId||Jn.id;if(!k)throw new Error("Tournament ID not found. The tournament may have been deleted.");if(!p.find(e=>e.applicationId===k||e.id===k))throw new Error("Tournament no longer exists. It may have been deleted by another admin.");console.log("Updating tournament with ID:",k,"Data:",j);const C=h(h({},j),{},{applicationId:k,id:k,isUpdate:!0});try{if(f.updateTournamentApplication&&"function"===typeof f.updateTournamentApplication){console.log("Using dedicated updateTournamentApplication API");const e=await f.updateTournamentApplication(k,C);console.log("Tournament updated via dedicated API:",e)}else f.updateApplicationStatus&&"function"===typeof f.updateApplicationStatus?(console.log("Using updateApplicationStatus with additional tournament data"),await f.updateApplicationStatus(k,Jn.status||"Approved","Tournament details updated by admin",C)):(console.log("No update API found - will update local state only"),console.warn("Changes may not persist after page refresh"));const e=p.map(e=>e.applicationId===k||e.id===k?h(h(h({},e),j),{},{lastModified:(new Date).toISOString()}):e);m(e)}catch(w){console.error("API update failed:",w);const e=p.map(e=>e.applicationId===k||e.id===k?h(h(h({},e),j),{},{lastModified:(new Date).toISOString()}):e);m(e),console.warn("Tournament updated locally but may not be persisted to server")}const A=[],_={eventTitle:"Tournament Name",organiserName:"Organizer Name",venue:"Venue",eventStartDate:"Start Date",eventEndDate:"End Date",state:"State",city:"City",classification:"Classification",expectedParticipants:"Expected Participants",tournamentSoftware:"Tournament Software",tournamentSoftwareOther:"Tournament Software (Other)",telContact:"Contact Number",email:"Email",personInCharge:"Person in Charge",eventSummary:"Event Summary"};Object.keys(_).forEach(t=>{const n=Jn[t],r=j[t];if("eventStartDate"===t||"eventEndDate"===t){const e=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(r,"-").concat(a)},a=e(n),i=e(r);a!==i&&""!==i&&A.push("".concat(_[t],': "').concat(a,'" \u2192 "').concat(i,'"'))}else if("tournamentSoftware"===t){let a=[],i=[];if(Array.isArray(n))a=n;else if("string"===typeof n&&n)try{a=JSON.parse(n)}catch(e){a=[n]}Array.isArray(r)&&(i=r);const s=a.sort().join(", "),o=i.sort().join(", ");s!==o&&""!==o&&A.push("".concat(_[t],': "').concat(s,'" \u2192 "').concat(o,'"'))}else{const e=null!=n?String(n):"",a=null!=r?String(r):"";e!==a&&""!==a&&null!=r&&A.push("".concat(_[t],': "').concat(n,'" \u2192 "').concat(r,'"'))}});const P=A.length>0?"Admin edited tournament: ".concat(A.map(e=>e.split(":")[0]).join(", ")," updated"):"Admin edited tournament: No field changes detected";vr(k,Xn.eventTitle,Xn.organiserName,P,{venue:Xn.venue,eventDate:Xn.eventStartDate,classification:Xn.classification,updateType:"EDIT",originalTournamentId:k,changesCount:A.length,changeDetails:A});const L=["\u2705 TOURNAMENT EDIT SUCCESSFUL","","Tournament: ".concat(Xn.eventTitle),"Tournament ID: ".concat(k," (SAME ID - NO NEW TOURNAMENT CREATED)"),"Status: Successfully Updated","","\ud83d\udcdd CHANGES MADE:",A.length>0?A.join("\n"):"No field changes detected","","\ud83d\udd14 EMAIL NOTIFICATION:","An update confirmation email has been sent to ".concat(Xn.email),"Email contains tournament name, ID, and all changes made.","","Changes are now active in the system."].join("\n");alert(L),ar(!0),setTimeout(()=>{dr(),ur()},1e3)}catch(Q){console.error("Tournament update error:",Q),nr(Q.message||"Failed to update tournament. Please try again.")}finally{er(!1)}},className:"tournament-form",children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Organiser Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-organiserName",children:"Organiser Name *"}),(0,s.jsx)("input",{type:"text",id:"edit-organiserName",name:"organiserName",value:Xn.organiserName,onChange:Or,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-registrationNo",children:"PJS/ROS/Company Registration No. *"}),(0,s.jsx)("input",{type:"text",id:"edit-registrationNo",name:"registrationNo",value:Xn.registrationNo,onChange:Or,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-telContact",children:"Tel. Contact *"}),(0,s.jsx)("input",{type:"tel",id:"edit-telContact",name:"telContact",value:Xn.telContact,onChange:Or,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-personInCharge",children:"Person in Charge *"}),(0,s.jsx)("input",{type:"text",id:"edit-personInCharge",name:"personInCharge",value:Xn.personInCharge,onChange:Or,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"edit-email",name:"email",value:Xn.email,onChange:Or,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-organisingPartner",children:"Organising Partner (if applicable)"}),(0,s.jsx)("input",{type:"text",id:"edit-organisingPartner",name:"organisingPartner",value:Xn.organisingPartner,onChange:Or})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Event Details"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventTitle",children:"Title of Event *"}),(0,s.jsx)("input",{type:"text",id:"edit-eventTitle",name:"eventTitle",value:Xn.eventTitle,onChange:Or,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Note: Should Not Include the National/State Title (e.g. Malaysia Open/Closed, State Open/Closed etc)"})]}),(0,s.jsxs)("div",{className:"form-group date-input-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventStartDate",children:"Event Start Date *"}),(0,s.jsxs)("div",{className:"date-input-wrapper",children:[(0,s.jsx)("input",{type:"date",id:"edit-eventStartDate",name:"eventStartDate",value:Xn.eventStartDate,onChange:Br,className:"date-picker-hidden",required:!0}),(0,s.jsx)("input",{type:"text",className:"date-display-input",value:Xn.eventStartDateFormatted,placeholder:"Click to select date",readOnly:!0,onClick:()=>document.getElementById("edit-eventStartDate").showPicker()})]})]}),(0,s.jsxs)("div",{className:"form-group date-input-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventEndDate",children:"Event End Date *"}),(0,s.jsxs)("div",{className:"date-input-wrapper",children:[(0,s.jsx)("input",{type:"date",id:"edit-eventEndDate",name:"eventEndDate",value:Xn.eventEndDate,onChange:Br,min:Xn.eventStartDate,className:"date-picker-hidden",required:!0}),(0,s.jsx)("input",{type:"text",className:"date-display-input",value:Xn.eventEndDateFormatted,placeholder:"Click to select date",readOnly:!0,onClick:()=>document.getElementById("edit-eventEndDate").showPicker()})]}),(0,s.jsx)("small",{className:"form-note",children:"End date must be on or after start date"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Location *"}),(0,s.jsxs)("div",{className:"location-row",children:[(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"edit-state",children:"State"}),(0,s.jsxs)("select",{id:"edit-state",name:"state",value:Xn.state,onChange:e=>{const t=e.target.value;$n(e=>h(h({},e),{},{state:t,city:""}))},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Object.keys(qe).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"edit-city",children:"City"}),(0,s.jsxs)("select",{id:"edit-city",name:"city",value:Xn.city,onChange:Or,required:!0,disabled:!Xn.state,children:[(0,s.jsx)("option",{value:"",children:"Select City"}),Xn.state&&qe[Xn.state].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),!Xn.state&&(0,s.jsx)("small",{className:"form-note",children:"Please select a state first"})]})]}),(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"edit-venue",children:"Venue"}),(0,s.jsx)("input",{type:"text",id:"edit-venue",name:"venue",value:Xn.venue,onChange:Or,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Note: The venue must be fully covered and is required to hold a valid government occupancy permit."})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-classification",children:"Level of Event *"}),(0,s.jsxs)("select",{id:"edit-classification",name:"classification",value:Xn.classification,onChange:Or,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Level/Type"}),(0,s.jsx)("option",{value:"District",children:"District"}),(0,s.jsx)("option",{value:"Divisional",children:"Divisional"}),(0,s.jsx)("option",{value:"State",children:"State"}),(0,s.jsx)("option",{value:"National",children:"National"}),(0,s.jsx)("option",{value:"International",children:"International"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-expectedParticipants",children:"Maximum Participant *"}),(0,s.jsx)("input",{type:"number",id:"edit-expectedParticipants",name:"expectedParticipants",value:Xn.expectedParticipants,onChange:Or,min:"1",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Tournament Software Being Used * (Select all that apply)"}),(0,s.jsxs)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"10px",backgroundColor:"#f9f9f9"},children:[j.filter(e=>"approved"===e.status).map(e=>(0,s.jsx)("div",{style:{padding:"8px",marginBottom:"5px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:e.softwareName,checked:Xn.tournamentSoftware&&Xn.tournamentSoftware.includes(e.softwareName),onChange:Or,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),e.softwareName]})},e._id)),(0,s.jsx)("div",{style:{padding:"8px",borderTop:"1px solid #ddd",marginTop:"5px",paddingTop:"10px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:"Other",checked:Xn.tournamentSoftware&&Xn.tournamentSoftware.includes("Other"),onChange:Or,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),"Other (Please specify)"]})})]})]}),Xn.tournamentSoftware&&Xn.tournamentSoftware.includes("Other")&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-tournamentSoftwareOther",children:"Please specify the software name *"}),(0,s.jsx)("input",{type:"text",id:"edit-tournamentSoftwareOther",name:"tournamentSoftwareOther",value:Xn.tournamentSoftwareOther,onChange:Or,placeholder:"Enter software name",required:!0})]}),(0,s.jsxs)("div",{className:"form-subsection",style:{marginTop:"20px",marginBottom:"20px",padding:"15px",backgroundColor:"#fff5f5",borderRadius:"8px",border:"1px solid #ffcdd2"},children:[(0,s.jsx)("h4",{style:{marginBottom:"15px",color:"#c62828"},children:"Emergency Plan"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-hospitalName",children:"Hospital Name *"}),(0,s.jsx)("input",{type:"text",id:"edit-hospitalName",name:"hospitalName",value:Xn.hospitalName||"",onChange:Or,placeholder:"Enter nearest hospital name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-hospitalDistance",children:"Distance to Hospital (km) *"}),(0,s.jsx)("input",{type:"text",id:"edit-hospitalDistance",name:"hospitalDistance",value:Xn.hospitalDistance||"",onChange:Or,placeholder:"e.g., 5 km",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-numberOfMedics",children:"Number of Medics *"}),(0,s.jsx)("input",{type:"number",id:"edit-numberOfMedics",name:"numberOfMedics",value:Xn.numberOfMedics||"",onChange:Or,placeholder:"0",min:"0",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Emergency Transport Type *"}),(0,s.jsxs)("div",{className:"radio-group",style:{marginTop:"8px"},children:[(0,s.jsxs)("div",{className:"radio-option",style:{marginBottom:"8px"},children:[(0,s.jsx)("input",{type:"radio",id:"edit-admin-transportAmbulance",name:"emergencyTransportType",value:"ambulance",checked:"ambulance"===Xn.emergencyTransportType,onChange:Or,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"edit-admin-transportAmbulance",style:{display:"inline",fontWeight:"normal"},children:"Ambulance"})]}),(0,s.jsxs)("div",{className:"radio-option",children:[(0,s.jsx)("input",{type:"radio",id:"edit-admin-transportStandby",name:"emergencyTransportType",value:"standby_vehicle",checked:"standby_vehicle"===Xn.emergencyTransportType,onChange:Or,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"edit-admin-transportStandby",style:{display:"inline",fontWeight:"normal"},children:"Standby/Support Emergency Vehicle"})]})]})]}),"ambulance"===Xn.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-emergencyTransportQuantity",children:"Number of Ambulances *"}),(0,s.jsx)("input",{type:"number",id:"edit-emergencyTransportQuantity",name:"emergencyTransportQuantity",value:Xn.emergencyTransportQuantity||"",onChange:Or,placeholder:"0",min:"1",required:!0})]}),"standby_vehicle"===Xn.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-standbyVehicleType",children:"Type of Vehicle *"}),(0,s.jsx)("input",{type:"text",id:"edit-standbyVehicleType",name:"standbyVehicleType",value:Xn.standbyVehicleType||"",onChange:Or,placeholder:"e.g., Van, SUV",required:!0}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Only SUV or van\u2013type vehicles are permitted. The distance to the hospital must not exceed 5 km. If the distance is more than 5 km, the use of an ambulance is mandatory."})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventSummary",children:"Brief Summary/Purpose of Event *"}),(0,s.jsx)("textarea",{id:"edit-eventSummary",name:"eventSummary",value:Xn.eventSummary,onChange:Or,rows:"5",maxLength:"300",required:!0}),(0,s.jsxs)("div",{className:"character-counter-wrapper",children:[(0,s.jsx)("small",{className:"form-note",children:"Maximum 300 characters. Do not include your factsheet."}),(0,s.jsxs)("small",{className:"character-counter ".concat(Xn.eventSummary.length>=300?"at-limit":Xn.eventSummary.length>=250?"near-limit":""),children:[Xn.eventSummary.length,"/300"]})]})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[tr&&(0,s.jsx)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:tr}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,s.jsx)("button",{type:"button",className:"cancel-btn",onClick:qr,style:{backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Cancel"}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(Zn?"disabled":""),disabled:Zn,children:Zn?"Updating Tournament...":"Update Tournament"})]})]})]}):(0,s.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#6c757d"},children:(0,s.jsx)("p",{children:"Loading tournament data..."})})]}):(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Edit Tournament"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Select a tournament to edit from the list below"})]}),(0,s.jsxs)("div",{className:"tournaments-list-card",style:{backgroundColor:"white",border:"1px solid #e9ecef",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",margin:"20px 0",overflow:"hidden"},children:[(0,s.jsxs)("div",{className:"tournaments-list-header",style:{padding:"20px",borderBottom:"1px solid #e9ecef",backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("h3",{style:{margin:"0",color:"#2c3e50",fontSize:"18px"},children:"All Tournaments"}),(0,s.jsxs)("p",{style:{margin:"5px 0 0 0",color:"#6c757d",fontSize:"14px"},children:[p.length," tournament",1!==p.length?"s":""," available for editing"]})]}),(0,s.jsx)("div",{className:"tournaments-list-body",style:{padding:"20px"},children:0===p.length?(0,s.jsxs)("div",{className:"no-tournaments-edit",style:{textAlign:"center",padding:"40px",color:"#6c757d"},children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"500"},children:"No tournaments available"}),(0,s.jsx)("small",{style:{fontSize:"14px"},children:"Create tournaments first to be able to edit them"})]}):(0,s.jsx)("div",{className:"tournaments-list-container",style:{maxHeight:"500px",overflowY:"auto",overflowX:"hidden"},children:(0,s.jsx)("div",{className:"tournaments-table-wrapper",children:(0,s.jsxs)("table",{className:"tournaments-edit-table",style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #e9ecef",color:"#495057",fontWeight:"600"},children:"No."}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #e9ecef",color:"#495057",fontWeight:"600"},children:"Tournament Name"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #e9ecef",color:"#495057",fontWeight:"600"},children:"Tournament ID"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #e9ecef",color:"#495057",fontWeight:"600"},children:"Status"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #e9ecef",color:"#495057",fontWeight:"600"},children:"Event Date"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #e9ecef",color:"#495057",fontWeight:"600"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:p.map((e,t)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #e9ecef",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.target.closest("tr").style.backgroundColor="#f8f9fa"},onMouseLeave:e=>{e.target.closest("tr").style.backgroundColor="transparent"},children:[(0,s.jsx)("td",{style:{padding:"12px",color:"#6c757d"},children:t+1}),(0,s.jsx)("td",{style:{padding:"12px",fontWeight:"500",color:"#2c3e50"},children:e.eventTitle||"Untitled Tournament"}),(0,s.jsx)("td",{style:{padding:"12px",fontFamily:"monospace",color:"#007bff",fontSize:"13px"},children:e.applicationId||e.id}),(0,s.jsx)("td",{style:{padding:"12px"},children:(0,s.jsx)("span",{style:{backgroundColor:"Approved"===e.status?"#28a745":"Rejected"===e.status?"#dc3545":"Under Review"===e.status?"#007bff":"#ffc107",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"600"},children:e.status})}),(0,s.jsx)("td",{style:{padding:"12px",color:"#495057"},children:e.eventStartDate?new Date(e.eventStartDate).toLocaleDateString("en-MY",{year:"numeric",month:"short",day:"numeric"}):"Not specified"}),(0,s.jsx)("td",{style:{padding:"12px",textAlign:"center"},children:(0,s.jsx)("button",{style:{backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"6px",padding:"6px 12px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#0056b3",e.target.style.transform="translateY(-1px)"},onMouseLeave:e=>{e.target.style.backgroundColor="#007bff",e.target.style.transform="translateY(0)"},onClick:()=>{(e=>{var t;console.log("Editing tournament data:",e);const n=e.eventStartDate||e.event_start_date||e.startDate||"",r=e.eventEndDate||e.event_end_date||e.endDate||"";console.log("Raw start date:",n),console.log("Raw end date:",r),console.log("Formatted start date for input:",Mr(n)),console.log("Formatted end date for input:",Mr(r));let a=[];const i=e.tournamentSoftware||e.tournament_software;if(i)if(Array.isArray(i))a=i;else if("string"===typeof i)try{a=JSON.parse(i)}catch(To){a=[i]}Qn(e),$n({organiserName:e.organiserName||e.organizer||"",registrationNo:e.registrationNo||e.registration_no||"",telContact:e.telContact||e.tel_contact||e.phone||"",personInCharge:e.personInCharge||e.person_in_charge||e.contact_person||e.contactPerson||e.applicantFullName||e.fullName||e.organizer_name||e.organizerName||"",email:e.email||e.email_address||e.contactEmail||e.organizer_email||e.organizerEmail||e.contact_email||"",organisingPartner:e.organisingPartner||e.organizing_partner||"",eventTitle:e.eventTitle||e.event_title||e.title||"",eventStartDate:Mr(e.eventStartDate||e.event_start_date||e.startDate||""),eventEndDate:Mr(e.eventEndDate||e.event_end_date||e.endDate||""),eventStartDateFormatted:Dr(e.eventStartDate||e.event_start_date||e.startDate||""),eventEndDateFormatted:Dr(e.eventEndDate||e.event_end_date||e.endDate||""),state:e.state||e.location_state||"",city:e.city||e.location_city||"",venue:e.venue||e.event_venue||"",classification:e.classification||e.event_type||e.level||"",expectedParticipants:(null===(t=e.expectedParticipants||e.expected_participants||e.participants||"")||void 0===t?void 0:t.toString())||"",tournamentSoftware:a,tournamentSoftwareOther:e.tournamentSoftwareOther||e.tournament_software_other||"",eventSummary:e.eventSummary||e.event_summary||e.summary||e.description||"",scoringFormat:e.scoringFormat||e.scoring_format||"traditional",dataConsent:!0,termsConsent:!0}),nr(""),ar(!1)})(e)},children:"Edit"})})]},e.applicationId||e.id))})]})})})})]})]})}),"analytics"===H&&(()=>{const e=p.length,t=p.filter(e=>"Approved"===e.status).length,n=p.filter(e=>"Pending Review"===e.status).length,r=p.filter(e=>"Rejected"===e.status).length,a=e>0?(t/e*100).toFixed(1):0,i=p.reduce((e,t)=>e+parseInt(t.expectedParticipants||0),0);return(0,s.jsxs)("div",{style:{padding:"24px",backgroundColor:"#f8f9fa",minHeight:"100vh"},children:[(0,s.jsxs)("div",{style:{marginBottom:"32px",backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderLeft:"4px solid #2563eb"},children:[(0,s.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},children:"Analytics Dashboard"}),(0,s.jsx)("p",{style:{fontSize:"16px",color:"#6b7280",margin:"0"},children:"Comprehensive insights and statistics for tournament applications"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",transition:"transform 0.2s ease, box-shadow 0.2s ease"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Total Applications"}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:e})]}),(0,s.jsx)("div",{style:{backgroundColor:"#dbeafe",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#1d4ed8"},children:"+12% month"})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#2563eb",width:"75%",borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Approval Rate"}),(0,s.jsxs)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:[a,"%"]})]}),(0,s.jsx)("div",{style:{backgroundColor:"#dcfce7",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#166534"},children:"+5% month"})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#16a34a",width:"".concat(a,"%"),borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Avg. Processing Time"}),(0,s.jsxs)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:["2.3 ",(0,s.jsx)("span",{style:{fontSize:"16px",color:"#6b7280"},children:"days"})]})]}),(0,s.jsx)("div",{style:{backgroundColor:"#fef3c7",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#92400e"},children:"-0.5 days"})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#f59e0b",width:"60%",borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Expected Participants"}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:i.toLocaleString()})]}),(0,s.jsx)("div",{style:{backgroundColor:"#fce7f3",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#be185d"},children:"+18% month"})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#ec4899",width:"85%",borderRadius:"2px"}})})]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px",marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"},children:"Application Status Distribution"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#16a34a"}}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Approved"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:t}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#6b7280"},children:["(",(t/Math.max(e,1)*100).toFixed(0),"%)"]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#f59e0b"}}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Pending Review"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:n}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#6b7280"},children:["(",(n/Math.max(e,1)*100).toFixed(0),"%)"]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#dc2626"}}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Rejected"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:r}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#6b7280"},children:["(",(r/Math.max(e,1)*100).toFixed(0),"%)"]})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",height:"8px",backgroundColor:"#f3f4f6",borderRadius:"4px",overflow:"hidden",display:"flex"},children:[(0,s.jsx)("div",{style:{backgroundColor:"#16a34a",width:"".concat(t/Math.max(e,1)*100,"%"),height:"100%"}}),(0,s.jsx)("div",{style:{backgroundColor:"#f59e0b",width:"".concat(n/Math.max(e,1)*100,"%"),height:"100%"}}),(0,s.jsx)("div",{style:{backgroundColor:"#dc2626",width:"".concat(r/Math.max(e,1)*100,"%"),height:"100%"}})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"},children:"Application Trends"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,s.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:"4px solid #2563eb"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:"This Month"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[p.filter(e=>{const t=new Date(e.dateApplied),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}).length," new applications submitted"]})]}),(0,s.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:"4px solid #16a34a"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:"Processing Performance"}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Average review time improved by 0.5 days"})]}),(0,s.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:"Peak Season"}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Tournament season approaching - expect 25% increase"})]})]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"48px",marginBottom:"32px",backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderLeft:"4px solid #7c3aed"},children:[(0,s.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},children:"Assessment Analytics"}),(0,s.jsx)("p",{style:{fontSize:"16px",color:"#6b7280",margin:"0"},children:"Performance insights and statistics for assessment submissions"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Total Submissions"}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:vt.length})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#ede9fe",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#7c3aed"},children:[vt.filter(e=>{const t=new Date(e.submittedAt||e.batchDate),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}).length," this month"]})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#7c3aed",width:"70%",borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Average Score"}),(0,s.jsxs)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:[vt.length>0?Math.round(vt.reduce((e,t)=>e+(t.score||0),0)/vt.length):0,"%"]})]}),(0,s.jsx)("div",{style:{backgroundColor:"#dcfce7",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#166534"},children:"+3% avg"})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#16a34a",width:"".concat(vt.length>0?Math.round(vt.reduce((e,t)=>e+(t.score||0),0)/vt.length):0,"%"),borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Pass Rate (\u226570%)"}),(0,s.jsxs)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:[vt.length>0?Math.round(vt.filter(e=>(e.score||0)>=70).length/vt.length*100):0,"%"]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#dbeafe",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#1d4ed8"},children:[vt.filter(e=>(e.score||0)>=70).length," passed"]})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#2563eb",width:"".concat(vt.length>0?Math.round(vt.filter(e=>(e.score||0)>=70).length/vt.length*100):0,"%"),borderRadius:"2px"}})})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 8px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Unique Participants"}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#1f2937",lineHeight:"1"},children:new Set(vt.map(e=>e.participantName||"Unknown")).size})]}),(0,s.jsx)("div",{style:{backgroundColor:"#fef3c7",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"#92400e"},children:"Active users"})]}),(0,s.jsx)("div",{style:{height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{height:"100%",backgroundColor:"#f59e0b",width:"65%",borderRadius:"2px"}})})]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px",marginBottom:"32px"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"},children:"Score Distribution"}),(()=>{const e=vt.filter(e=>(e.score||0)>=80).length,t=vt.filter(e=>(e.score||0)>=70&&(e.score||0)<80).length,n=vt.filter(e=>(e.score||0)<70).length,r=Math.max(vt.length,1);return(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#16a34a"}}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Excellent (80-100%)"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:e}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#6b7280"},children:["(",Math.round(e/r*100),"%)"]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#2563eb"}}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Good (70-79%)"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:t}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#6b7280"},children:["(",Math.round(t/r*100),"%)"]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:"#dc2626"}}),(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Needs Improvement (<70%)"})]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:n}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#6b7280"},children:["(",Math.round(n/r*100),"%)"]})]})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",height:"8px",backgroundColor:"#f3f4f6",borderRadius:"4px",overflow:"hidden",display:"flex"},children:[(0,s.jsx)("div",{style:{backgroundColor:"#16a34a",width:"".concat(e/r*100,"%"),height:"100%"}}),(0,s.jsx)("div",{style:{backgroundColor:"#2563eb",width:"".concat(t/r*100,"%"),height:"100%"}}),(0,s.jsx)("div",{style:{backgroundColor:"#dc2626",width:"".concat(n/r*100,"%"),height:"100%"}})]})]})})()]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb"},children:[(0,s.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#1f2937",margin:"0 0 20px 0"},children:"Assessment Activity"}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,s.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:"4px solid #7c3aed"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:"Recent Activity"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[vt.filter(e=>{const t=new Date(e.submittedAt||e.batchDate),n=new Date;return n.setDate(n.getDate()-1),t>=n}).length," assessments completed in last 24 hours"]})]}),(0,s.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:"4px solid #16a34a"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:"Performance Trend"}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:vt.filter(e=>(e.score||0)>=70).length>vt.length/2?"Above average performance maintained":"Performance improvement needed"})]}),(0,s.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:"4px solid #f59e0b"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:"Form Codes Active"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:[new Set(vt.map(e=>e.formCode)).size," unique assessment forms in use"]})]})]})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"24px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid #e5e7eb",textAlign:"center"},children:[(0,s.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:"0 0 8px 0"},children:"System Overview"}),(0,s.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0",lineHeight:"1.5"},children:["Dashboard last updated: ",(new Date).toLocaleDateString()," at ",(new Date).toLocaleTimeString()," | Total active tournaments tracked: ",p.filter(e=>"Approved"===e.status).length," | Total assessments completed: ",vt.length," | System uptime: 99.9%"]})]})]})})(),"registered-organizations"===H&&(0,s.jsxs)("div",{className:"registered-organizations-view",children:[(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",color:"white",boxShadow:"0 4px 20px rgba(30, 58, 95, 0.3)"},children:[(0,s.jsx)("h2",{style:{margin:0,fontSize:"1.75rem",fontWeight:"700",marginBottom:"0.5rem"},children:"Registered Organizations"}),(0,s.jsx)("p",{style:{margin:0,opacity:.9,fontSize:"1rem"},children:"Manage and monitor all registered tournament organizers"})]}),0===v.length?(0,s.jsxs)("div",{style:{backgroundColor:"#f9fafb",border:"2px dashed #d1d5db",borderRadius:"12px",padding:"3rem 2rem",textAlign:"center",margin:"2rem 0"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"No Organizations Found"}),(0,s.jsx)("p",{style:{fontSize:"1rem",color:"#6b7280",margin:"0"},children:"Organizations will appear here once they complete the registration process."})]}):(0,s.jsx)("div",{className:"org-cards-grid",style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fill, minmax(420px, 1fr))"},children:v.map((e,t)=>(0,s.jsxs)("div",{className:"org-card",style:{backgroundColor:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.08)",transition:"all 0.3s ease",cursor:"pointer",border:"1px solid #e5e7eb"},onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)",e.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 4px 15px rgba(0,0,0,0.08)",e.currentTarget.style.transform="translateY(0px)"},children:[(0,s.jsxs)("div",{style:{background:"suspended"===e.status?"linear-gradient(135deg, #fecaca 0%, #fca5a5 100%)":"linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%)",padding:"1.25rem 1.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"700",color:"suspended"===e.status?"#991b1b":"white",margin:"0",lineHeight:"1.3"},children:e.organizationName}),(0,s.jsxs)("p",{style:{fontSize:"0.8rem",color:"suspended"===e.status?"#b91c1c":"rgba(255,255,255,0.8)",margin:"0.125rem 0 0 0",fontWeight:"500"},children:["ID: ",e.organizationId]})]}),(0,s.jsx)("span",{style:{backgroundColor:"suspended"===e.status?"#dc2626":"#10b981",color:"white",padding:"0.375rem 0.875rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.05em",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:"suspended"===e.status?"Suspended":"Active"})]}),(0,s.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.25rem",marginBottom:"1.25rem"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"1rem",borderRadius:"10px",border:"1px solid #e2e8f0"},children:[(0,s.jsx)("p",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 0.5rem 0"},children:"Applicant"}),(0,s.jsx)("p",{style:{fontSize:"0.9rem",color:"#1e293b",margin:"0",fontWeight:"600"},children:e.applicantFullName})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"1rem",borderRadius:"10px",border:"1px solid #e2e8f0"},children:[(0,s.jsx)("p",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 0.5rem 0"},children:"Documents"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:e.documents&&e.documents.length>0?"#16a34a":"#ea580c",fontWeight:"600",backgroundColor:e.documents&&e.documents.length>0?"#dcfce7":"#ffedd5",padding:"0.25rem 0.75rem",borderRadius:"6px",display:"inline-block"},children:e.documents&&e.documents.length>0?"".concat(e.documents.length," Files"):"No Files"})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"1rem",borderRadius:"10px",border:"1px solid #e2e8f0",marginBottom:"1.25rem"},children:[(0,s.jsx)("p",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.05em",margin:"0 0 0.5rem 0"},children:"Contact Email"}),(0,s.jsx)("p",{style:{fontSize:"0.9rem",color:"#1e293b",margin:"0",fontWeight:"500"},children:e.email})]}),(0,s.jsxs)("div",{className:"org-card-actions",style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,s.jsx)("button",{className:"org-btn org-btn-view",onClick:()=>Sr(e),style:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",padding:"0.625rem 1.25rem",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",flex:"1",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(59, 130, 246, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(59, 130, 246, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(59, 130, 246, 0.3)"},children:"View"}),(0,s.jsx)("button",{className:"org-btn org-btn-message",onClick:()=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ie({recipientEmail:e,recipientName:t,subject:n?"Re: Tournament Application ".concat(n):"",content:"",priority:"normal",category:n?"tournament":"general",relatedApplicationId:n||""}),Re(!0),Be("")}(e.email,e.organizationName),style:{background:"linear-gradient(135deg, #06b6d4 0%, #0891b2 100%)",color:"white",border:"none",padding:"0.625rem 1.25rem",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",flex:"1",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(6, 182, 212, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(6, 182, 212, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(6, 182, 212, 0.3)"},children:"Message"}),"suspended"===e.status?(0,s.jsx)("button",{className:"org-btn org-btn-unsuspend",onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to unsuspend "'.concat(t,'"? This will restore their access to the system.')))try{await f.reactivateOrganization(e),w(t=>t.map(t=>t._id===e?h(h({},t),{},{status:"active"}):t)),alert('Organization "'.concat(t,'" has been unsuspended successfully.'))}catch(Q){console.error("Failed to unsuspend organization:",Q),alert("Failed to unsuspend organization: ".concat(Q.message,". Please try again."))}})(e._id,e.organizationName),style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",padding:"0.625rem 1.25rem",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",flex:"1",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(16, 185, 129, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(16, 185, 129, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(16, 185, 129, 0.3)"},children:"Unsuspend"}):(0,s.jsx)("button",{className:"org-btn org-btn-suspend",onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to suspend "'.concat(t,'"? This will prevent them from accessing the system.')))try{await f.suspendOrganization(e),w(t=>t.map(t=>t._id===e?h(h({},t),{},{status:"suspended"}):t)),alert('Organization "'.concat(t,'" has been suspended successfully.'))}catch(Q){console.error("Failed to suspend organization:",Q),alert("Failed to suspend organization: ".concat(Q.message,". Please try again."))}})(e._id,e.organizationName),style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",border:"none",padding:"0.625rem 1.25rem",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",flex:"1",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(245, 158, 11, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(245, 158, 11, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(245, 158, 11, 0.3)"},children:"Suspend"}),(0,s.jsx)("button",{className:"org-btn org-btn-remove",onClick:()=>(async(e,t,n)=>{const r='\u26a0\ufe0f DANGER: This will permanently delete "'.concat(t,'" (').concat(n,') from the system.\n\nThis action CANNOT be undone and will:\n- Remove all organization data\n- Delete all associated records\n- Make the organization ID unavailable\n\nType "DELETE" to confirm:');if("DELETE"===prompt(r))try{await f.deleteOrganization(e),w(t=>t.filter(t=>t._id!==e)),alert('Organization "'.concat(t,'" (').concat(n,") has been permanently deleted."))}catch(Q){console.error("Failed to delete organization:",Q),alert("Failed to delete organization: ".concat(Q.message,". Please try again."))}else alert('Deletion cancelled. You must type "DELETE" exactly to confirm.')})(e._id,e.organizationName,e.organizationId),style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",padding:"0.625rem 1.25rem",borderRadius:"8px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",minWidth:"80px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.3)"},onMouseEnter:e=>{e.target.style.transform="translateY(-1px)",e.target.style.boxShadow="0 4px 8px rgba(239, 68, 68, 0.4)"},onMouseLeave:e=>{e.target.style.transform="translateY(0)",e.target.style.boxShadow="0 2px 4px rgba(239, 68, 68, 0.3)"},children:"Remove"})]})]})]},e._id))})]}),"tournament-software"===H&&(0,s.jsxs)("div",{className:"tournament-software-view",children:[(0,s.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",padding:"0 0.5rem"},children:(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:(0,s.jsxs)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#374151",margin:"0"},children:["Tournament Software Registrations: ",j.length]})})}),0===j.length?(0,s.jsxs)("div",{style:{backgroundColor:"#f9fafb",border:"2px dashed #d1d5db",borderRadius:"12px",padding:"3rem 2rem",textAlign:"center",margin:"2rem 0"},children:[(0,s.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#374151",marginBottom:"0.5rem"},children:"No Tournament Software Registered"}),(0,s.jsx)("p",{style:{fontSize:"1rem",color:"#6b7280",margin:"0"},children:"Tournament software registrations will appear here once submitted."})]}):(0,s.jsx)("div",{className:"software-cards-grid",style:{display:"grid",gap:"1.5rem",gridTemplateColumns:"repeat(auto-fill, minmax(450px, 1fr))"},children:j.map(e=>{var t,n;return(0,s.jsxs)("div",{className:"software-card",style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("h4",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",margin:"0 0 0.5rem 0"},children:e.softwareName}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0 0 0.25rem 0"},children:e.companyName})]}),(0,s.jsx)("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.75rem",fontWeight:"600",backgroundColor:"approved"===e.status?"#d1fae5":"rejected"===e.status?"#fee2e2":"#fef3c7",color:"approved"===e.status?"#065f46":"rejected"===e.status?"#991b1b":"#92400e"},children:e.status.toUpperCase()})]}),(0,s.jsxs)("div",{className:"software-details-grid",style:{display:"grid",gap:"0.75rem",marginBottom:"1rem"},children:[(0,s.jsxs)("div",{className:"software-detail-row",style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{className:"software-label",style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Platform:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:[(null===(t=e.platform)||void 0===t?void 0:t.web)&&"Web",(null===(n=e.platform)||void 0===n?void 0:n.mobile)&&"Mobile"].filter(Boolean).join(", ")||"N/A"})]}),e.systemUrl&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"System URL:"}),(0,s.jsx)("a",{href:e.systemUrl,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.875rem",color:"#2563eb",textDecoration:"none",wordBreak:"break-all"},children:e.systemUrl})]}),e.appLink&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"App Link:"}),(0,s.jsx)("a",{href:e.appLink,target:"_blank",rel:"noopener noreferrer",style:{fontSize:"0.875rem",color:"#2563eb",textDecoration:"none",wordBreak:"break-all"},children:e.appLink})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Contact Person:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:e.contactPersonName})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Email:"}),(0,s.jsx)("a",{href:"mailto:".concat(e.contactEmail),style:{fontSize:"0.875rem",color:"#2563eb",textDecoration:"none"},children:e.contactEmail})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Phone:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:e.contactPhone})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Username:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:e.username})]}),e.description&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Description:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:e.description})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Registered:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:new Date(e.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.approvedAt&&(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr",gap:"0.5rem"},children:[(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"500"},children:"Approved:"}),(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#111827"},children:new Date(e.approvedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsx)("button",{className:"software-delete-btn",onClick:()=>(async(e,t,n)=>{const r='Are you sure you want to delete "'.concat(t,'" by ').concat(n,"?\n\nThis action cannot be undone.");if(window.confirm(r))try{const n=await fetch("/api/tournament-software/".concat(e),{method:"DELETE"});if(!n.ok){const e=await n.json();throw new Error(e.error||"Failed to delete tournament software")}S(t=>t.filter(t=>t._id!==e)),alert('Tournament software "'.concat(t,'" has been successfully deleted.'))}catch(Q){console.error("Failed to delete tournament software:",Q),alert("Failed to delete tournament software: ".concat(Q.message,". Please try again."))}})(e._id,e.softwareName,e.companyName),style:{marginTop:"1rem",width:"100%",padding:"0.75rem 1rem",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",fontSize:"0.875rem",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#dc2626",onMouseLeave:e=>e.target.style.backgroundColor="#ef4444",children:"Delete"})]},e._id)})})]}),"tournament-software-file"===H&&(0,s.jsxs)("div",{className:"tournament-software-file-view",style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,s.jsx)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"1.5rem 2rem",marginBottom:"1.5rem",borderLeft:"4px solid #3b82f6"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"700",color:"#1f2937",margin:"0 0 0.25rem 0"},children:"File Management"}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",color:"#6b7280",margin:"0"},children:"Upload and manage tournament software related files"})]}),(0,s.jsx)("div",{style:{backgroundColor:"#eff6ff",padding:"0.75rem 1.25rem",borderRadius:"8px"},children:(0,s.jsxs)("span",{style:{fontSize:"0.875rem",color:"#3b82f6",fontWeight:"600"},children:[N.length," ",1===N.length?"File":"Files"]})})]})}),(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"2rem",marginBottom:"1.5rem"},children:[(0,s.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",marginBottom:"1rem"},children:"Upload New File"}),(0,s.jsxs)("div",{style:{backgroundColor:"#fafafa",border:"2px dashed #d1d5db",borderRadius:"12px",padding:"2.5rem",textAlign:"center",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#3b82f6",e.currentTarget.style.backgroundColor="#f0f9ff"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#d1d5db",e.currentTarget.style.backgroundColor="#fafafa"},onClick:()=>document.getElementById("file-upload").click(),children:[(0,s.jsx)("input",{type:"file",id:"file-upload",style:{display:"none"},onChange:Kr,disabled:C}),(0,s.jsx)("div",{style:{width:"60px",height:"60px",backgroundColor:"#e0e7ff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto"},children:(0,s.jsx)("span",{style:{fontSize:"1.75rem"},children:"\ud83d\udce4"})}),(0,s.jsx)("p",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",margin:"0 0 0.5rem 0"},children:C?"Uploading...":"Click to upload"}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",color:"#9ca3af",margin:"0"},children:"PDF, DOC, XLS, Images, and more (Max 50MB)"})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid #e5e7eb",backgroundColor:"#f9fafb"},children:(0,s.jsx)("h3",{style:{fontSize:"1rem",fontWeight:"600",color:"#374151",margin:"0"},children:"Uploaded Files"})}),0===N.length?(0,s.jsxs)("div",{style:{padding:"4rem 2rem",textAlign:"center"},children:[(0,s.jsx)("div",{style:{width:"80px",height:"80px",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem auto"},children:(0,s.jsx)("span",{style:{fontSize:"2rem",opacity:"0.5"},children:"\ud83d\udcc2"})}),(0,s.jsx)("h4",{style:{fontSize:"1rem",fontWeight:"600",color:"#6b7280",margin:"0 0 0.5rem 0"},children:"No files uploaded yet"}),(0,s.jsx)("p",{style:{fontSize:"0.875rem",color:"#9ca3af",margin:"0"},children:"Upload your first file using the upload area above"})]}):(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,s.jsx)("th",{style:{padding:"0.875rem 1.5rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"File Name"}),(0,s.jsx)("th",{style:{padding:"0.875rem 1rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Size"}),(0,s.jsx)("th",{style:{padding:"0.875rem 1rem",textAlign:"left",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Uploaded"}),(0,s.jsx)("th",{style:{padding:"0.875rem 1.5rem",textAlign:"right",fontSize:"0.75rem",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:N.map((e,t)=>{var n,r,a,i;return(0,s.jsxs)("tr",{style:{borderBottom:t<N.length-1?"1px solid #e5e7eb":"none",transition:"background-color 0.15s ease"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseLeave:e=>e.currentTarget.style.backgroundColor="white",children:[(0,s.jsx)("td",{style:{padding:"1rem 1.5rem"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,s.jsx)("div",{style:{width:"40px",height:"40px",backgroundColor:"#f3f4f6",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:(0,s.jsx)("span",{style:{fontSize:"1.25rem"},children:(a=e.mimeType,i=e.fileName,null!==a&&void 0!==a&&a.includes("pdf")?"\ud83d\udcc4":null!==a&&void 0!==a&&a.includes("image")?"\ud83d\uddbc\ufe0f":null!==a&&void 0!==a&&a.includes("word")||null!==i&&void 0!==i&&i.endsWith(".doc")||null!==i&&void 0!==i&&i.endsWith(".docx")?"\ud83d\udcdd":null!==a&&void 0!==a&&a.includes("excel")||null!==a&&void 0!==a&&a.includes("spreadsheet")||null!==i&&void 0!==i&&i.endsWith(".xls")||null!==i&&void 0!==i&&i.endsWith(".xlsx")?"\ud83d\udcca":null!==a&&void 0!==a&&a.includes("powerpoint")||null!==a&&void 0!==a&&a.includes("presentation")||null!==i&&void 0!==i&&i.endsWith(".ppt")||null!==i&&void 0!==i&&i.endsWith(".pptx")?"\ud83d\udcfd\ufe0f":null!==a&&void 0!==a&&a.includes("zip")||null!==a&&void 0!==a&&a.includes("rar")||null!==a&&void 0!==a&&a.includes("archive")?"\ud83d\udddc\ufe0f":null!==a&&void 0!==a&&a.includes("video")?"\ud83c\udfac":null!==a&&void 0!==a&&a.includes("audio")?"\ud83c\udfb5":"\ud83d\udcc1")})}),(0,s.jsxs)("div",{style:{minWidth:0},children:[(0,s.jsx)("p",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#111827",margin:"0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.fileName}),(0,s.jsx)("p",{style:{fontSize:"0.75rem",color:"#9ca3af",margin:"0"},children:(null===(n=e.mimeType)||void 0===n||null===(r=n.split("/")[1])||void 0===r?void 0:r.toUpperCase())||"FILE"})]})]})}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:Jr(e.size)})}),(0,s.jsx)("td",{style:{padding:"1rem"},children:(0,s.jsx)("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:new Date(e.uploadedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})}),(0,s.jsx)("td",{style:{padding:"1rem 1.5rem",textAlign:"right"},children:(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[(0,s.jsx)("a",{href:f.getTournamentSoftwareFileDownloadUrl(e._id),download:!0,style:{padding:"6px 12px",backgroundColor:"#ecfdf5",color:"#059669",borderRadius:"6px",textDecoration:"none",fontSize:"0.813rem",fontWeight:"500",border:"1px solid #a7f3d0",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#059669",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#ecfdf5",e.currentTarget.style.color="#059669"},children:"Download"}),(0,s.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"?')))try{(await f.deleteTournamentSoftwareFile(e)).success&&(await Yr(),alert("File deleted successfully!"))}catch(Q){console.error("Error deleting file:",Q),alert("Failed to delete file. Please try again.")}})(e._id,e.fileName),style:{padding:"6px 12px",backgroundColor:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"6px",cursor:"pointer",fontSize:"0.813rem",fontWeight:"500",transition:"all 0.15s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#dc2626",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#fef2f2",e.currentTarget.style.color="#dc2626"},children:"Delete"})]})})]},e._id)})})]})})]})]}),"notice-management"===H&&(0,s.jsxs)("div",{className:"notice-management-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Notice Management"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Manage announcements and notices for the homepage portal"}),(0,s.jsx)("button",{className:"create-notice-btn",onClick:lr,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",marginTop:"10px"},children:"+ Create New Notice"})]}),(0,s.jsxs)("div",{className:"notices-list",style:{marginTop:"20px"},children:[o.map(e=>(0,s.jsx)("div",{className:"notice-item",style:{backgroundColor:"white",border:"1px solid #ddd",borderRadius:"8px",padding:"20px",marginBottom:"15px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",position:"relative"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[(0,s.jsx)("span",{className:"notice-type-badge ".concat(e.type),style:{padding:"4px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",color:"white",backgroundColor:"urgent"===e.type?"#dc3545":"important"===e.type?"#fd7e14":"info"===e.type?"#0dcaf0":"#6c757d",marginRight:"10px"},children:e.type}),(0,s.jsx)("span",{style:{color:e.active?"#28a745":"#dc3545",fontSize:"12px",fontWeight:"600",textTransform:"uppercase"},children:e.active?"ACTIVE":"INACTIVE"}),(0,s.jsx)("span",{style:{color:"#6c757d",fontSize:"12px",marginLeft:"10px"},children:e.date})]}),(0,s.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#212529"},children:e.title}),(0,s.jsx)("p",{style:{margin:"0",color:"#6c757d",lineHeight:"1.5"},children:e.content})]}),(0,s.jsxs)("div",{className:"notice-actions",style:{display:"flex",gap:"8px",marginLeft:"15px"},children:[(0,s.jsx)("button",{onClick:()=>(e=>{Un(h(h({},e),{},{date:e.date||(new Date).toISOString().split("T")[0]})),Mn(e.id),Bn(!0)})(e),style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Edit"}),(0,s.jsx)("button",{onClick:()=>{return t=e.id,void u(t);var t},style:{backgroundColor:e.active?"#ffc107":"#28a745",color:e.active?"#212529":"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:e.active?"Deactivate":"Activate"}),(0,s.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this notice?")&&d(t));var t},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})]})]})},e.id)),0===o.length&&(0,s.jsx)("div",{style:{textAlign:"center",color:"#6c757d",padding:"40px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #ddd"},children:"No notices found. Create your first notice to get started."})]}),On&&(0,s.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>Bn(!1),children:(0,s.jsxs)("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",width:"90%",maxWidth:"600px",maxHeight:"85vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",border:"1px solid #ddd"},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("h3",{style:{margin:"0 0 25px 0",color:"#333",fontSize:"24px",fontWeight:"600",textAlign:"center",borderBottom:"2px solid #f0f0f0",paddingBottom:"15px"},children:Dn?"Edit Notice":"Create New Notice"}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"notice-type",style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333",fontSize:"14px"},children:"Notice Type *"}),(0,s.jsxs)("select",{id:"notice-type",value:qn.type,onChange:e=>Un(t=>h(h({},t),{},{type:e.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",backgroundColor:"white"},children:[(0,s.jsx)("option",{value:"general",children:"General"}),(0,s.jsx)("option",{value:"info",children:"Info"}),(0,s.jsx)("option",{value:"important",children:"Important"}),(0,s.jsx)("option",{value:"urgent",children:"Urgent"})]})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"notice-title",style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333",fontSize:"14px"},children:"Title *"}),(0,s.jsx)("input",{type:"text",id:"notice-title",value:qn.title,onChange:e=>Un(t=>h(h({},t),{},{title:e.target.value})),placeholder:"Enter notice title",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"notice-content",style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333",fontSize:"14px"},children:"Content *"}),(0,s.jsx)("textarea",{id:"notice-content",value:qn.content,onChange:e=>Un(t=>h(h({},t),{},{content:e.target.value})),placeholder:"Enter notice content",rows:"5",style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",resize:"vertical"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"notice-date",style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#333",fontSize:"14px"},children:"Date"}),(0,s.jsx)("input",{type:"date",id:"notice-date",value:qn.date,onChange:e=>Un(t=>h(h({},t),{},{date:e.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),(0,s.jsx)("div",{className:"form-group",style:{marginBottom:"25px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"15px",border:"1px solid #ddd",borderRadius:"6px",backgroundColor:"#f8f9fa"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontSize:"14px",fontWeight:"500",color:"#333",margin:0,display:"block"},children:"Active (visible on homepage)"}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#666",margin:"2px 0 0 0"},children:"Enable this notice to appear in the homepage portal"})]}),(0,s.jsxs)("label",{className:"toggle-switch",style:{position:"relative",display:"inline-block",width:"50px",height:"24px",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:qn.active,onChange:e=>Un(t=>h(h({},t),{},{active:e.target.checked})),style:{opacity:0,width:0,height:0}}),(0,s.jsx)("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:qn.active?"#007bff":"#ccc",transition:"0.3s",borderRadius:"24px"},children:(0,s.jsx)("span",{style:{position:"absolute",content:'""',height:"18px",width:"18px",left:qn.active?"29px":"3px",bottom:"3px",backgroundColor:"white",borderRadius:"50%",transition:"0.3s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})})]})]})}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end",borderTop:"1px solid #f0f0f0",paddingTop:"20px",marginTop:"20px"},children:[(0,s.jsx)("button",{onClick:()=>Bn(!1),style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Cancel"}),(0,s.jsx)("button",{onClick:cr,style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:Dn?"Update Notice":"Create Notice"})]})]})})]}),"assessment-management"===H&&(()=>{const e=()=>{console.log("Clearing current draft selection"),ot(""),ct(""),ut(""),pt(""),rt([]),it(30),mt(70),yt(null),console.log("Form cleared for new assessment")};return(0,s.jsxs)("div",{className:"assessment-management-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Assessment Management"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Manage assessment questions, forms, and submissions"})]}),(0,s.jsxs)("div",{className:"draft-selection-section",style:{marginBottom:"20px",backgroundColor:"rgba(0, 123, 255, 0.05)",border:"1px solid rgba(0, 123, 255, 0.2)",borderRadius:"8px",padding:"20px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 15px 0",color:"#007bff"},children:"Continue Working on Draft"}),0===gt.filter(e=>e.isDraft).length?(0,s.jsx)("p",{style:{margin:0,color:"#666",fontStyle:"italic"},children:"No drafts available. Create a new assessment form below."}):(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{style:{margin:"0 0 10px 0",fontSize:"14px",color:"#666"},children:"Select a draft to continue editing:"}),(0,s.jsx)("div",{style:{display:"grid",gap:"10px"},children:gt.filter(e=>e.isDraft).map(t=>{var n;return(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 15px",backgroundColor:bt===t._id?"rgba(0, 123, 255, 0.1)":"white",border:bt===t._id?"2px solid #007bff":"1px solid #dee2e6",borderRadius:"5px",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>(e=>{console.log("Loading draft into form:",e),ot(e.title||""),ct(e.titleMalay||""),ut(e.subtitle||""),pt(e.subtitleMalay||""),rt(e.questions||[]),it(e.timeLimit||30),mt(e.passingScore||70),yt(e._id),console.log("Draft loaded successfully")})(t),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{fontWeight:"500",marginBottom:"4px"},children:[t.title," ",t.titleMalay&&"(".concat(t.titleMalay,")"),bt===t._id&&(0,s.jsx)("span",{style:{marginLeft:"8px",color:"#007bff",fontSize:"12px"},children:"\u25cf Currently editing"})]}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[(null===(n=t.questions)||void 0===n?void 0:n.length)||0," questions \u2022 Created ",new Date(t.createdAt).toLocaleDateString()]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,s.jsx)("span",{style:{backgroundColor:"#ffc107",color:"#212529",padding:"2px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:"600",textTransform:"uppercase"},children:"DRAFT"}),(0,s.jsx)("button",{type:"button",onClick:n=>{n.stopPropagation(),window.confirm('Are you sure you want to delete the draft "'.concat(t.title,'"?'))&&(async t=>{try{await f.deleteAssessmentForm(t),xt(e=>e.filter(e=>e._id!==t)),bt===t&&e(),alert("Draft deleted successfully")}catch(Q){console.error("Error deleting draft:",Q),alert("Error deleting draft. Please try again.")}})(t._id)},style:{background:"#dc3545",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",fontSize:"12px",cursor:"pointer"},title:"Delete draft",children:"\ud83d\uddd1\ufe0f"})]})]},t._id)})}),bt&&(0,s.jsx)("button",{type:"button",onClick:e,style:{marginTop:"10px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",padding:"8px 16px",fontSize:"14px",cursor:"pointer"},children:"Clear Selection & Start New Form"})]})]}),(0,s.jsx)("div",{className:"assessment-admin-wrapper",children:(0,s.jsx)(y,{questions:nt,setQuestions:rt,timeLimit:at,setTimeLimit:it,assessmentTitle:st,setAssessmentTitle:ot,assessmentTitleMalay:lt,setAssessmentTitleMalay:ct,assessmentSubtitle:dt,setAssessmentSubtitle:ut,assessmentSubtitleMalay:ht,setAssessmentSubtitleMalay:pt,passingScore:ft,setPassingScore:mt,submissions:vt,savedForms:gt,onSaveForm:()=>{st.trim()&&0!==nt.length?sn(!0):alert("Please provide an assessment title and at least one question.")},onSaveDraft:async()=>{try{if(console.log("Starting draft save process..."),!st.trim())return alert("Please provide an assessment title to save as draft."),!1;const e={title:st,titleMalay:lt||"",subtitle:dt||"",subtitleMalay:ht||"",questions:nt,timeLimit:at,passingScore:ft,isDraft:!0};let t;return console.log("Form data for draft:",e),bt?(console.log("Updating existing draft with ID:",bt),t=await f.updateAssessmentForm(bt,e),console.log("Updated draft:",t),t&&t.data&&xt(e=>e.map(e=>e._id===bt?t.data:e))):(console.log("Creating new draft"),t=await f.saveAssessmentForm(e),console.log("Saved draft:",t),t&&t.data&&(yt(t.data._id),xt(e=>[...e,t.data]))),!!(t&&t.success&&t.data)&&(console.log("Draft saved successfully"),alert("Draft saved successfully! You can continue editing in Assessment Management."),!0)}catch(Q){return console.error("Error saving draft:",Q),alert("Error saving draft. Please try again."),!1}}})})]})})(),"assessment-list"===H&&(0,s.jsxs)("div",{className:"assessment-list-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Assessment List"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"View and manage all assessment submissions and user performance"})]}),(0,s.jsx)("form",{className:"tournament-form",children:(0,s.jsxs)("div",{className:"form-section",style:{padding:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsxs)("h3",{children:["All Assessment Submissions (",vt.length,")"]}),vt.length>0&&(0,s.jsx)("button",{type:"button",onClick:async e=>{if(e.preventDefault(),window.confirm("Are you sure you want to clear all assessment submissions? This action cannot be undone."))try{const e=await f.clearAllAssessmentSubmissions();wt([]),alert("Successfully cleared ".concat(e.deletedCount||0," assessment submissions."))}catch(Q){console.error("Error clearing submissions:",Q),alert("Error clearing submissions. Please try again.")}},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Clear All Submissions"})]}),0===vt.length?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"rgba(0, 0, 0, 0.5)"},children:[(0,s.jsx)("p",{children:"No assessment submissions yet."}),(0,s.jsx)("p",{style:{fontSize:"14px",marginTop:"10px"},children:"Submissions will appear here once users complete assessments."})]}):(0,s.jsx)("div",{style:{overflowX:"auto",marginTop:"20px"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",borderRadius:"8px",overflow:"hidden"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"#"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"IC Number"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"Score"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"Percentage"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"Date"}),(0,s.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6",fontSize:"14px"},children:"Status"})]})}),(0,s.jsx)("tbody",{children:vt.map((e,t)=>(0,s.jsxs)("tr",{onClick:()=>In(e),style:{borderBottom:"1px solid #dee2e6",cursor:"pointer","&:hover":{backgroundColor:"#f8f9fa"}},title:"Click to view submission details",children:[(0,s.jsx)("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#495057",fontWeight:"500"},children:t+1}),(0,s.jsx)("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#212529",fontWeight:"500"},children:e.participantName||"Unknown User"}),(0,s.jsx)("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#495057"},children:e.participantIcNumber||"N/A"}),(0,s.jsxs)("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#495057",textAlign:"center",fontWeight:"500"},children:[e.correctAnswers||0,"/",e.totalQuestions||0]}),(0,s.jsxs)("td",{style:{padding:"12px 16px",fontSize:"14px",textAlign:"center",fontWeight:"600",color:e.score>=70?"#28a745":"#dc3545"},children:[e.score||0,"%"]}),(0,s.jsx)("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#495057",textAlign:"center"},children:e.completedAt?new Date(e.completedAt).toLocaleDateString():"N/A"}),(0,s.jsx)("td",{style:{padding:"12px 16px",textAlign:"center"},children:(0,s.jsx)("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",backgroundColor:e.score>=70?"#d4edda":"#f8d7da",color:e.score>=70?"#155724":"#721c24",border:"1px solid ".concat(e.score>=70?"#c3e6cb":"#f5c6cb")},children:e.score>=70?"PASS":"FAIL"})})]},e.submissionId||e._id||t))})]})})]})})]}),"assessment-statistics"===H&&(0,s.jsxs)("div",{className:"assessment-statistics-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Assessment Statistics"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"View detailed statistics and analytics for assessments"})]}),(0,s.jsxs)("form",{className:"tournament-form",children:[(0,s.jsxs)("div",{className:"form-section",style:{padding:"20px",marginBottom:"20px"},children:[(0,s.jsx)("h3",{style:{marginBottom:"20px"},children:"Batch Filter"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:Lt,onChange:Rn,style:{cursor:"pointer"}}),(0,s.jsx)("span",{style:{fontWeight:"bold",fontSize:"14px"},children:"Filter batches from specific date"})]}),Lt&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold"},children:"From Date:"}),(0,s.jsx)("input",{type:"date",value:_t,onChange:e=>Pt(e.target.value),style:{padding:"8px 12px",border:"2px solid #000",borderRadius:"4px",fontSize:"14px"}})]}),Lt&&_t&&(0,s.jsxs)("div",{style:{backgroundColor:"#e8f4f8",border:"2px solid #007bff",borderRadius:"8px",padding:"10px 15px",fontSize:"14px",fontWeight:"bold",color:"#007bff"},children:["Showing ",Ct.length," batches from ",new Date(_t).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"form-section",style:{padding:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsxs)("h3",{children:["Assessment Results (",Ct.reduce((e,t)=>e+t.submissionCount,0)," total submissions)"]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[Ct.length>0&&(0,s.jsx)("button",{type:"button",onClick:async e=>{if(e.preventDefault(),window.confirm("Are you sure you want to clear all assessment submissions from the database? This action cannot be undone."))try{const e=await f.clearAllAssessmentSubmissions();console.log("Clear submissions response:",e),At([]),alert("Successfully cleared ".concat(e.deletedCount||0," assessment submissions from the database."))}catch(Q){console.error("Error clearing submissions:",Q);const t=Q.message||"Unknown error occurred";alert("Error clearing submissions: ".concat(t,". Please check the console for more details and try again."))}},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Clear All Submissions"}),(0,s.jsx)("button",{type:"button",onClick:_n,className:"home-btn",disabled:Et,style:{padding:"8px 16px",fontSize:"14px",marginRight:"10px"},children:Et?"Loading...":"Refresh"}),(0,s.jsx)("button",{type:"button",onClick:Fn,className:"home-btn",disabled:Et||0===Ct.length,style:{padding:"8px 16px",fontSize:"14px",backgroundColor:"#28a745",borderColor:"#28a745"},title:"Download all assessment results as PDF",children:"\ud83d\udcc4 Download PDF"})]})]}),Et?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"rgba(0, 0, 0, 0.5)"},children:(0,s.jsx)("p",{children:"Loading assessment results..."})}):0===Ct.length?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"rgba(0, 0, 0, 0.5)"},children:(0,s.jsx)("p",{children:Lt&&_t?"No assessment batches found from ".concat(new Date(_t).toLocaleDateString()):"No assessment submissions yet."})}):(0,s.jsx)("div",{style:{display:"grid",gap:"20px"},children:Ct.map(e=>(0,s.jsxs)("div",{style:{background:"#f8f8f8",border:"2px solid #000",borderRadius:"12px",padding:"20px"},children:[(0,s.jsxs)("div",{onClick:()=>{return t=e._id,void Ft(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px",paddingBottom:"15px",borderBottom:"1px solid #000",cursor:"pointer",userSelect:"none",transition:"background-color 0.2s",padding:"10px",borderRadius:"8px",backgroundColor:Rt.has(e._id)?"#f0f0f0":"transparent"},onMouseEnter:e=>e.target.style.backgroundColor="#f5f5f5",onMouseLeave:t=>t.target.style.backgroundColor=Rt.has(e._id)?"#f0f0f0":"transparent",children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("div",{style:{fontSize:"18px",color:"#f39c12",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px"},children:Rt.has(e._id)?"\ud83d\udcc2":"\ud83d\udcc1"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{style:{margin:"0 0 5px 0",color:"#000",fontSize:"18px",fontWeight:"bold"},children:e._id}),(0,s.jsxs)("div",{style:{color:"#666",fontSize:"14px"},children:["Form: ",e.formCode," \u2022 Date: ",e.batchDate," \u2022 ",e.submissionCount," participants"]}),e.formTitle&&(0,s.jsxs)("div",{style:{color:"#000",fontSize:"13px",fontStyle:"italic",marginTop:"2px"},children:['"',e.formTitle,'"']})]})]}),(0,s.jsxs)("div",{style:{textAlign:"right"},children:[(0,s.jsxs)("div",{style:{color:"#000",fontWeight:"bold",fontSize:"16px"},children:["Avg: ",Math.round(e.averageScore),"%"]}),(0,s.jsxs)("div",{style:{color:"#666",fontSize:"12px"},children:[e.submissions.filter(e=>e.score>=70).length," passed / ",e.submissionCount," total"]}),(0,s.jsx)("div",{style:{color:"#999",fontSize:"11px",marginTop:"4px"},children:Rt.has(e._id)?"Click to expand":"Click to collapse"})]})]}),!Rt.has(e._id)&&(0,s.jsx)("div",{style:{display:"grid",gap:"10px"},children:e.submissions.map(e=>(0,s.jsxs)("div",{onClick:()=>In(e),style:{background:"white",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"15px",display:"grid",gridTemplateColumns:"2fr 1fr 1fr 100px 120px",gap:"15px",alignItems:"center",cursor:"pointer",transition:"all 0.2s ease"},title:"Click to view submission details",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{color:"#333",fontWeight:"bold",fontSize:"16px",marginBottom:"2px"},children:e.participantName}),(0,s.jsxs)("div",{style:{color:"#666",fontSize:"13px"},children:["ID: ",e.submissionId]}),(0,s.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:new Date(e.completedAt).toLocaleString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"14px",color:"#333"},children:(0,s.jsxs)("strong",{children:[e.correctAnswers,"/",e.totalQuestions]})}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:["Time: ",Math.floor(e.timeSpent/60),"m ",e.timeSpent%60,"s"]})]}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{style:{background:e.score>=70?"#000":"#fff",color:e.score>=70?"#fff":"#000",border:"1px solid #000",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"bold"},children:e.score>=70?"PASSED":"FAILED"})}),(0,s.jsx)("div",{style:{background:e.score>=70?"#000":"#fff",color:e.score>=70?"#fff":"#000",border:"2px solid #000",padding:"10px 12px",borderRadius:"20px",fontWeight:"bold",fontSize:"14px",textAlign:"center"},children:"".concat(e.score,"%")}),(0,s.jsx)("div",{})]},e._id))})]},e._id))})]})]})]}),"saved-forms"===H&&(0,s.jsxs)("div",{className:"saved-forms-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Saved Assessment Forms"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Manage and view all saved assessment forms with their codes"})]}),(0,s.jsx)("form",{className:"tournament-form",children:(0,s.jsxs)("div",{className:"form-section",style:{padding:"20px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,s.jsxs)("h3",{style:{margin:0},children:["All Saved Forms (",gt.filter(e=>!e.isTemporary).length,")"]}),(0,s.jsx)("button",{type:"button",onClick:Tn,style:{backgroundColor:"#17a2b8",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},title:"View and manage all generated temporary codes",children:"\ud83d\udccb Manage Temporary Codes"})]}),0===gt.filter(e=>!e.isTemporary).length?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"60px 20px",color:"rgba(0, 0, 0, 0.5)"},children:[(0,s.jsx)("p",{style:{fontSize:"18px",marginBottom:"8px"},children:"No saved forms yet"}),(0,s.jsx)("p",{style:{fontSize:"14px"},children:'Create and save assessment forms in the "Manage Questions" section'})]}):(0,s.jsx)("div",{style:{display:"grid",gap:"15px"},children:gt.filter(e=>!e.isTemporary).map(e=>(0,s.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.02)",border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px"},children:[(0,s.jsx)("div",{style:{color:"#333",fontWeight:"bold",fontSize:"18px"},children:e.title||"Untitled Assessment"}),(0,s.jsx)("span",{style:{backgroundColor:!1!==e.active?"#d4edda":"#f8d7da",color:!1!==e.active?"#155724":"#721c24",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",border:"1px solid ".concat(!1!==e.active?"#c3e6cb":"#f5c6cb")},children:!1!==e.active?"ENABLED":"DISABLED"})]}),(0,s.jsxs)("div",{style:{color:"#28a745",fontWeight:"bold",fontSize:"16px",marginBottom:"8px"},children:["Code: ",e.code]}),(0,s.jsxs)("div",{style:{color:"#666",fontSize:"14px",marginBottom:"8px"},children:[e.questions.length," questions \u2022 ",e.timeLimit," minutes \u2022 Created: ",new Date(e.createdAt).toLocaleDateString()]}),e.questions.length>0&&(0,s.jsxs)("div",{style:{color:"#666",fontSize:"12px"},children:["Sections: ",[...new Set(e.questions.map(e=>e.section))].join(", ")]}),!1===e.active&&(0,s.jsx)("div",{style:{color:"#dc3545",fontSize:"12px",fontStyle:"italic",marginTop:"5px"},children:"\u26a0\ufe0f This form is disabled and cannot be accessed by users"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,s.jsx)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"4px",padding:"8px 12px",fontSize:"12px",color:"#6c757d"},children:"Share this code with users to take the assessment"}),(0,s.jsx)("button",{type:"button",onClick:()=>{const t=!1!==e.active?"disable":"enable";if(window.confirm("Are you sure you want to ".concat(t," this assessment form?\n\n").concat("disable"===t?"Users will not be able to access this form when disabled.":"Users will be able to access this form when enabled."))){const n=gt.map(t=>t.code===e.code?h(h({},t),{},{active:!1===e.active}):t);xt(n),alert('Assessment form "'.concat(e.title,'" has been ').concat(t,"d successfully."))}},style:{padding:"8px 16px",fontSize:"14px",backgroundColor:!1!==e.active?"#ffc107":"#28a745",color:!1!==e.active?"#212529":"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px",fontWeight:"bold"},children:!1!==e.active?"Disable":"Enable"}),(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{Ot(e),qt(e.title||""),Wt(e.titleMalay||""),Vt(e.subtitle||""),Yt(e.subtitleMalay||""),Jt([...e.questions]),Xt(e.timeLimit||30),Zt(e.passingScore||70),Dt(!0)})(e),className:"edit-btn",style:{padding:"8px 16px",fontSize:"14px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px"},children:"Edit Form"}),(0,s.jsx)("button",{type:"button",onClick:()=>(async e=>{if(e._id||e.id)try{const t=await f.generateTemporaryAssessmentCode(e._id||e.id);if(t&&t.tempCode){const n=new Date(t.expiresAt);rn(h(h({},t),{},{expiryDate:n,parentForm:e})),tn(!0)}else alert("Failed to generate temporary code. Please try again.")}catch(Q){console.error("Error generating temporary code:",Q),alert("Failed to generate temporary code: "+(Q.message||"Unknown error"))}else alert("Cannot generate temporary code: Form ID not found. Please save the form first.")})(e),style:{padding:"8px 16px",fontSize:"14px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginRight:"10px",fontWeight:"bold"},title:"Generate 24-hour temporary assessment code",children:"Generate Temp Code"}),(0,s.jsx)("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(e.code),alert("Assessment code copied to clipboard!")},className:"view-btn-table",style:{padding:"8px 16px",fontSize:"14px",marginRight:"10px"},children:"Copy Code"}),(0,s.jsx)("button",{type:"button",onClick:()=>(async e=>{const t='Are you sure you want to delete the assessment form "'.concat(e.title||"Untitled Assessment",'"?\n\nCode: ').concat(e.code,"\nThis action cannot be undone and will permanently remove the form from the database.");if(window.confirm(t))try{(e._id||e.id)&&await f.deleteAssessmentForm(e._id||e.id);const t=gt.filter(t=>t.code!==e.code);xt(t),alert('Assessment form "'.concat(e.title||"Untitled Assessment",'" has been deleted successfully.'))}catch(Q){console.error("Error deleting assessment form:",Q),alert("Failed to delete the assessment form. Please try again.")}})(e),style:{padding:"8px 16px",fontSize:"14px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},title:"Delete this assessment form permanently",children:"Delete"})]})]},e.code))})]})})]}),"state-users"===H&&(0,s.jsxs)("div",{className:"state-users-management",children:[(0,s.jsxs)("div",{className:"state-users-header",children:[(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)("h1",{children:"State Users Management"}),(0,s.jsx)("p",{children:"Manage state association portal access"})]}),(0,s.jsx)("button",{className:"create-btn",onClick:()=>{Qr(),he(!0)},children:"+ Add State User"})]}),(0,s.jsxs)("div",{className:"state-users-stats",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-value",children:ce.length}),(0,s.jsx)("div",{className:"stat-label",children:"Total Users"})]}),(0,s.jsxs)("div",{className:"stat-card active",children:[(0,s.jsx)("div",{className:"stat-value",children:ce.filter(e=>"active"===e.status).length}),(0,s.jsx)("div",{className:"stat-label",children:"Active"})]}),(0,s.jsxs)("div",{className:"stat-card inactive",children:[(0,s.jsx)("div",{className:"stat-value",children:ce.filter(e=>"active"!==e.status).length}),(0,s.jsx)("div",{className:"stat-label",children:"Disabled"})]})]}),(0,s.jsx)("div",{className:"state-users-grid",children:0===ce.length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-icon",children:"\ud83d\udc65"}),(0,s.jsx)("h3",{children:"No State Users"}),(0,s.jsx)("p",{children:'Click "Add State User" to create the first state association account.'})]}):ce.map(e=>{var t;return(0,s.jsxs)("div",{className:"state-user-card ".concat("active"!==e.status?"disabled":""),children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsx)("div",{className:"state-avatar",children:(null===(t=e.stateName)||void 0===t?void 0:t.charAt(0))||"S"}),(0,s.jsxs)("div",{className:"state-info",children:[(0,s.jsx)("h3",{children:e.stateName}),(0,s.jsxs)("span",{className:"username",children:["@",e.username]})]}),(0,s.jsx)("span",{className:"status-badge ".concat("active"===e.status?"active":"disabled"),children:"active"===e.status?"Active":"Disabled"})]}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"info-row",children:[(0,s.jsx)("span",{className:"label",children:"Email"}),(0,s.jsx)("span",{className:"value",children:e.email||"-"})]}),(0,s.jsxs)("div",{className:"info-row",children:[(0,s.jsx)("span",{className:"label",children:"Contact"}),(0,s.jsx)("span",{className:"value",children:e.contactPerson||"-"})]}),(0,s.jsxs)("div",{className:"info-row",children:[(0,s.jsx)("span",{className:"label",children:"Phone"}),(0,s.jsx)("span",{className:"value",children:e.phone||"-"})]}),e.lastLogin&&(0,s.jsxs)("div",{className:"info-row",children:[(0,s.jsx)("span",{className:"label",children:"Last Login"}),(0,s.jsx)("span",{className:"value",children:new Date(e.lastLogin).toLocaleDateString()})]})]}),(0,s.jsxs)("div",{className:"card-actions",children:[(0,s.jsx)("button",{className:"btn-edit",onClick:()=>{ge(e),fe(!0)},children:"Edit"}),(0,s.jsx)("button",{className:"btn-toggle ".concat("active"===e.status?"disable":"enable"),onClick:()=>(async(e,t)=>{const n="active"===t?"disabled":"active";try{const t=await f.updateStateUserStatus(e,n);t.success?Qr():alert(t.message||"Failed to update status")}catch(Q){console.error("Error updating state user status:",Q),alert(Q.message||"Failed to update status")}})(e._id,e.status),children:"active"===e.status?"Disable":"Enable"}),(0,s.jsx)("button",{className:"btn-delete",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this state user?"))try{const t=await f.deleteStateUser(e);t.success?(alert("State user deleted successfully!"),Qr()):alert(t.message||"Failed to delete state user")}catch(Q){console.error("Error deleting state user:",Q),alert(Q.message||"Failed to delete state user")}})(e._id),children:"Delete"})]})]},e._id)})}),ue&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>he(!1),children:(0,s.jsxs)("div",{className:"state-user-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Add State User"}),(0,s.jsx)("button",{className:"close-btn",onClick:()=>he(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Username ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("input",{type:"text",placeholder:"Enter username",value:xe.username,onChange:e=>be(h(h({},xe),{},{username:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["State ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsxs)("select",{value:xe.stateName,onChange:e=>be(h(h({},xe),{},{stateName:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Zr.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Password ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("input",{type:"password",placeholder:"Enter password",value:xe.password,onChange:e=>be(h(h({},xe),{},{password:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Confirm Password ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("input",{type:"password",placeholder:"Confirm password",value:xe.confirmPassword,onChange:e=>be(h(h({},xe),{},{confirmPassword:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{type:"email",placeholder:"Enter email",value:xe.email,onChange:e=>be(h(h({},xe),{},{email:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"State Code"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g., SWK",value:xe.stateCode,onChange:e=>be(h(h({},xe),{},{stateCode:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Contact Person"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter name",value:xe.contactPerson,onChange:e=>be(h(h({},xe),{},{contactPerson:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Phone"}),(0,s.jsx)("input",{type:"tel",placeholder:"Enter phone",value:xe.phone,onChange:e=>be(h(h({},xe),{},{phone:e.target.value}))})]})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn-cancel",onClick:()=>he(!1),children:"Cancel"}),(0,s.jsx)("button",{className:"btn-submit",onClick:Xr,children:"Create User"})]})]})}),pe&&me&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>fe(!1),children:(0,s.jsxs)("div",{className:"state-user-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header edit",children:[(0,s.jsx)("h2",{children:"Edit State User"}),(0,s.jsx)("button",{className:"close-btn",onClick:()=>fe(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["Username ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsx)("input",{type:"text",value:me.username,onChange:e=>ge(h(h({},me),{},{username:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{children:["State ",(0,s.jsx)("span",{className:"required",children:"*"})]}),(0,s.jsxs)("select",{value:me.stateName,onChange:e=>ge(h(h({},me),{},{stateName:e.target.value})),children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Zr.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{type:"email",value:me.email||"",onChange:e=>ge(h(h({},me),{},{email:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"State Code"}),(0,s.jsx)("input",{type:"text",value:me.stateCode||"",onChange:e=>ge(h(h({},me),{},{stateCode:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Contact Person"}),(0,s.jsx)("input",{type:"text",value:me.contactPerson||"",onChange:e=>ge(h(h({},me),{},{contactPerson:e.target.value}))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Phone"}),(0,s.jsx)("input",{type:"tel",value:me.phone||"",onChange:e=>ge(h(h({},me),{},{phone:e.target.value}))})]})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn-cancel",onClick:()=>fe(!1),children:"Cancel"}),(0,s.jsx)("button",{className:"btn-submit edit",onClick:$r,children:"Save Changes"})]})]})})]}),"settings"===H&&(()=>{var e;return(0,s.jsxs)("div",{className:"settings-view",children:[(0,s.jsxs)("div",{className:"dashboard-header",children:[(0,s.jsx)("h2",{children:"Settings"}),(0,s.jsx)("p",{className:"dashboard-subtitle",children:"Configure system preferences and options"})]}),(0,s.jsxs)("div",{className:"settings-sections",children:[(0,s.jsxs)("div",{className:"settings-card",children:[(0,s.jsx)("h3",{children:"Account Settings"}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Username"}),(0,s.jsx)("input",{type:"text",value:"admin",disabled:!0})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Email Notifications"}),(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"Enabled"}),(0,s.jsx)("option",{children:"Disabled"})]})]}),(0,s.jsx)("button",{className:"settings-btn",children:"Update Account"})]}),"super_admin"===$&&(0,s.jsxs)("div",{className:"settings-card",children:[(0,s.jsx)("h3",{children:"Create New Account"}),(0,s.jsx)("p",{className:"settings-description",children:"Create new admin accounts with specific authority levels for this portal"}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Username *"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter username",value:we.username,onChange:e=>Lr("username",e.target.value)})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Email Address *"}),(0,s.jsx)("input",{type:"email",placeholder:"Enter email address",value:we.email,onChange:e=>Lr("email",e.target.value)})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Password *"}),(0,s.jsx)("input",{type:"password",placeholder:"Enter password",value:we.password,onChange:e=>Lr("password",e.target.value)})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Confirm Password *"}),(0,s.jsx)("input",{type:"password",placeholder:"Confirm password",value:we.confirmPassword,onChange:e=>Lr("confirmPassword",e.target.value)})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Authority Level *"}),(0,s.jsxs)("select",{value:we.authorityLevel,onChange:e=>Lr("authorityLevel",e.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select Authority Level"}),(0,s.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,s.jsx)("option",{value:"admin",children:"Admin"}),(0,s.jsx)("option",{value:"assessment_admin",children:"Assessment Admin"})]}),(0,s.jsxs)("small",{className:"authority-info",children:["\u2022 ",(0,s.jsx)("strong",{children:"Super Admin:"})," Full access to all features and settings",(0,s.jsx)("br",{}),"\u2022 ",(0,s.jsx)("strong",{children:"Admin:"})," Standard admin access with limited system settings",(0,s.jsx)("br",{}),"\u2022 ",(0,s.jsx)("strong",{children:"Assessment Admin:"})," Access to assessment management only"]})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Full Name"}),(0,s.jsx)("input",{type:"text",placeholder:"Enter full name (optional)",value:we.fullName,onChange:e=>Lr("fullName",e.target.value)})]}),(0,s.jsx)("button",{className:"settings-btn create-account-btn",onClick:Pr,type:"button",children:"Create Account"})]}),"super_admin"===$&&(0,s.jsxs)("div",{className:"settings-card admin-management",children:[(0,s.jsx)("h3",{children:"Admin User Management"}),(0,s.jsx)("p",{className:"settings-description",children:"Manage all admin accounts, their permissions, and access levels"}),(0,s.jsxs)("div",{className:"admin-stats",children:[(0,s.jsxs)("div",{className:"admin-stat-item",children:[(0,s.jsx)("span",{className:"stat-number",children:Z.filter(e=>"active"===e.status).length}),(0,s.jsx)("span",{className:"stat-label",children:"Active Admins"})]}),(0,s.jsxs)("div",{className:"admin-stat-item",children:[(0,s.jsx)("span",{className:"stat-number",children:Z.filter(e=>"disabled"===e.status).length}),(0,s.jsx)("span",{className:"stat-label",children:"Disabled"})]}),(0,s.jsxs)("div",{className:"admin-stat-item",children:[(0,s.jsx)("span",{className:"stat-number",children:Z.filter(e=>"super_admin"===e.authorityLevel).length}),(0,s.jsx)("span",{className:"stat-label",children:"Super Admins"})]})]}),(0,s.jsx)("div",{className:"admin-table-container",children:(0,s.jsxs)("table",{className:"admin-users-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"No."}),(0,s.jsx)("th",{children:"Username"}),(0,s.jsx)("th",{children:"Authority Level"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Last Login"}),(0,s.jsx)("th",{children:"Actions"})]})}),(0,s.jsx)("tbody",{children:Z.map((e,t)=>(0,s.jsxs)("tr",{className:"disabled"===e.status?"disabled-admin":"",children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{className:"username-cell",children:(0,s.jsx)("span",{className:"clickable-username",onClick:()=>kr(e),title:"Click to view/edit admin details",children:e.username})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"authority-badge ".concat(e.authorityLevel),children:Ar(e.authorityLevel)})}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"admin-status-badge",style:{backgroundColor:Cr(e.status)},children:e.status.toUpperCase()})}),(0,s.jsx)("td",{className:"last-login-cell",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString("en-MY",{year:"numeric",month:"short",day:"numeric"}):"Never"}),(0,s.jsx)("td",{children:(0,s.jsxs)("div",{className:"admin-actions",children:[(0,s.jsx)("button",{onClick:()=>kr(e),className:"admin-action-btn edit-btn",title:"Edit Admin",children:"Edit"}),(0,s.jsx)("button",{onClick:()=>(async(e,t)=>{const n="active"===t?"disabled":"active",r="disabled"===n?"disable":"enable";if(window.confirm("Are you sure you want to ".concat(r," this admin account?")))try{const t=await f.updateAdminUserStatus(e,n);t.success?(await fr(),alert("Admin account has been ".concat("disabled"===n?"disabled":"enabled"," successfully."))):alert(t.message||"Failed to update admin status")}catch(Q){console.error("Error updating admin status:",Q),alert(Q.message||"Failed to update admin status. Please try again.")}})(e._id,e.status),className:"admin-action-btn ".concat("active"===e.status?"disable-btn":"enable-btn"),title:"active"===e.status?"Disable Admin":"Enable Admin",children:"active"===e.status?"Disable":"Enable"}),(0,s.jsx)("button",{onClick:()=>{return t=e._id,le(t),void se(!0);var t},className:"admin-action-btn reset-btn",title:"Reset Password",children:"Reset Pwd"}),(0,s.jsx)("button",{onClick:()=>(async(e,t)=>{const n='\u26a0\ufe0f DANGER: This will permanently delete the admin account "'.concat(t,'" from the system.\n\nThis action CANNOT be undone.\n\nType "DELETE" to confirm:');if("DELETE"===prompt(n))try{const n=await f.deleteAdminUser(e);n.success?(await fr(),alert('Admin account "'.concat(t,'" has been permanently deleted.'))):alert(n.message||"Failed to delete admin account")}catch(Q){console.error("Error deleting admin user:",Q),alert(Q.message||"Failed to delete admin account. Please try again.")}else alert('Deletion cancelled. You must type "DELETE" exactly to confirm.')})(e._id,e.username),className:"admin-action-btn delete-btn",title:"Delete Admin",disabled:"super_admin"===e.authorityLevel,children:"Delete"})]})})]},e._id))})]})})]}),(0,s.jsxs)("div",{className:"settings-card",children:[(0,s.jsx)("h3",{children:"System Settings"}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Auto-Archive Applications"}),(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"After 30 days"}),(0,s.jsx)("option",{children:"After 60 days"}),(0,s.jsx)("option",{children:"After 90 days"}),(0,s.jsx)("option",{children:"Never"})]})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Default Application Status"}),(0,s.jsxs)("select",{children:[(0,s.jsx)("option",{children:"Pending Review"}),(0,s.jsx)("option",{children:"Under Review"})]})]}),(0,s.jsx)("button",{className:"settings-btn",children:"Save Settings"})]}),"super_admin"===$&&(0,s.jsxs)("div",{className:"settings-card",children:[(0,s.jsx)("h3",{children:"Email Notification Settings"}),(0,s.jsx)("p",{className:"settings-description",children:"Configure email addresses to receive notifications when new tournament applications are submitted"}),(0,s.jsxs)("div",{className:"setting-item",style:{marginBottom:"15px"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,s.jsx)("span",{children:"Enable Email Notifications"}),(0,s.jsx)("button",{onClick:Gr,style:{padding:"5px 15px",borderRadius:"4px",border:"none",cursor:"pointer",backgroundColor:ke.enabled?"#28a745":"#dc3545",color:"white",fontSize:"12px",fontWeight:"bold"},children:ke.enabled?"ENABLED":"DISABLED"})]}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",display:"block",marginTop:"5px"},children:"When enabled, emails will be sent to all addresses below when a new tournament application is submitted"})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h4",{style:{marginBottom:"10px",fontSize:"14px"},children:"Add New Email Address"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"10px",marginBottom:"10px"},children:[(0,s.jsx)("input",{type:"email",placeholder:"Email address *",value:Ae,onChange:e=>_e(e.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,s.jsx)("input",{type:"text",placeholder:"Name (optional)",value:Pe,onChange:e=>Le(e.target.value),style:{padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,s.jsx)("button",{onClick:Vr,style:{padding:"8px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"Add Email"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{style:{marginBottom:"10px",fontSize:"14px"},children:["Configured Email Addresses (",(null===(e=ke.emailAddresses)||void 0===e?void 0:e.length)||0,")"]}),Te?(0,s.jsx)("p",{style:{textAlign:"center",color:"#666",padding:"20px"},children:"Loading..."}):ke.emailAddresses&&ke.emailAddresses.length>0?(0,s.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold"},children:"Email"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold"},children:"Name"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"left",fontWeight:"bold"},children:"Added Date"}),(0,s.jsx)("th",{style:{padding:"10px",textAlign:"center",fontWeight:"bold"},children:"Actions"})]})}),(0,s.jsx)("tbody",{children:ke.emailAddresses.map((e,t)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[(0,s.jsx)("td",{style:{padding:"10px"},children:e.email}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.name||"-"}),(0,s.jsx)("td",{style:{padding:"10px"},children:e.addedAt?new Date(e.addedAt).toLocaleDateString("en-MY"):"-"}),(0,s.jsx)("td",{style:{padding:"10px",textAlign:"center"},children:(0,s.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to remove this email from the notification list?"))try{const t=await fetch("".concat(f.baseURL,"/admin/notification-settings/email/").concat(e),{method:"DELETE"}),n=await t.json();n.success?(Ce(n.settings),alert("Email removed successfully!")):alert(n.error||"Failed to remove email")}catch(Q){console.error("Error removing notification email:",Q),alert("Failed to remove email. Please try again.")}})(e._id),style:{padding:"5px 15px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})})]},e._id||t))})]})}):(0,s.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:"No email addresses configured. Add email addresses above to receive notifications."})]})]}),(0,s.jsxs)("div",{className:"settings-card",children:[(0,s.jsx)("h3",{children:"Export Settings"}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Data Type"}),(0,s.jsxs)("select",{value:Se.dataType,onChange:e=>Tr("dataType",e.target.value),children:[(0,s.jsx)("option",{value:"applications",children:"Tournament Applications"}),(0,s.jsx)("option",{value:"organizations",children:"Registered Organizations"}),"super_admin"===$&&(0,s.jsx)("option",{value:"admins",children:"Admin Users"})]})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Export Format"}),(0,s.jsxs)("select",{value:Se.format,onChange:e=>Tr("format",e.target.value),children:[(0,s.jsx)("option",{value:"csv",children:"CSV (.csv)"}),(0,s.jsx)("option",{value:"excel",children:"Excel (.xlsx)"}),(0,s.jsx)("option",{value:"json",children:"JSON (.json)"})]})]}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Include Archived"}),(0,s.jsx)("input",{type:"checkbox",checked:Se.includeArchived,onChange:e=>Tr("includeArchived",e.target.checked)}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",display:"block",marginTop:"5px"},children:"Include archived/rejected items in export"})]}),(0,s.jsx)("button",{className:"settings-btn",onClick:Wr,disabled:Se.isExporting,style:{opacity:Se.isExporting?.6:1,cursor:Se.isExporting?"not-allowed":"pointer"},children:Se.isExporting?"Exporting...":"Export Data"})]}),(0,s.jsxs)("div",{className:"settings-card danger",children:[(0,s.jsx)("h3",{children:"Danger Zone"}),(0,s.jsxs)("div",{className:"setting-item",children:[(0,s.jsx)("label",{children:"Clear All Applications"}),(0,s.jsx)("p",{className:"danger-text",children:"This action cannot be undone"}),(0,s.jsx)("button",{className:"danger-btn",children:"Clear All Data"})]})]})]})]})})()]}),L&&_&&(0,s.jsx)("div",{className:"modal-overlay",onClick:Nr,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:_.eventTitle?"Application Details":"Organization Details"}),(0,s.jsx)("button",{className:"close-btn",onClick:Nr,children:"\xd7"})]}),(0,s.jsx)("div",{className:"modal-body",children:_.eventTitle?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Organiser Information"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Application ID:"}),(0,s.jsx)("span",{children:_.applicationId||_.id})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Organiser Name:"}),(0,s.jsx)("span",{children:_.organiserName||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Registration No.:"}),(0,s.jsx)("span",{children:_.registrationNo||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Telephone Contact:"}),(0,s.jsx)("span",{children:_.telContact||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Person in Charge:"}),(0,s.jsx)("span",{children:_.personInCharge||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Email:"}),(0,s.jsx)("span",{children:_.email||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Organising Partner:"}),(0,s.jsx)("span",{children:_.organisingPartner||"Not applicable"})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Event Details"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Event Title:"}),(0,s.jsx)("span",{children:_.eventTitle||"Not provided"})]}),_.tournamentPoster&&_.tournamentPoster.cloudinaryUrl&&(0,s.jsxs)("div",{className:"detail-item full-width",style:{marginTop:"15px",marginBottom:"15px"},children:[(0,s.jsx)("label",{children:"Tournament Poster:"}),(0,s.jsxs)("div",{style:{marginTop:"10px",border:"1px solid #ddd",borderRadius:"8px",padding:"10px",backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("img",{src:_.tournamentPoster.cloudinaryUrl,alt:"Tournament Poster",style:{maxWidth:"100%",height:"auto",borderRadius:"4px",display:"block",margin:"0 auto"}}),(0,s.jsxs)("div",{style:{marginTop:"10px",fontSize:"12px",color:"#6c757d",textAlign:"center"},children:[(0,s.jsx)("strong",{children:"File:"})," ",_.tournamentPoster.originalname||"Tournament Poster",_.tournamentPoster.size&&(0,s.jsxs)("span",{children:[" (",(_.tournamentPoster.size/1024).toFixed(2)," KB)"]})]})]})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Event Dates:"}),(0,s.jsx)("span",{children:_.eventStartDate&&_.eventEndDate?"".concat(new Date(_.eventStartDate).toLocaleDateString("en-MY")," - ").concat(new Date(_.eventEndDate).toLocaleDateString("en-MY")):_.eventStartDate?new Date(_.eventStartDate).toLocaleDateString("en-MY"):"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Location:"}),(0,s.jsx)("span",{children:_.city&&_.state?"".concat(_.city,", ").concat(_.state):_.state||_.city||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Venue:"}),(0,s.jsx)("span",{children:_.venue||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Level/Type:"}),(0,s.jsx)("span",{children:_.classification||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Expected Participants:"}),(0,s.jsx)("span",{children:_.expectedParticipants||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Sponsorships:"}),(0,s.jsx)("span",{children:_.sponsorships||"None"})]})]}),(0,s.jsxs)("div",{className:"detail-item full-width",children:[(0,s.jsx)("label",{children:"Event Summary/Purpose:"}),(0,s.jsx)("div",{className:"summary-text",children:_.eventSummary||"No summary provided"})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Tournament Categories & Entry Fees"}),_.categories&&_.categories.length>0?(0,s.jsx)("div",{className:"categories-grid",children:(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa",borderBottom:"2px solid #dee2e6"},children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"bold"},children:"Category"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"bold"},children:"Malaysian Entry Fee (RM)"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:"bold"},children:"International Entry Fee (RM)"})]})}),(0,s.jsx)("tbody",{children:_.categories.map((e,t)=>(0,s.jsxs)("tr",{style:{borderBottom:"1px solid #dee2e6"},children:[(0,s.jsx)("td",{style:{padding:"12px",fontWeight:"500"},children:e.category}),(0,s.jsxs)("td",{style:{padding:"12px",color:e.malaysianEntryFee>200?"#dc3545":"#000",fontWeight:e.malaysianEntryFee>200?"bold":"normal"},children:["RM ",e.malaysianEntryFee.toFixed(2),e.malaysianEntryFee>200&&(0,s.jsx)("span",{style:{color:"#dc3545",fontSize:"12px",marginLeft:"5px"},children:"(Exceeds RM200 cap)"})]}),(0,s.jsx)("td",{style:{padding:"12px"},children:e.internationalEntryFee>0?"RM ".concat(e.internationalEntryFee.toFixed(2)):"-"})]},t))})]})})}):(0,s.jsx)("div",{className:"no-categories",style:{padding:"20px",textAlign:"center",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"4px",fontStyle:"italic"},children:"No categories have been added to this tournament application."})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Fact Sheet"}),_.supportDocuments&&_.supportDocuments.length>0?(0,s.jsx)("div",{className:"support-documents-grid",children:(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"15px",marginTop:"15px"},children:_.supportDocuments.map((e,t)=>{console.log("=== Document Debug ==="),console.log("Document index:",t),console.log("Document object:",e),console.log("Document keys:",Object.keys(e)),console.log("Has data property:",!!e.data),console.log("Has url property:",!!e.url),console.log("Has secure_url property:",!!e.secure_url),console.log("Has path property:",!!e.path),console.log("===================");return(0,s.jsxs)("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",padding:"15px",backgroundColor:"#f8f9fa",display:"flex",flexDirection:"column",gap:"8px"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",wordBreak:"break-all"},children:e.originalname||e.filename||"Document ".concat(t+1)}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#666"},children:[e.size&&"Size: ".concat((e.size/1024/1024).toFixed(2)," MB"),e.mimetype&&" \u2022 Type: ".concat(e.mimetype.split("/")[1].toUpperCase())]}),(0,s.jsx)("div",{style:{fontSize:"11px",color:"#999"},children:e.uploadDate&&"Uploaded: ".concat(new Date(e.uploadDate).toLocaleDateString("en-MY"))}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:(0,s.jsx)("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("Clicked document:",e);try{if(e.data){console.log("Opening Base64 document:",e.originalname);const t=atob(e.data),n=new Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);const r=new Uint8Array(n),a=new Blob([r],{type:e.mimetype||"application/octet-stream"}),i=URL.createObjectURL(a);window.open(i,"_blank"),setTimeout(()=>URL.revokeObjectURL(i),6e4)}else if(e.secure_url||e.url||e.path){const t=e.secure_url||e.url||e.path;console.log("Opening URL document:",t),window.open(t,"_blank","noopener,noreferrer")}else console.error("Document has no data or URL:",e),alert("Unable to open document. No valid data or URL found.")}catch(Q){console.error("Error opening document:",Q),alert("Error opening document: "+Q.message)}},style:{backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",padding:"6px 12px",fontSize:"12px",cursor:"pointer",display:"inline-block"},onMouseEnter:e=>e.target.style.backgroundColor="#0056b3",onMouseLeave:e=>e.target.style.backgroundColor="#007bff",children:"View/Download"})})]},t)})})}):(0,s.jsx)("div",{className:"no-support-documents",style:{padding:"20px",textAlign:"center",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"4px",fontStyle:"italic"},children:"No fact sheet was uploaded with this tournament application."})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Consent & Agreement"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Data Consent:"}),(0,s.jsx)("span",{style:{color:_.dataConsent?"#28a745":"#dc3545",fontWeight:"bold"},children:_.dataConsent?"\u2713 Agreed":"\u2717 Not Agreed"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Terms & Conditions:"}),(0,s.jsx)("span",{style:{color:_.termsConsent?"#28a745":"#dc3545",fontWeight:"bold"},children:_.termsConsent?"\u2713 Agreed":"\u2717 Not Agreed"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"No Alcohol & Gambling:"}),(0,s.jsx)("span",{style:{color:_.noAlcoholGamblingConsent?"#28a745":"#dc3545",fontWeight:"bold"},children:_.noAlcoholGamblingConsent?"\u2713 Agreed":"\u2717 Not Agreed"})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Application Status"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Current Status:"}),(0,s.jsx)("span",{className:"status-badge-detail",style:{backgroundColor:br(_.status)},children:_.status})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Submitted Date:"}),(0,s.jsx)("span",{children:yr(_.submissionDate)})]})]}),or(_)&&sr(_.state)&&("Pending Review"===_.status||"Under Review"===_.status)&&(0,s.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#fef3c7",borderRadius:"8px",borderLeft:"4px solid #f59e0b",display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("span",{style:{fontSize:"24px"},children:"\ud83c\udfdb\ufe0f"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("strong",{style:{color:"#92400e",display:"block",marginBottom:"4px"},children:[_.classification," Level Tournament"]}),(0,s.jsxs)("span",{style:{color:"#78350f",fontSize:"14px"},children:["This application requires approval from the ",(0,s.jsx)("strong",{children:_.state})," State Association. MPA can only view the status."]})]})]}),or(_)&&!sr(_.state)&&("Pending Review"===_.status||"Under Review"===_.status)&&(0,s.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#dbeafe",borderRadius:"8px",borderLeft:"4px solid #3b82f6",display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("span",{style:{fontSize:"24px"},children:"\u2139\ufe0f"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("strong",{style:{color:"#1e40af",display:"block",marginBottom:"4px"},children:[_.classification," Level Tournament (No State Portal)"]}),(0,s.jsxs)("span",{style:{color:"#1e3a8a",fontSize:"14px"},children:[(0,s.jsx)("strong",{children:_.state})," does not have a registered State Association portal. MPA admin can approve/reject this application."]})]})]}),_.stateApprovedBy&&(0,s.jsxs)("div",{style:{marginTop:"15px",padding:"15px",backgroundColor:"#d1fae5",borderRadius:"8px",borderLeft:"4px solid #10b981"},children:[(0,s.jsxs)("strong",{style:{color:"#065f46"},children:["\u2713 Approved by ",_.stateApprovedBy," State Association"]}),_.stateApprovedDate&&(0,s.jsxs)("span",{style:{color:"#047857",fontSize:"14px",display:"block",marginTop:"4px"},children:["on ",yr(_.stateApprovedDate)]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Organization Information"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Organization ID:"}),(0,s.jsx)("span",{className:"organization-id-detail",children:_.organizationId||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Organization Name:"}),(0,s.jsx)("span",{children:_.organizationName||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Registration Number:"}),(0,s.jsx)("span",{children:_.registrationNo||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Applicant Full Name:"}),(0,s.jsx)("span",{children:_.applicantFullName||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Phone Number:"}),(0,s.jsx)("span",{children:_.phoneNumber||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Email:"}),(0,s.jsx)("span",{children:_.email||"Not provided"})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Address Information"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Address Line 1:"}),(0,s.jsx)("span",{children:_.addressLine1||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Address Line 2:"}),(0,s.jsx)("span",{children:_.addressLine2||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"City:"}),(0,s.jsx)("span",{children:_.city||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Postcode:"}),(0,s.jsx)("span",{children:_.postcode||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"State:"}),(0,s.jsx)("span",{children:_.state||"Not provided"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Country:"}),(0,s.jsx)("span",{children:_.country||"Not provided"})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Registration Documents"}),(0,s.jsxs)("div",{className:"detail-grid",children:[_.documents&&_.documents.length>0?_.documents.map((e,t)=>{var n;const r=e.data?"/api/documents/".concat(_.applicationId,"/").concat(t):e.url||e.path||"/uploads/".concat(e.filename);return(0,s.jsx)("div",{className:"detail-item document-item",style:{gridColumn:"1 / -1",marginBottom:"16px",padding:"16px",backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,s.jsx)("span",{style:{fontSize:"24px"},children:null!==(n=e.mimetype)&&void 0!==n&&n.startsWith("image/")?"\ud83d\uddbc\ufe0f":"\ud83d\udcc4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontWeight:"bold",color:"#495057"},children:e.originalName||"Registration Document"}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d"},children:[e.mimetype," \u2022 ",(e.size/1024/1024).toFixed(2)," MB"]}),(0,s.jsxs)("div",{style:{fontSize:"11px",color:"#868e96"},children:["Uploaded: ",e.uploadedAt?yr(e.uploadedAt):"Unknown date"]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,s.jsx)("button",{onClick:()=>{r?window.open(r,"_blank"):alert("File not available for viewing")},style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"View document in new tab",children:"\ud83d\udc41\ufe0f View"}),(0,s.jsx)("button",{onClick:()=>{if(r){const t=document.createElement("a");t.href=r,t.download=e.originalname||e.originalName||"registration-document",t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)}else alert("File not available for download")},style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"Download document",children:"\ud83d\udcbe Download"}),(0,s.jsx)("button",{onClick:async()=>{if(window.confirm('Are you sure you want to delete "'.concat(e.originalName||e.originalname||"this document",'"? This action cannot be undone.')))try{const e=await fetch("/api/organizations/".concat(_._id,"/documents/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}}),n=await e.json();if(e.ok){alert("Document deleted successfully");const e=await fetch("/api/organizations/".concat(_._id)).then(e=>e.json());P(e),w(t=>t.map(t=>t._id===_._id?e:t))}else alert("Failed to delete document: ".concat(n.error||"Unknown error"))}catch(Q){console.error("Error deleting document:",Q),alert("Error deleting document. Please try again.")}},style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"Delete document",children:"\ud83d\uddd1\ufe0f Delete"})]})]})},t)}):null,(!_.documents||0===_.documents.length)&&(0,s.jsx)("div",{className:"detail-item",style:{gridColumn:"1 / -1",padding:"16px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",color:"#856404",fontStyle:"italic",textAlign:"center"},children:"No registration documents uploaded"})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Registration Status"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Registered Date:"}),(0,s.jsx)("span",{children:_.registeredAt?yr(_.registeredAt):"Not available"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Status:"}),(0,s.jsx)("span",{className:"status-badge-detail",style:{backgroundColor:"#28a745"},children:"Active"})]})]})]}),_.documents&&_.documents.length>0&&(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Uploaded Documents"}),(0,s.jsx)("div",{className:"documents-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"15px",marginTop:"15px"},children:_.documents.map((e,t)=>{var n,r,a,i;return(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",backgroundColor:"#f9f9f9"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[(0,s.jsx)("span",{style:{fontSize:"20px",marginRight:"10px"},children:null!==(n=e.mimetype)&&void 0!==n&&n.includes("pdf")?"\ud83d\udcc4":null!==(r=e.mimetype)&&void 0!==r&&r.includes("image")?"\ud83d\uddbc\ufe0f":null!==(a=e.mimetype)&&void 0!==a&&a.includes("document")?"\ud83d\udcdd":"\ud83d\udccb"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333"},children:e.originalName||e.filename}),(0,s.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:e.size?"".concat((e.size/1024/1024).toFixed(2)," MB"):"Unknown size"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:[(0,s.jsx)("strong",{children:"Type:"})," ",e.mimetype||"Unknown"]}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#888"},children:[(0,s.jsx)("strong",{children:"Uploaded:"})," ",e.uploadedAt?new Date(e.uploadedAt).toLocaleDateString("en-MY"):"Unknown"]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(null===(i=e.mimetype)||void 0===i?void 0:i.includes("image"))&&(0,s.jsx)("button",{onClick:t=>{t.preventDefault(),window.open("/uploads/".concat(e.filename),"_blank","noopener,noreferrer")},style:{padding:"8px 12px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Preview"}),(0,s.jsx)("button",{onClick:t=>{t.preventDefault();const n=document.createElement("a");n.href="/uploads/".concat(e.filename),n.download=e.originalName||e.originalname||e.filename,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)},style:{padding:"8px 12px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Download"})]})]},t)})})]}),(!_.documents||0===_.documents.length)&&(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Uploaded Documents"}),(0,s.jsx)("div",{style:{textAlign:"center",padding:"30px",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"8px",fontStyle:"italic"},children:"No documents have been uploaded by this organization yet."})]})]})})]})}),E&&(0,s.jsx)("div",{className:"modal-overlay",onClick:jr,children:(0,s.jsxs)("div",{className:"modal-content rejection-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"\u26a0\ufe0f Reject Application"}),(0,s.jsx)("button",{className:"close-btn",onClick:jr,children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("p",{className:"rejection-warning",children:"You are about to reject this application. Please provide a clear reason that will be communicated to the applicant."}),(0,s.jsxs)("div",{className:"rejection-reason-input",children:[(0,s.jsx)("label",{htmlFor:"rejectionReason",children:"Rejection Reason *"}),(0,s.jsx)("textarea",{id:"rejectionReason",value:I,onChange:e=>D(e.target.value),placeholder:"Please provide a detailed reason for rejection...",rows:"4",className:"rejection-textarea",required:!0})]})]}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsxs)("div",{className:"button-group",children:[(0,s.jsx)("button",{className:"modal-btn modal-btn-cancel",onClick:jr,children:"Cancel"}),(0,s.jsx)("button",{className:"modal-btn modal-btn-reject",onClick:async()=>{if(I.trim())try{const e=p.find(e=>e.id===R||e.applicationId===R),t=(null===e||void 0===e?void 0:e.status)||"Unknown",n=p.map(e=>e.id===R||e.applicationId===R?h(h({},e),{},{status:"Rejected",remarks:I.trim()}):e);m(n),await f.updateApplicationStatus(R,"Rejected",I.trim()),e&&vr(e.applicationId||R,e.eventTitle||"Unknown Tournament",e.organiserName||"Unknown Organizer","Tournament application rejected: ".concat(I.trim()),{previousStatus:t,newStatus:"Rejected",venue:e.venue,eventDate:e.eventStartDate,rejectionReason:I.trim()}),ur(),z(!1),F(null),D("")}catch(Q){console.error("Failed to update application status:",Q),alert("Failed to update application status. Please try again.")}else alert("Please provide a reason for rejection.")},disabled:!I.trim(),children:"Reject Application"})]})})]})}),re&&te&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>ae(!1),children:(0,s.jsxs)("div",{className:"modal-content edit-admin-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"\u270f\ufe0f Edit Admin Account"}),(0,s.jsx)("button",{className:"close-btn",onClick:()=>ae(!1),children:"\xd7"})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("div",{className:"edit-admin-form",children:[(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Username *"}),(0,s.jsx)("input",{type:"text",value:te.username,onChange:e=>ne(h(h({},te),{},{username:e.target.value})),placeholder:"Enter username"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Email Address *"}),(0,s.jsx)("input",{type:"email",value:te.email,onChange:e=>ne(h(h({},te),{},{email:e.target.value})),placeholder:"Enter email address"})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Full Name"}),(0,s.jsx)("input",{type:"text",value:te.fullName||"",onChange:e=>ne(h(h({},te),{},{fullName:e.target.value})),placeholder:"Enter full name"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Authority Level *"}),(0,s.jsxs)("select",{value:te.authorityLevel,onChange:e=>ne(h(h({},te),{},{authorityLevel:e.target.value})),children:[(0,s.jsx)("option",{value:"admin",children:"Admin"}),(0,s.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,s.jsx)("option",{value:"assessment_admin",children:"Assessment Admin"})]})]})]}),(0,s.jsx)("div",{className:"form-row",children:(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Account Status"}),(0,s.jsxs)("select",{value:te.status,onChange:e=>ne(h(h({},te),{},{status:e.target.value})),children:[(0,s.jsx)("option",{value:"active",children:"Active"}),(0,s.jsx)("option",{value:"disabled",children:"Disabled"}),(0,s.jsx)("option",{value:"suspended",children:"Suspended"})]})]})})]})}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsxs)("div",{className:"button-group",children:[(0,s.jsx)("button",{className:"modal-btn modal-btn-cancel",onClick:()=>ae(!1),children:"Cancel"}),(0,s.jsx)("button",{className:"modal-btn modal-btn-save",onClick:()=>{te.username.trim()&&te.email.trim()?(ee(e=>e.map(e=>e.id===te.id?h({},te):e)),ae(!1),ne(null),alert("Admin account updated successfully.")):alert("Username and email are required.")},children:"Save Changes"})]})})]})}),ie&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>se(!1),children:(0,s.jsxs)("div",{className:"modal-content reset-password-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"\ud83d\udd12 Reset Password"}),(0,s.jsx)("button",{className:"close-btn",onClick:()=>se(!1),children:"\xd7"})]}),(0,s.jsx)("div",{className:"modal-body",children:(0,s.jsxs)("div",{className:"reset-password-info",children:[(0,s.jsx)("p",{className:"reset-warning",children:"Are you sure you want to reset this admin's password?"}),(0,s.jsx)("p",{className:"reset-details",children:"A password reset email will be sent to the admin's registered email address. They will need to follow the instructions in the email to create a new password."})]})}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsxs)("div",{className:"button-group",children:[(0,s.jsx)("button",{className:"modal-btn modal-btn-cancel",onClick:()=>se(!1),children:"Cancel"}),(0,s.jsx)("button",{className:"modal-btn modal-btn-reset",onClick:()=>{const e=Z.find(e=>e.id===oe);e&&alert("Password reset email has been sent to ".concat(e.email)),se(!1),le(null)},children:"Send Reset Email"})]})})]})}),en&&nn&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"0",width:"90%",maxWidth:"600px",border:"2px solid #28a745",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#28a745",color:"#fff",padding:"20px",borderRadius:"10px 10px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:"\u2705 Temporary Code Generated!"}),(0,s.jsx)("button",{onClick:Ln,style:{background:"none",border:"none",color:"#fff",fontSize:"28px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,s.jsxs)("div",{style:{padding:"30px",textAlign:"center"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"2px solid #28a745",borderRadius:"8px",padding:"20px",marginBottom:"25px"},children:[(0,s.jsx)("div",{style:{fontSize:"16px",color:"#666",marginBottom:"8px"},children:"\ud83d\udccb Temporary Assessment Code"}),(0,s.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#28a745",fontFamily:"monospace",letterSpacing:"4px",marginBottom:"15px"},children:nn.tempCode}),(0,s.jsx)("button",{onClick:Pn,style:{backgroundColor:"#17a2b8",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",margin:"0 auto"},children:"\ud83d\udccb Copy to Clipboard"})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#e3f2fd",borderRadius:"8px",padding:"20px",marginBottom:"20px",textAlign:"left"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 15px 0",color:"#1976d2"},children:"Assessment Details"}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("strong",{children:"\ud83d\udcda Title:"})," ",nn.parentTitle]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("strong",{children:"\u23f1\ufe0f Time Limit:"})," ",nn.timeLimit," minutes"]}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("strong",{children:"\ud83d\udd52 Expires at:"})," ",nn.expiryDate.toLocaleString()]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"\u23f0 Valid for:"})," 24 hours"]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"20px",marginBottom:"25px",textAlign:"left"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#856404"},children:"\u26a0\ufe0f Important Notes:"}),(0,s.jsxs)("ul",{style:{margin:0,paddingLeft:"20px"},children:[(0,s.jsx)("li",{children:"This code will automatically expire in 24 hours"}),(0,s.jsx)("li",{children:"Each temporary code can only be used once"}),(0,s.jsx)("li",{children:"Share this code with assessment participants"}),(0,s.jsx)("li",{children:"Code starts with 'T' to indicate it's temporary"})]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[(0,s.jsx)("button",{onClick:Pn,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"\ud83d\udccb Copy Code"}),(0,s.jsx)("button",{onClick:Ln,style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Close"})]})]})]})}),on&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"0",width:"95%",maxWidth:"1000px",maxHeight:"90vh",border:"2px solid #17a2b8",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#17a2b8",color:"#fff",padding:"20px",borderRadius:"10px 10px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:"Manage Temporary Codes"}),(0,s.jsx)("button",{onClick:En,style:{background:"none",border:"none",color:"#fff",fontSize:"28px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,s.jsx)("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:un?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,s.jsx)("p",{children:"Loading temporary codes..."})}):0===cn.length?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"40px",color:"#666"},children:[(0,s.jsx)("h3",{children:"No Active Temporary Codes"}),(0,s.jsx)("p",{children:"All temporary codes have expired or none have been generated yet."}),(0,s.jsx)("p",{children:"Generate a new temporary code from any saved assessment form."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 10px 0",color:"#1976d2"},children:"Summary"}),(0,s.jsxs)("p",{style:{margin:0},children:[(0,s.jsx)("strong",{children:cn.length})," active temporary codes \u2022 All codes expire automatically after 24 hours"]})]}),(0,s.jsx)("div",{style:{display:"grid",gap:"15px",gridTemplateColumns:"repeat(auto-fit, minmax(450px, 1fr))"},children:cn.map(e=>{const t=new Date(e.expiresAt),n=e.timeRemaining,r=Math.floor(n/36e5),a=Math.floor(n%36e5/6e4),i=n<72e5;return(0,s.jsxs)("div",{style:{border:i?"2px solid #ffc107":"2px solid #17a2b8",borderRadius:"8px",padding:"20px",backgroundColor:i?"#fff3cd":"#f8f9fa"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",fontFamily:"monospace",color:"#17a2b8",letterSpacing:"2px"},children:e.tempCode}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,s.jsx)("button",{onClick:()=>{return t=e.tempCode,navigator.clipboard.writeText(t),void alert("Temporary code copied to clipboard!");var t},style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Copy"}),(0,s.jsx)("button",{onClick:()=>(async(e,t)=>{const n='Are you sure you want to delete the temporary code "'.concat(t,'"?\n\nThis action cannot be undone.');if(window.confirm(n))try{await f.deleteTemporaryCode(e),dn(t=>t.filter(t=>t._id!==e)),alert("Temporary code deleted successfully!")}catch(Q){console.error("Error deleting temporary code:",Q),alert("Failed to delete temporary code: "+(Q.message||"Unknown error"))}})(e._id,e.tempCode),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Delete"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,s.jsx)("strong",{children:"Assessment:"})," ",e.parentFormTitle]}),(0,s.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,s.jsx)("strong",{children:"Original Code:"})," ",e.parentFormCode]}),(0,s.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,s.jsx)("strong",{children:"Time Limit:"})," ",e.timeLimit," minutes"]})]}),(0,s.jsxs)("div",{style:{backgroundColor:i?"#ffeaa7":"#e3f2fd",padding:"12px",borderRadius:"6px",fontSize:"14px"},children:[(0,s.jsxs)("div",{style:{marginBottom:"6px"},children:[(0,s.jsx)("strong",{children:"Expires:"})," ",t.toLocaleString()]}),(0,s.jsxs)("div",{style:{marginBottom:"6px"},children:[(0,s.jsx)("strong",{children:"Time Remaining:"}),(0,s.jsxs)("span",{style:{color:i?"#d68910":"#28a745",fontWeight:"bold",marginLeft:"5px"},children:[r,"h ",a,"m"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Generated:"})," ",new Date(e.createdAt).toLocaleString()]})]}),i&&(0,s.jsx)("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:"#d4910",color:"#856404",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",textAlign:"center"},children:"\u26a0\ufe0f EXPIRING SOON - Less than 2 hours remaining!"})]},e._id)})})]})}),(0,s.jsxs)("div",{style:{padding:"20px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"Tip: Temporary codes automatically delete when they expire"}),(0,s.jsx)("button",{onClick:En,style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Close"})]})]})}),It&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:2e3,display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"#fff",borderRadius:"12px",padding:"0",width:"90%",maxWidth:"900px",maxHeight:"90vh",border:"2px solid #000",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#000",color:"#fff",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[(0,s.jsxs)("h2",{style:{margin:0,fontSize:"20px",fontWeight:"bold"},children:["Edit Assessment Form: ",null===Mt||void 0===Mt?void 0:Mt.code]}),(0,s.jsx)("button",{onClick:Cn,style:{backgroundColor:"transparent",color:"#fff",border:"1px solid #fff",padding:"8px 12px",cursor:"pointer",fontSize:"16px",borderRadius:"4px"},children:"\xd7 Close"})]}),(0,s.jsxs)("div",{style:{padding:"20px 30px",flex:1,overflowY:"auto",minHeight:0},children:[(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"25px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-title-edit",style:{fontWeight:"bold",marginBottom:"8px",display:"block"},children:"Assessment Title *"}),(0,s.jsx)("input",{type:"text",id:"assessment-title-edit",value:Bt,onChange:e=>qt(e.target.value),placeholder:"Enter assessment title",style:{width:"100%",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"16px"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"25px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-title-malay-edit",style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontStyle:"italic"},children:"Assessment Title (Bahasa Melayu)"}),(0,s.jsx)("input",{type:"text",id:"assessment-title-malay-edit",value:Ut,onChange:e=>Wt(e.target.value),placeholder:"Masukkan tajuk penilaian dalam Bahasa Melayu",style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"16px",fontStyle:"italic"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"25px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-subtitle-edit",style:{fontWeight:"bold",marginBottom:"8px",display:"block"},children:"Sub-Title (Optional)"}),(0,s.jsx)("input",{type:"text",id:"assessment-subtitle-edit",value:Ht,onChange:e=>Vt(e.target.value),placeholder:"e.g., Level 1 Certification, Beginner Course",style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"25px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-subtitle-malay-edit",style:{fontWeight:"bold",marginBottom:"8px",display:"block",fontStyle:"italic"},children:"Sub-Title (Bahasa Melayu)"}),(0,s.jsx)("input",{type:"text",id:"assessment-subtitle-malay-edit",value:Gt,onChange:e=>Yt(e.target.value),placeholder:"Cth: Pensijilan Tahap 1, Kursus Pemula",style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",fontStyle:"italic"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"25px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-time-limit-edit",style:{fontWeight:"bold",marginBottom:"8px",display:"block"},children:"Time Limit (minutes) *"}),(0,s.jsx)("input",{id:"assessment-time-limit-edit",type:"number",value:Qt,onChange:e=>Xt(parseInt(e.target.value)||30),min:"1",max:"180",style:{width:"200px",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"16px"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"25px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"8px",display:"block"},children:"Passing Score (%) *"}),(0,s.jsx)("input",{type:"number",value:$t,onChange:e=>Zt(parseInt(e.target.value)||70),min:"1",max:"100",style:{width:"200px",padding:"12px",border:"2px solid #000",borderRadius:"4px",fontSize:"16px"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px",marginTop:"4px",display:"block"},children:"Minimum percentage score required to pass the assessment"})]}),(0,s.jsxs)("div",{style:{marginBottom:"25px"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsxs)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:["Questions (",Kt.length,")"]}),(0,s.jsx)("button",{onClick:()=>{const e={id:Date.now(),question:"",section:"",options:[{text:"",malay:""},{text:"",malay:""},{text:"",malay:""},{text:"",malay:""}],correctAnswer:""};Jt([...Kt,e])},style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"10px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"+ Add Question"})]}),0===Kt.length?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#666",border:"2px dashed #ccc",borderRadius:"8px"},children:(0,s.jsx)("p",{children:'No questions yet. Click "Add Question" to get started.'})}):(0,s.jsx)("div",{style:{display:"grid",gap:"20px"},children:Kt.map((e,t)=>(0,s.jsxs)("div",{style:{border:"2px solid #000",borderRadius:"8px",padding:"20px",backgroundColor:"#f9f9f9"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,s.jsxs)("h4",{style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:["Question ",t+1]}),(0,s.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to remove this question?")){const t=Kt.filter((t,n)=>n!==e);Jt(t)}})(t),style:{backgroundColor:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block"},children:"Section"}),(0,s.jsx)("input",{type:"text",value:e.section,onChange:e=>An(t,"section",e.target.value),placeholder:"e.g., Rules, Equipment, Scoring",style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block"},children:"Question"}),(0,s.jsx)("textarea",{value:e.question,onChange:e=>An(t,"question",e.target.value),placeholder:"Enter your question here",rows:"3",style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",resize:"vertical"}})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block",fontStyle:"italic"},children:"Question (Bahasa Melayu)"}),(0,s.jsx)("textarea",{value:e.questionMalay||"",onChange:e=>An(t,"questionMalay",e.target.value),placeholder:"Masukkan soalan dalam Bahasa Melayu di sini",rows:"3",style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",fontStyle:"italic",resize:"vertical"}})]}),e.imageUrl&&(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block"},children:"Question Image"}),(0,s.jsxs)("div",{style:{border:"2px solid #ddd",borderRadius:"8px",padding:"10px",textAlign:"center"},children:[(0,s.jsx)("img",{src:e.imageUrl,alt:"Question diagram",style:{maxWidth:"100%",maxHeight:"300px",objectFit:"contain",borderRadius:"4px"}}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:(0,s.jsx)("span",{style:{backgroundColor:"#007bff",color:"white",padding:"4px 12px",borderRadius:"4px",fontSize:"12px"},children:"\ud83d\udcf7 Image Attached"})})]})]}),(0,s.jsxs)("div",{className:"form-group",style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block"},children:"Answer Options"}),(0,s.jsx)("div",{style:{display:"grid",gap:"8px"},children:e.options.map((n,r)=>(0,s.jsxs)("div",{style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"15px",marginBottom:"10px"},children:[(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:(0,s.jsxs)("span",{style:{fontWeight:"bold",minWidth:"30px",fontSize:"16px"},children:[String.fromCharCode(65+r),":"]})}),(0,s.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,s.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",display:"block",marginBottom:"4px"},children:"English *"}),(0,s.jsx)("input",{type:"text",value:"string"===typeof n?n:n.text,onChange:n=>{const a=[...e.options];"string"===typeof a[r]?a[r]={text:n.target.value,malay:""}:a[r]=h(h({},a[r]),{},{text:n.target.value}),An(t,"options",a)},placeholder:"Option ".concat(String.fromCharCode(65+r)," in English"),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{fontSize:"12px",fontWeight:"bold",color:"#666",display:"block",marginBottom:"4px",fontStyle:"italic"},children:"Bahasa Melayu"}),(0,s.jsx)("input",{type:"text",value:"object"===typeof n&&n.malay||"",onChange:n=>{const a=[...e.options];"string"===typeof a[r]?a[r]={text:a[r],malay:n.target.value}:a[r]=h(h({},a[r]),{},{malay:n.target.value}),An(t,"options",a)},placeholder:"Pilihan ".concat(String.fromCharCode(65+r)," dalam Bahasa Melayu"),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",fontStyle:"italic"}})]})]},r))})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{style:{fontWeight:"bold",marginBottom:"5px",display:"block"},children:"Correct Answer"}),(0,s.jsxs)("select",{value:e.correctAnswer,onChange:e=>An(t,"correctAnswer",e.target.value),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},children:[(0,s.jsx)("option",{value:"",children:"Select correct answer"}),e.options.map((e,t)=>(0,s.jsxs)("option",{value:"string"===typeof e?e:e.text,children:[String.fromCharCode(65+t),": ","string"===typeof e?e:e.text]},t))]})]})]},e.id||t))})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"flex-end",gap:"12px",flexShrink:0},children:[(0,s.jsx)("button",{onClick:Cn,style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{try{if(!Bt.trim())return void alert("Please enter an assessment title before saving the form.");if(0===Kt.length)return void alert("Please add at least one question before saving the form.");const e={code:Mt.code,title:Bt.trim(),titleMalay:Ut.trim(),subtitle:Ht.trim(),subtitleMalay:Gt.trim(),questions:[...Kt],timeLimit:Qt,passingScore:$t};console.log("Updating form:",e);const t=(await f.updateAssessmentForm(Mt._id,e)).data;xt(e=>(Array.isArray(e)?e:[]).map(e=>e.code===Mt.code?t:e));const n="\u2705 FORM UPDATED SUCCESSFULLY!\n\n"+"Form Code: ".concat(t.code,"\n")+"Title: ".concat(t.title,"\n")+"Questions: ".concat(t.questions.length,"\n\n")+'\ud83d\udd12 IMPORTANT SECURITY GUIDELINES:\n\n1) Do not share the original assessment or assessment code with participants.\n\n2) Click the "Generate Temporary Code" button to obtain a code that starts with "T." This code will expire after 24 hours to ensure the system maintains the highest level of data integrity.\n\nThe form has been updated with your changes.';alert(n),Cn()}catch(Q){console.error("Error updating assessment form:",Q),alert("Error updating form. Please try again.")}},style:{backgroundColor:"#007bff",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Save Changes"})]})]})}),pn&&mn&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},onClick:()=>fn(!1),children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"0",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{style:{padding:"20px 24px",borderBottom:"1px solid #dee2e6",backgroundColor:"#f8f9fa"},children:(0,s.jsx)("h3",{style:{margin:0,fontSize:"20px",fontWeight:"bold",color:"#212529"},children:"Assessment Submission Details"})}),(0,s.jsxs)("div",{style:{padding:"24px",overflow:"auto",flex:1},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #dee2e6"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"bold",color:"#495057"},children:"Participant Information"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Name:"})," ",mn.participantName||"Unknown"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"IC Number:"})," ",mn.participantIcNumber||"N/A"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Form Code:"})," ",mn.formCode||"N/A"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Submission Date:"})," ",new Date(mn.completedAt||mn.submittedAt).toLocaleString()]})]})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #dee2e6"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:"bold",color:"#495057"},children:"Assessment Results"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Score:"})," ",mn.correctAnswers||0," / ",mn.totalQuestions||0]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Percentage:"})," ",mn.score||0,"%"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Status:"}),(0,s.jsx)("span",{style:{marginLeft:"8px",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:(mn.score||0)>=70?"#28a745":"#dc3545",color:"white"},children:(mn.score||0)>=70?"PASSED":"FAILED"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Time Spent:"})," ",Math.floor((mn.timeSpent||0)/60),"m ",(mn.timeSpent||0)%60,"s"]})]})]}),((null===(t=mn.results)||void 0===t?void 0:t.answers)||mn.answers)&&(Array.isArray(mn.answers)?mn.answers.length>0:Object.keys((null===(n=mn.results)||void 0===n?void 0:n.answers)||mn.answers||{}).length>0)&&(0,s.jsxs)("div",{style:{backgroundColor:"#fff",padding:"20px",borderRadius:"8px",border:"1px solid #dee2e6",maxHeight:"60vh",overflow:"auto"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:"bold",color:"#495057"},children:"Question Review & Answers"}),(0,s.jsx)("div",{style:{display:"grid",gap:"20px"},children:((e,t)=>{let n=[];const r=(null===(e=mn.userInfo)||void 0===e?void 0:e.formCode)||mn.formCode,a=gt.find(e=>e.code===r),i=(null===a||void 0===a?void 0:a.questions)||[];if(Array.isArray(mn.answers))n=mn.answers.map((e,t)=>{const n=i.find(t=>t.id===e.questionId),r=(null===n||void 0===n?void 0:n.correctAnswer)||"",a=(e.selectedAnswer||"").toString().trim().toLowerCase()===r.toString().trim().toLowerCase();return{questionId:e.questionId,questionText:(null===n||void 0===n?void 0:n.question)||"Question ".concat(t+1),userAnswer:e.selectedAnswer||"No answer",isCorrect:a,correctAnswer:r,index:t}});else if(null!==(t=mn.results)&&void 0!==t&&t.answers||mn.answers){var o;const e=(null===(o=mn.results)||void 0===o?void 0:o.answers)||mn.answers||{};n=Object.entries(e).map((e,t)=>{let[n,r]=e;const a=i.find(e=>e.id===parseInt(n)),s=(null===a||void 0===a?void 0:a.correctAnswer)||"",o="string"===typeof r?r:(null===r||void 0===r?void 0:r.selectedAnswer)||"No answer",l=o.toString().trim().toLowerCase()===s.toString().trim().toLowerCase();return{questionId:n,questionText:(null===a||void 0===a?void 0:a.question)||"Question ".concat(t+1),userAnswer:o,isCorrect:l,correctAnswer:s,index:t}})}return n.map(e=>(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",backgroundColor:e.isCorrect?"#f0f8f0":"#fff8f0"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"15px"},children:[(0,s.jsx)("div",{style:{flex:1},children:(0,s.jsxs)("div",{style:{fontSize:"16px",color:"#333",marginBottom:"12px",fontWeight:"bold",lineHeight:"1.4"},children:["Q",e.index+1,": ",e.questionText]})}),(0,s.jsx)("div",{style:{backgroundColor:e.isCorrect?"#28a745":"#dc3545",color:"white",padding:"6px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",flexShrink:0,marginLeft:"16px"},children:e.isCorrect?"CORRECT":"INCORRECT"})]}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"8px"},children:"User's Answer:"}),(0,s.jsx)("div",{style:{padding:"10px 15px",backgroundColor:e.isCorrect?"#e8f5e8":"#ffe8e8",border:"1px solid ".concat(e.isCorrect?"#4caf50":"#f44336"),borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:e.userAnswer})]}),e.correctAnswer&&(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"8px"},children:"Correct Answer:"}),(0,s.jsx)("div",{style:{padding:"10px 15px",backgroundColor:"#e8f5e8",border:"1px solid #4caf50",borderRadius:"6px",fontSize:"14px",fontWeight:"500"},children:e.correctAnswer})]}),(0,s.jsxs)("div",{style:{marginTop:"12px",fontSize:"12px",color:"#666",fontStyle:"italic"},children:["Question ID: ",e.questionId]})]},e.questionId))})()})]})]}),(0,s.jsx)("div",{style:{padding:"16px 24px",borderTop:"1px solid #dee2e6",backgroundColor:"#f8f9fa",display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)("button",{onClick:()=>fn(!1),style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Close"})})]})}),an&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"10px",padding:"0",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#dc3545",color:"#fff",padding:"20px",borderRadius:"10px 10px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:"bold"},children:"Important Security Guidelines"}),(0,s.jsx)("button",{onClick:zn,style:{background:"none",border:"none",color:"#fff",fontSize:"28px",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,s.jsxs)("div",{style:{padding:"30px",fontSize:"16px",lineHeight:"1.6"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"20px",marginBottom:"25px"},children:[(0,s.jsx)("h3",{style:{color:"#856404",margin:"0 0 15px 0",fontSize:"18px",fontWeight:"bold"},children:"Please read these security guidelines before saving your assessment:"}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsx)("strong",{style:{color:"#dc3545"},children:"1)"})," Do not share the original assessment or assessment code with participants."]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{style:{color:"#dc3545"},children:"2)"}),' Click the "Generate Temporary Code" button to obtain a code that starts with "T." This code will expire after 24 hours to ensure the system maintains the highest level of data integrity.']})]}),(0,s.jsxs)("div",{style:{backgroundColor:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"8px",padding:"15px",fontSize:"14px",color:"#6c757d"},children:[(0,s.jsx)("strong",{children:"Why this matters:"})," Using temporary codes ensures that assessment access is controlled and time-limited, preventing unauthorized access and maintaining the integrity of your assessment results."]})]}),(0,s.jsxs)("div",{style:{padding:"20px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("button",{onClick:zn,style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Cancel"}),(0,s.jsx)("button",{onClick:async()=>{try{if(console.log("Starting form save process..."),console.log("Questions:",nt),console.log("Time limit:",at),!st.trim())return void alert("Please provide an assessment title.");if(0===nt.length)return void alert("Please add at least one question to the assessment.");const e=nt.filter(e=>!e.question.trim()||!e.section.trim()||0===e.options.length||!e.correctAnswer||!e.correctAnswer.trim());if(e.length>0)return void alert("Please ensure all questions have a question text, section, at least one option, and one correct answer.");console.log("Validation passed");const t="true"===window.sessionStorage.getItem("isEditingForm"),n=window.sessionStorage.getItem("editingFormCode");console.log("Is editing:",t),console.log("Editing form code:",n);const r={title:st.trim(),titleMalay:lt.trim(),subtitle:dt.trim(),subtitleMalay:ht.trim(),questions:nt.map(e=>h(h({},e),{},{question:e.question.trim(),section:e.section.trim()})),timeLimit:at,passingScore:ft};t&&n&&(r.code=n,console.log("Updating existing form:",n),console.log("Form data to update:",r)),console.log("Form data to send:",r),console.log("Calling API...");const a=await f.saveAssessmentForm(r);console.log("API response:",a);const i=a.data;return console.log("Saved form:",i),t&&n?(xt(e=>(Array.isArray(e)?e:[]).map(e=>e.code===n?i:e)),alert("Form updated successfully!\n\nForm Code: ".concat(i.code,"\nTitle: ").concat(i.title,"\nQuestions: ").concat(i.questions.length,"\n\nThe existing form has been updated with your changes.")),window.sessionStorage.removeItem("isEditingForm"),window.sessionStorage.removeItem("editingFormCode"),ot(""),ut(""),rt([]),it(30),mt(70)):(xt(e=>[...Array.isArray(e)?e:[],i]),alert("Form saved successfully! Form Code: ".concat(i.code,"\n\nUsers can use this code to access the assessment."))),ot(""),ut(""),rt([]),it(30),mt(70),sn(!1),i.code}catch(Q){return console.error("Error saving assessment form:",Q),console.error("Error details:",Q.message),console.error("Error stack:",Q.stack),alert("Error saving form. Please try again."),sn(!1),null}},style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"I Understand - Save Assessment Form"})]})]})}),M&&(0,s.jsx)("div",{className:"modal-overlay",onClick:wr,children:(0,s.jsxs)("div",{className:"modal-content rejection-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Request Additional Information"}),(0,s.jsx)("button",{className:"close-btn",onClick:wr,children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("p",{className:"rejection-warning",children:"You are requesting additional information from the applicant. Please specify clearly what information is needed."}),(0,s.jsxs)("div",{className:"rejection-reason-input",children:[(0,s.jsx)("label",{htmlFor:"requiredInfoDetails",children:"Required Information Details *"}),(0,s.jsx)("textarea",{id:"requiredInfoDetails",value:U,onChange:e=>W(e.target.value),placeholder:"Please specify what additional information is required (e.g., 'Please provide venue permits and insurance documentation', 'Need clarification on tournament format and age categories', etc.)...",rows:"5",className:"rejection-textarea",required:!0})]}),(0,s.jsxs)("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#e8f4fd",borderRadius:"4px",fontSize:"14px"},children:[(0,s.jsx)("strong",{children:"\ud83d\udca1 Tip:"})," Be specific about what documents, details, or clarifications are needed. This will help the organizer provide the correct information quickly."]})]}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsxs)("div",{className:"button-group",children:[(0,s.jsx)("button",{className:"modal-btn modal-btn-cancel",onClick:wr,children:"Cancel"}),(0,s.jsx)("button",{className:"modal-btn modal-btn-approve",onClick:async()=>{if(U.trim())try{const e=p.find(e=>e.id===B||e.applicationId===B),t=(null===e||void 0===e?void 0:e.status)||"Unknown",n=p.map(e=>e.id===B||e.applicationId===B?h(h({},e),{},{status:"More Info Required",requiredInfo:U.trim()}):e);m(n),await f.updateApplicationStatus(B,"More Info Required",U.trim()),e&&vr(e.applicationId||B,e.eventTitle||"Unknown Tournament",e.organiserName||"Unknown Organizer","Additional information requested: ".concat(U.trim()),{previousStatus:t,newStatus:"More Info Required",venue:e.venue,eventDate:e.eventStartDate,requiredInfo:U.trim()}),O(!1),q(null),W(""),alert("Additional information has been requested successfully. An email notification has been sent to the organizer at ".concat(e&&e.email?e.email:"their registered email address","."))}catch(Q){console.error("Failed to update application status:",Q),alert("Failed to update application status. Please try again.")}else alert("Please specify what additional information is required.")},disabled:!U.trim(),style:{backgroundColor:"#17a2b8",borderColor:"#17a2b8"},children:"Request Information"})]})})]})}),ze&&(0,s.jsx)("div",{className:"modal-overlay",onClick:xr,children:(0,s.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",width:"90%",backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsxs)("div",{className:"modal-header",style:{padding:"20px",borderBottom:"1px solid #ddd",backgroundColor:"#f8f9fa",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsx)("h2",{style:{margin:0,color:"#333",fontSize:"18px"},children:"\ud83d\udce7 Send Message to Organiser"}),(0,s.jsx)("button",{onClick:xr,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"0",lineHeight:"1"},children:"\xd7"})]}),(0,s.jsx)("div",{className:"modal-body",style:{padding:"20px"},children:(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),Me(!0),Be("");try{const e=localStorage.getItem("adminUsername")||"Admin",t={fromType:"admin",fromId:e,fromName:"Admin - ".concat(e),toType:"organiser",toId:Fe.recipientEmail,toName:Fe.recipientName,subject:Fe.subject,content:Fe.content,priority:Fe.priority,category:Fe.category,relatedApplicationId:Fe.relatedApplicationId||null};await f.sendMessage(t),alert("Message sent successfully to ".concat(Fe.recipientName,"!")),Re(!1),Ie({recipientEmail:"",recipientName:"",subject:"",content:"",priority:"normal",category:"general",relatedApplicationId:""})}catch(Q){console.error("Failed to send message:",Q),Be(Q.message||"Failed to send message. Please try again.")}finally{Me(!1)}},children:[(0,s.jsxs)("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#e8f4fd",borderRadius:"6px"},children:[(0,s.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#0056b3"},children:"Message Recipient"}),(0,s.jsxs)("div",{style:{fontSize:"14px"},children:[(0,s.jsx)("strong",{children:"Organization:"})," ",Fe.recipientName]}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#666"},children:[(0,s.jsx)("strong",{children:"Email:"})," ",Fe.recipientEmail]}),Fe.relatedApplicationId&&(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#666"},children:[(0,s.jsx)("strong",{children:"Related Application:"})," ",Fe.relatedApplicationId]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"15px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Priority Level *"}),(0,s.jsxs)("select",{name:"priority",value:Fe.priority,onChange:gr,required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,s.jsx)("option",{value:"low",children:"\ud83d\udd35 Low"}),(0,s.jsx)("option",{value:"normal",children:"\ud83d\udfe2 Normal"}),(0,s.jsx)("option",{value:"high",children:"\ud83d\udfe0 High"}),(0,s.jsx)("option",{value:"urgent",children:"\ud83d\udd34 Urgent"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Category *"}),(0,s.jsxs)("select",{name:"category",value:Fe.category,onChange:gr,required:!0,style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,s.jsx)("option",{value:"general",children:"\ud83d\udcac General"}),(0,s.jsx)("option",{value:"tournament",children:"\ud83c\udfc6 Tournament"}),(0,s.jsx)("option",{value:"technical",children:"\u2699\ufe0f Technical"}),(0,s.jsx)("option",{value:"urgent",children:"\u26a1 Urgent"})]})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Subject *"}),(0,s.jsx)("input",{type:"text",name:"subject",value:Fe.subject,onChange:gr,placeholder:"Enter message subject",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Message Content *"}),(0,s.jsx)("textarea",{name:"content",value:Fe.content,onChange:gr,placeholder:"Enter your message content here...",required:!0,rows:"6",style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box",resize:"vertical"}}),(0,s.jsx)("small",{style:{color:"#666",fontSize:"12px"},children:"Be clear and concise in your message. The organiser will receive this via email and in their portal inbox."})]}),Oe&&(0,s.jsxs)("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"10px",borderRadius:"4px",marginBottom:"15px",fontSize:"14px"},children:["\u26a0\ufe0f ",Oe]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"},children:[(0,s.jsx)("button",{type:"button",onClick:xr,disabled:De,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:De?"not-allowed":"pointer",opacity:De?.6:1},children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:De||!Fe.subject.trim()||!Fe.content.trim(),style:{padding:"10px 20px",backgroundColor:!De&&Fe.subject.trim()&&Fe.content.trim()?"#007bff":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:!De&&Fe.subject.trim()&&Fe.content.trim()?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"8px"},children:De?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{children:"Sending..."})}):(0,s.jsx)(s.Fragment,{children:"\ud83d\udce4 Send Message"})})]})]})})]})})]});var ea,ta},so=e=>{let{setCurrentPage:t}=e;const n={Johor:["Johor Bahru","Batu Pahat","Muar","Kluang","Pontian","Segamat","Mersing","Kota Tinggi","Kulai","Skudai"],Kedah:["Alor Setar","Sungai Petani","Kulim","Jitra","Baling","Langkawi","Kuala Kedah","Pendang","Sik","Yan"],Kelantan:["Kota Bharu","Wakaf Che Yeh","Tanah Merah","Machang","Pasir Mas","Gua Musang","Kuala Krai","Tumpat","Pasir Puteh","Bachok"],Melaka:["Melaka City","Ayer Keroh","Batu Berendam","Bukit Baru","Tanjung Kling","Jasin","Merlimau","Masjid Tanah","Alor Gajah","Bemban"],"Negeri Sembilan":["Seremban","Port Dickson","Bahau","Tampin","Kuala Pilah","Rembau","Jelebu","Gemenceh","Labu","Linggi"],Pahang:["Kuantan","Temerloh","Bentong","Raub","Jerantut","Pekan","Kuala Lipis","Bera","Maran","Rompin"],Penang:["George Town","Bukit Mertajam","Butterworth","Perai","Nibong Tebal","Balik Pulau","Bayan Lepas","Air Itam","Tanjung Tokong","Jelutong"],Perak:["Ipoh","Taiping","Sitiawan","Kuala Kangsar","Teluk Intan","Batu Gajah","Lumut","Parit Buntar","Ayer Tawar","Bagan Serai"],Perlis:["Kangar","Arau","Padang Besar","Wang Kelian","Kaki Bukit","Simpang Empat","Beseri","Chuping","Mata Ayer","Sanglang"],Sabah:["Kota Kinabalu","Sandakan","Tawau","Lahad Datu","Keningau","Kota Belud","Kudat","Semporna","Beaufort","Ranau"],Sarawak:["Kuching","Miri","Sibu","Bintulu","Limbang","Sarikei","Sri Aman","Kapit","Betong","Mukah"],Selangor:["Shah Alam","Petaling Jaya","Subang Jaya","Klang","Ampang","Cheras","Kajang","Puchong","Seri Kembangan","Bangi"],Terengganu:["Kuala Terengganu","Chukai","Dungun","Marang","Jerteh","Besut","Setiu","Hulu Terengganu","Kemaman","Kuala Nerus"],"Kuala Lumpur":["Kuala Lumpur City Centre","Bukit Bintang","Cheras","Ampang","Bangsar","Mont Kiara","Wangsa Maju","Kepong","Setapak","Titiwangsa"],Putrajaya:["Putrajaya","Precinct 1","Precinct 8","Precinct 9","Precinct 11","Precinct 14","Precinct 16","Precinct 18","Precinct 19","Precinct 20"],Labuan:["Labuan Town","Victoria","Batu Manikar","Patau-Patau","Rancha-Rancha","Kiansam","Layang-Layangan","Sungai Lada","Sungai Miri","Varley"]},[a,o]=(0,r.useState)({organizationName:"",registrationNo:"",applicantFullName:"",phoneNumber:"",email:"",password:"",confirmPassword:"",addressLine1:"",addressLine2:"",city:"",postcode:"",state:"",country:"Malaysia"}),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)({score:0,label:"",color:"",checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,symbol:!1}}),[j,S]=(0,r.useState)(!0),N=e=>{const{name:t,value:n}=e.target,r=h(h({},a),{},{[t]:n});o(r),"password"===t&&(w((e=>{const t={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/[0-9]/.test(e),symbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)},n=Object.values(t).filter(Boolean).length;let r="",a="";return 0===e.length?(r="",a=""):n<3?(r="Weak",a="#ef4444"):n<4?(r="Fair",a="#f59e0b"):n<5?(r="Good",a="#10b981"):(r="Strong",a="#059669"),{score:n,label:r,color:a,checks:t}})(n)),r.confirmPassword?S(n===r.confirmPassword):S(!0)),"confirmPassword"===t&&S(n===r.password)},k=()=>""!==a.organizationName.trim()&&""!==a.registrationNo.trim()&&null!==l&&""!==a.applicantFullName.trim()&&""!==a.phoneNumber.trim()&&""!==a.email.trim()&&""!==a.password.trim()&&""!==a.confirmPassword.trim()&&""!==a.addressLine1.trim()&&""!==a.city.trim()&&""!==a.postcode.trim()&&""!==a.state.trim()&&""!==a.country.trim()&&v.score>=4&&j&&b;return(0,s.jsxs)("div",{className:"tournament-application",children:[(0,s.jsxs)("div",{className:"form-header",children:[(0,s.jsx)("img",{src:i,alt:"Malaysia Pickleball Association",className:"form-logo"}),(0,s.jsxs)("div",{className:"form-header-text",children:[(0,s.jsx)("h2",{children:"Organization Registration"}),(0,s.jsx)("p",{className:"form-subtitle",children:"Register your organization before applying for a tournament"})]})]}),g?(0,s.jsx)("div",{className:"submission-success",children:(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("h3",{children:"Organization Registered Successfully!"}),(0,s.jsx)("p",{children:"Your organization has been registered with Malaysia Pickleball Association."}),(0,s.jsx)("p",{children:"You will now be redirected to the tournament application form."})]})}):(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(!0),m(""),v.score<4)return m('Password must be at least "Good" strength. Please include uppercase, lowercase, number, and symbol.'),void u(!1);if(!j||a.password!==a.confirmPassword)return m("Passwords do not match. Please check both password fields."),void u(!1);try{const e=new FormData;Object.keys(a).forEach(t=>{e.append(t,a[t])}),l&&e.append("registrationDocument",l);const n=await f.registerOrganization(e);localStorage.setItem("organizationData",JSON.stringify(n.organization)),localStorage.setItem("organizationLoggedIn","true"),alert("Organization registered successfully! You can now proceed to submit your tournament application."),x(!0),setTimeout(()=>{t("tournament-application")},1500)}catch(n){console.error("Registration error:",n),m(n.message||"Failed to register organization. Please try again.")}finally{u(!1)}},children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Organization Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"organizationName",children:"Official Organization/Company Name *"}),(0,s.jsx)("input",{type:"text",id:"organizationName",name:"organizationName",value:a.organizationName,onChange:N,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"registrationNo",children:"PJS/ROS/Company Registration No. *"}),(0,s.jsx)("input",{type:"text",id:"registrationNo",name:"registrationNo",value:a.registrationNo,onChange:N,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsxs)("label",{htmlFor:"registrationDocument",children:["Upload Registration Document *",(0,s.jsx)("small",{style:{display:"block",color:"#666",fontSize:"12px",marginTop:"4px"},children:"Upload a copy of your PJS/ROS/Company Registration document (PDF, DOC, DOCX, JPG, PNG - Max 10MB)"})]}),(0,s.jsx)("input",{type:"file",id:"registrationDocument",name:"registrationDocument",onChange:e=>{const t=e.target.files[0];if(t){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/jpg"].includes(t.type))return alert("Please upload a valid file format (PDF, DOC, DOCX, JPG, PNG)"),void(e.target.value="");if(t.size>10485760)return alert("File size must be less than 10MB"),void(e.target.value="");c(t)}},accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",required:!0,style:{width:"100%",padding:"10px",border:"2px dashed #ccc",borderRadius:"4px",backgroundColor:"#f9f9f9",cursor:"pointer",fontSize:"14px"}}),l&&(0,s.jsxs)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e8f5e8",border:"1px solid #4caf50",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("span",{style:{color:"#4caf50",fontSize:"16px"},children:"\ud83d\udcc4"}),(0,s.jsx)("span",{style:{fontSize:"14px",color:"#2e7d32"},children:l.name}),(0,s.jsxs)("span",{style:{fontSize:"12px",color:"#666"},children:["(",(l.size/1024/1024).toFixed(2)," MB)"]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{c(null);const e=document.getElementById("registrationDocument");e&&(e.value="")},style:{backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",padding:"4px 8px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]}),!l&&(0,s.jsx)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"4px",fontSize:"12px",color:"#856404"},children:"\u26a0\ufe0f Please upload your registration document to proceed"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"applicantFullName",children:"Full Name of Applicant/Representative *"}),(0,s.jsx)("input",{type:"text",id:"applicantFullName",name:"applicantFullName",value:a.applicantFullName,onChange:N,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"phoneNumber",children:"Phone Number *"}),(0,s.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:a.phoneNumber,onChange:N,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:N,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"password",children:"Create Password *"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:N,placeholder:"Create a secure password",minLength:"8",required:!0,style:{borderColor:a.password&&a.confirmPassword?j?"#28a745":"#dc3545":"#ccc",borderWidth:"2px",outline:"none",transition:"border-color 0.3s ease"}}),a.password&&(0,s.jsxs)("div",{className:"password-strength-container",children:[(0,s.jsx)("div",{className:"password-strength-bar",children:(0,s.jsx)("div",{className:"password-strength-fill",style:{width:"".concat(v.score/5*100,"%"),backgroundColor:v.color}})}),v.label&&(0,s.jsx)("span",{className:"password-strength-label",style:{color:v.color},children:v.label})]}),(0,s.jsxs)("div",{className:"password-requirements",children:[(0,s.jsx)("small",{className:"form-note",children:"Password must contain:"}),(0,s.jsxs)("ul",{className:"password-checklist",children:[(0,s.jsxs)("li",{className:v.checks.length?"valid":"invalid",children:[v.checks.length?"\u2713":"\u25cb"," At least 8 characters"]}),(0,s.jsxs)("li",{className:v.checks.uppercase?"valid":"invalid",children:[v.checks.uppercase?"\u2713":"\u25cb"," One uppercase letter (A-Z)"]}),(0,s.jsxs)("li",{className:v.checks.lowercase?"valid":"invalid",children:[v.checks.lowercase?"\u2713":"\u25cb"," One lowercase letter (a-z)"]}),(0,s.jsxs)("li",{className:v.checks.number?"valid":"invalid",children:[v.checks.number?"\u2713":"\u25cb"," One number (0-9)"]}),(0,s.jsxs)("li",{className:v.checks.symbol?"valid":"invalid",children:[v.checks.symbol?"\u2713":"\u25cb"," One symbol (!@#$%^&*)"]})]})]}),a.password&&!a.confirmPassword&&(0,s.jsx)("div",{style:{marginTop:"8px",padding:"6px 10px",backgroundColor:"#e3f2fd",border:"1px solid #bbdefb",borderRadius:"4px",fontSize:"12px",color:"#1565c0"},children:"\ud83d\udca1 Please confirm your password in the next field"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:N,placeholder:"Re-enter your password",required:!0,style:{borderColor:a.confirmPassword?j?"#28a745":"#dc3545":"#ccc",borderWidth:"2px",outline:"none",transition:"border-color 0.3s ease"}}),a.confirmPassword&&(0,s.jsx)("div",{style:{marginTop:"8px",padding:"8px 12px",borderRadius:"4px",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",backgroundColor:j?"#d4edda":"#f8d7da",border:"1px solid ".concat(j?"#c3e6cb":"#f5c6cb"),color:j?"#155724":"#721c24"},children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{color:"#28a745",fontSize:"16px"},children:"\u2713"}),(0,s.jsx)("span",{children:"Passwords match"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{color:"#dc3545",fontSize:"16px"},children:"\u2717"}),(0,s.jsx)("span",{children:"Passwords do not match"})]})})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"addressLine1",children:"Address Line 1 *"}),(0,s.jsx)("input",{type:"text",id:"addressLine1",name:"addressLine1",value:a.addressLine1,onChange:N,placeholder:"Street number, street name",required:!0}),(0,s.jsx)("small",{style:{display:"block",color:"#666",fontSize:"12px",marginTop:"4px"},children:"Please enter your organization/company address"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"addressLine2",children:"Address Line 2 (Optional)"}),(0,s.jsx)("input",{type:"text",id:"addressLine2",name:"addressLine2",value:a.addressLine2,onChange:N,placeholder:"Unit, building, floor (optional)"})]}),(0,s.jsxs)("div",{className:"address-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"city",children:"City *"}),"Malaysia"===a.country&&a.state?(0,s.jsxs)("select",{id:"city",name:"city",value:a.city,onChange:N,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select City"}),n[a.state].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}):(0,s.jsx)("input",{type:"text",id:"city",name:"city",value:a.city,onChange:N,placeholder:"Enter city",required:!0}),"Malaysia"===a.country&&!a.state&&(0,s.jsx)("small",{className:"form-note",children:"Please select a state first for city dropdown"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"postcode",children:"Postcode *"}),(0,s.jsx)("input",{type:"text",id:"postcode",name:"postcode",value:a.postcode,onChange:N,placeholder:"12345",pattern:"[0-9]{5}",maxLength:"5",required:!0})]})]}),(0,s.jsxs)("div",{className:"address-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"state",children:"State *"}),"Malaysia"===a.country?(0,s.jsxs)("select",{id:"state",name:"state",value:a.state,onChange:e=>{const t=e.target.value;o(e=>h(h({},e),{},{state:t,city:""}))},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Object.keys(n).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}):(0,s.jsx)("input",{type:"text",id:"state",name:"state",value:a.state,onChange:N,placeholder:"Enter state/province",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"country",children:"Country *"}),(0,s.jsx)("select",{id:"country",name:"country",value:a.country,onChange:N,required:!0,children:["Malaysia","Singapore","Brunei","Indonesia","Thailand","Philippines","Other"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[p&&(0,s.jsx)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:p}),(0,s.jsxs)("div",{className:"form-footer",children:[(0,s.jsx)("div",{className:"legal-agreement",children:(0,s.jsxs)("label",{className:"terms-checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",checked:b,onChange:e=>y(e.target.checked),required:!0}),(0,s.jsx)("span",{className:"checkmark"}),"I agree to the",(0,s.jsx)("button",{type:"button",className:"legal-link",onClick:()=>t("organization-terms"),children:"Terms & Conditions"}),(0,s.jsx)("span",{children:" and "}),(0,s.jsx)("button",{type:"button",className:"legal-link",onClick:()=>t("organization-privacy"),children:"Privacy Policy"})]})}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(!k()||d?"disabled":""),disabled:!k()||d,children:d?"Registering Organization...":"Register Organization"})]})]})]}),(0,s.jsx)("style",{children:"\n        .password-strength-container {\n          margin-top: 8px;\n          margin-bottom: 12px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .password-strength-bar {\n          flex: 1;\n          height: 4px;\n          background-color: #e5e7eb;\n          border-radius: 2px;\n          overflow: hidden;\n        }\n\n        .password-strength-fill {\n          height: 100%;\n          transition: all 0.3s ease;\n          border-radius: 2px;\n        }\n\n        .password-strength-label {\n          font-size: 12px;\n          font-weight: 600;\n          min-width: 60px;\n          text-align: right;\n        }\n\n        .password-requirements {\n          margin-top: 12px;\n        }\n\n        .password-checklist {\n          margin: 6px 0 0 0;\n          padding: 0;\n          list-style: none;\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 4px;\n        }\n\n        .password-checklist li {\n          font-size: 12px;\n          padding: 2px 0;\n          transition: color 0.3s ease;\n        }\n\n        .password-checklist li.valid {\n          color: #059669;\n        }\n\n        .password-checklist li.invalid {\n          color: #9ca3af;\n        }\n\n        .password-match-indicator {\n          margin-top: 8px;\n        }\n\n        .password-match-success {\n          color: #059669;\n          font-size: 12px;\n          font-weight: 500;\n        }\n\n        .password-match-error {\n          color: #ef4444;\n          font-size: 12px;\n          font-weight: 500;\n        }\n\n        .address-row {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n        }\n\n        .address-row .form-group {\n          margin-bottom: 20px;\n        }\n\n        .form-footer {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 120px;\n          margin: 24px 0;\n        }\n\n        .legal-agreement {\n          flex: 1;\n        }\n\n        .terms-checkbox-label {\n          display: flex;\n          align-items: flex-start;\n          gap: 8px;\n          cursor: pointer;\n          font-size: 14px;\n          color: #6b7280;\n          line-height: 1.4;\n        }\n\n        .terms-checkbox-label input[type=\"checkbox\"] {\n          display: none;\n        }\n\n        .checkmark {\n          width: 18px;\n          height: 18px;\n          border: 2px solid #d1d5db;\n          border-radius: 4px;\n          display: inline-block;\n          position: relative;\n          flex-shrink: 0;\n          margin-top: 1px;\n          transition: all 0.2s ease;\n        }\n\n        .terms-checkbox-label input:checked + .checkmark {\n          background-color: #2c5aa0;\n          border-color: #2c5aa0;\n        }\n\n        .terms-checkbox-label input:checked + .checkmark::after {\n          content: '';\n          position: absolute;\n          left: 5px;\n          top: 1px;\n          width: 4px;\n          height: 8px;\n          border: solid white;\n          border-width: 0 2px 2px 0;\n          transform: rotate(45deg);\n        }\n\n        .legal-link {\n          background: none;\n          border: none;\n          color: #2c5aa0;\n          text-decoration: underline;\n          cursor: pointer;\n          font-size: 14px;\n          font-weight: 500;\n          transition: color 0.2s ease;\n          padding: 0;\n          margin: 0 2px;\n        }\n\n        .legal-link:hover {\n          color: #1e3a73;\n        }\n\n        .legal-agreement span {\n          color: #6b7280;\n          font-size: 14px;\n        }\n\n        @media (max-width: 768px) {\n          .password-checklist {\n            grid-template-columns: 1fr;\n          }\n          \n          .address-row {\n            grid-template-columns: 1fr;\n          }\n\n          .form-footer {\n            flex-direction: column;\n            align-items: stretch;\n            gap: 16px;\n          }\n\n          .terms-checkbox-label {\n            font-size: 13px;\n            justify-content: center;\n          }\n\n          .legal-link {\n            font-size: 13px;\n          }\n\n          .submit-btn {\n            width: 100%;\n          }\n        }\n      "})]})},oo=e=>{let{isOpen:t,onClose:n}=e;const[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({type:"",text:""});return t?(0,s.jsxs)("div",{className:"modal-overlay",onClick:n,children:[(0,s.jsxs)("div",{className:"modal-content forgot-password-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"}),(0,s.jsx)("div",{className:"modal-header",children:(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"modal-logo"}),(0,s.jsxs)("div",{className:"header-text",children:[(0,s.jsx)("h2",{children:"Forgot Password"}),(0,s.jsx)("p",{children:"Enter your registered email to receive a temporary password"})]})]})}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0),u({type:"",text:""});try{const e=await f.requestPasswordReset(a);e.success?(u({type:"success",text:"A temporary password has been sent to your email. Please check your inbox."}),o(""),setTimeout(()=>{n()},3e3)):u({type:"error",text:e.message||"Failed to send reset email"})}catch(t){u({type:"error",text:t.message||"An error occurred. Please try again."})}finally{c(!1)}},className:"forgot-password-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:a,onChange:e=>o(e.target.value),placeholder:"Enter your registered email",required:!0,disabled:l})]}),d.text&&(0,s.jsx)("div",{className:"message ".concat(d.type),children:d.text}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(l?"loading":""),disabled:l,children:l?"Sending...":"Send Temporary Password"}),(0,s.jsx)("button",{type:"button",className:"cancel-btn",onClick:n,disabled:l,children:"Cancel"})]}),(0,s.jsx)("div",{className:"help-text",children:(0,s.jsx)("p",{children:(0,s.jsx)("small",{children:"You will receive an email with a temporary password. Use it to login and change your password immediately."})})})]}),(0,s.jsx)("style",{children:"\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.7);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1100;\n          backdrop-filter: blur(4px);\n        }\n\n        .forgot-password-modal {\n          background: white;\n          border-radius: 16px;\n          padding: 32px;\n          width: 90%;\n          max-width: 450px;\n          max-height: 90vh;\n          overflow-y: auto;\n          position: relative;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n          animation: modalSlideIn 0.3s ease-out;\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        .modal-close {\n          position: absolute;\n          top: 16px;\n          right: 16px;\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #999;\n          width: 32px;\n          height: 32px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n        }\n\n        .modal-close:hover {\n          background-color: #f5f5f5;\n          color: #333;\n        }\n\n        .modal-header {\n          margin-bottom: 32px;\n          padding-bottom: 24px;\n          border-bottom: 1px solid #f0f0f0;\n        }\n\n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .modal-logo {\n          width: 70px;\n          height: 70px;\n          flex-shrink: 0;\n        }\n\n        .header-text {\n          flex: 1;\n        }\n\n        .modal-header h2 {\n          margin: 0 0 4px 0;\n          color: #1a1a1a;\n          font-size: 24px;\n          font-weight: 600;\n          line-height: 1.2;\n        }\n\n        .modal-header p {\n          margin: 0;\n          color: #6b7280;\n          font-size: 14px;\n          font-weight: 400;\n          line-height: 1.4;\n        }\n\n        .forgot-password-form .form-group {\n          margin-bottom: 20px;\n        }\n\n        .forgot-password-form label {\n          display: block;\n          margin-bottom: 6px;\n          font-weight: 500;\n          color: #333;\n          font-size: 14px;\n        }\n\n        .forgot-password-form input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #e1e5e9;\n          border-radius: 8px;\n          font-size: 16px;\n          transition: border-color 0.2s ease;\n          box-sizing: border-box;\n        }\n\n        .forgot-password-form input:focus {\n          outline: none;\n          border-color: #2c5aa0;\n        }\n\n        .forgot-password-form input:disabled {\n          background-color: #f5f5f5;\n          cursor: not-allowed;\n        }\n\n        .message {\n          padding: 12px 16px;\n          border-radius: 8px;\n          margin-bottom: 16px;\n          font-size: 14px;\n        }\n\n        .message.success {\n          background-color: #e8f5e9;\n          color: #2e7d32;\n          border: 1px solid #a5d6a7;\n        }\n\n        .message.error {\n          background-color: #ffebee;\n          color: #d32f2f;\n          border: 1px solid #ffcdd2;\n        }\n\n        .submit-btn {\n          width: 100%;\n          background: linear-gradient(135deg, #2c5aa0 0%, #1e3a73 100%);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          margin-bottom: 12px;\n        }\n\n        .submit-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(44, 90, 160, 0.3);\n        }\n\n        .submit-btn:disabled {\n          opacity: 0.7;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .cancel-btn {\n          width: 100%;\n          background: white;\n          color: #666;\n          border: 2px solid #e1e5e9;\n          padding: 12px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          margin-bottom: 16px;\n        }\n\n        .cancel-btn:hover:not(:disabled) {\n          border-color: #999;\n          color: #333;\n        }\n\n        .cancel-btn:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .help-text {\n          text-align: center;\n          color: #666;\n          font-size: 12px;\n        }\n\n        .help-text p {\n          margin: 0;\n        }\n\n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .forgot-password-modal {\n            width: 95%;\n            padding: 24px 16px;\n            max-height: 95vh;\n            margin: 10px;\n          }\n\n          .modal-header {\n            margin-bottom: 24px;\n            padding-bottom: 16px;\n          }\n\n          .header-content {\n            flex-direction: column;\n            text-align: center;\n            gap: 12px;\n          }\n\n          .modal-logo {\n            width: 60px;\n            height: 60px;\n          }\n\n          .modal-header h2 {\n            font-size: 20px;\n          }\n\n          .modal-header p {\n            font-size: 13px;\n          }\n\n          .forgot-password-form .form-group {\n            margin-bottom: 16px;\n          }\n\n          .forgot-password-form label {\n            font-size: 13px;\n          }\n\n          .forgot-password-form input {\n            padding: 10px 14px;\n            font-size: 14px;\n          }\n\n          .submit-btn,\n          .cancel-btn {\n            padding: 12px 20px;\n            font-size: 15px;\n          }\n\n          .message {\n            padding: 10px 14px;\n            font-size: 13px;\n            margin-bottom: 14px;\n          }\n\n          .help-text {\n            font-size: 11px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .forgot-password-modal {\n            width: 100%;\n            padding: 20px 12px;\n            border-radius: 12px;\n            max-height: 100vh;\n          }\n\n          .modal-header h2 {\n            font-size: 18px;\n          }\n\n          .modal-logo {\n            width: 50px;\n            height: 50px;\n          }\n\n          .forgot-password-form input {\n            font-size: 14px;\n            padding: 10px 12px;\n          }\n        }\n      "})]}):null},lo=e=>{let{isOpen:t,organizationData:n,onClose:a,onPasswordChanged:o}=e;const[l,c]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,x]=(0,r.useState)({hasMinLength:!1,hasUppercase:!1,hasLowercase:!1,hasNumber:!1,hasSymbol:!1}),b=e=>{const{name:t,value:n}=e.target;c(e=>h(h({},e),{},{[t]:n})),"newPassword"===t&&x({hasMinLength:n.length>=8,hasUppercase:/[A-Z]/.test(n),hasLowercase:/[a-z]/.test(n),hasNumber:/[0-9]/.test(n),hasSymbol:/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(n)})},y=()=>Object.values(g).every(e=>!0===e);return t?(0,s.jsxs)("div",{className:"modal-overlay",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-content change-password-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"modal-header",children:(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"modal-logo"}),(0,s.jsxs)("div",{className:"header-text",children:[(0,s.jsx)("h2",{children:"Change Password Required"}),(0,s.jsx)("p",{children:"For security reasons, please change your password"})]})]})}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(!0),m(""),l.newPassword!==l.confirmPassword)return m("New passwords do not match"),void u(!1);if(!y())return m("Password does not meet all requirements"),void u(!1);try{const e=await f.changeOrganizationPassword(n.organizationId,l.currentPassword,l.newPassword);if(e.success){const e=h(h({},n),{},{requirePasswordChange:!1});localStorage.setItem("organizationData",JSON.stringify(e)),o&&o(),a()}else m(e.message||"Failed to change password")}catch(p){m(p.message||"An error occurred. Please try again.")}finally{u(!1)}},className:"change-password-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"currentPassword",children:"Current Password *"}),(0,s.jsx)("input",{type:"password",id:"currentPassword",name:"currentPassword",value:l.currentPassword,onChange:b,placeholder:"Enter your current password",required:!0,disabled:d})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"newPassword",children:"New Password *"}),(0,s.jsx)("input",{type:"password",id:"newPassword",name:"newPassword",value:l.newPassword,onChange:b,placeholder:"Enter your new password",required:!0,disabled:d})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm New Password *"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:l.confirmPassword,onChange:b,placeholder:"Confirm your new password",required:!0,disabled:d})]}),(0,s.jsxs)("div",{className:"password-requirements",children:[(0,s.jsx)("p",{className:"requirements-title",children:"Password must contain:"}),(0,s.jsxs)("div",{className:"requirement ".concat(g.hasMinLength?"met":""),children:[g.hasMinLength?"\u2713":"\u25cb"," At least 8 characters"]}),(0,s.jsxs)("div",{className:"requirement ".concat(g.hasUppercase?"met":""),children:[g.hasUppercase?"\u2713":"\u25cb"," At least one uppercase letter (A-Z)"]}),(0,s.jsxs)("div",{className:"requirement ".concat(g.hasLowercase?"met":""),children:[g.hasLowercase?"\u2713":"\u25cb"," At least one lowercase letter (a-z)"]}),(0,s.jsxs)("div",{className:"requirement ".concat(g.hasNumber?"met":""),children:[g.hasNumber?"\u2713":"\u25cb"," At least one number (0-9)"]}),(0,s.jsxs)("div",{className:"requirement ".concat(g.hasSymbol?"met":""),children:[g.hasSymbol?"\u2713":"\u25cb"," At least one special character (!@#$%^&*)"]})]}),p&&(0,s.jsx)("div",{className:"error-message",children:p}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(d?"loading":""),disabled:d||!y(),children:d?"Changing Password...":"Change Password"})]}),(0,s.jsx)("div",{className:"help-text",children:(0,s.jsx)("p",{children:(0,s.jsx)("small",{children:"You must change your password before you can continue."})})})]}),(0,s.jsx)("style",{children:"\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.8);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1200;\n          backdrop-filter: blur(4px);\n        }\n\n        .change-password-modal {\n          background: white;\n          border-radius: 16px;\n          padding: 32px;\n          width: 90%;\n          max-width: 500px;\n          max-height: 90vh;\n          overflow-y: auto;\n          position: relative;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n          animation: modalSlideIn 0.3s ease-out;\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        .modal-header {\n          margin-bottom: 32px;\n          padding-bottom: 24px;\n          border-bottom: 1px solid #f0f0f0;\n        }\n\n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .modal-logo {\n          width: 70px;\n          height: 70px;\n          flex-shrink: 0;\n        }\n\n        .header-text {\n          flex: 1;\n        }\n\n        .modal-header h2 {\n          margin: 0 0 4px 0;\n          color: #1a1a1a;\n          font-size: 24px;\n          font-weight: 600;\n          line-height: 1.2;\n        }\n\n        .modal-header p {\n          margin: 0;\n          color: #6b7280;\n          font-size: 14px;\n          font-weight: 400;\n          line-height: 1.4;\n        }\n\n        .change-password-form .form-group {\n          margin-bottom: 20px;\n        }\n\n        .change-password-form label {\n          display: block;\n          margin-bottom: 6px;\n          font-weight: 500;\n          color: #333;\n          font-size: 14px;\n        }\n\n        .change-password-form input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #e1e5e9;\n          border-radius: 8px;\n          font-size: 16px;\n          transition: border-color 0.2s ease;\n          box-sizing: border-box;\n        }\n\n        .change-password-form input:focus {\n          outline: none;\n          border-color: #2c5aa0;\n        }\n\n        .change-password-form input:disabled {\n          background-color: #f5f5f5;\n          cursor: not-allowed;\n        }\n\n        .password-requirements {\n          background-color: #f8f9fa;\n          border: 1px solid #e1e5e9;\n          border-radius: 8px;\n          padding: 16px;\n          margin-bottom: 20px;\n        }\n\n        .requirements-title {\n          margin: 0 0 12px 0;\n          font-weight: 600;\n          color: #333;\n          font-size: 14px;\n        }\n\n        .requirement {\n          padding: 4px 0;\n          font-size: 13px;\n          color: #666;\n          transition: color 0.2s ease;\n        }\n\n        .requirement.met {\n          color: #28a745;\n          font-weight: 500;\n        }\n\n        .error-message {\n          background-color: #ffebee;\n          color: #d32f2f;\n          padding: 12px 16px;\n          border-radius: 8px;\n          border: 1px solid #ffcdd2;\n          margin-bottom: 16px;\n          font-size: 14px;\n        }\n\n        .submit-btn {\n          width: 100%;\n          background: linear-gradient(135deg, #2c5aa0 0%, #1e3a73 100%);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          margin-bottom: 16px;\n        }\n\n        .submit-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(44, 90, 160, 0.3);\n        }\n\n        .submit-btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .help-text {\n          text-align: center;\n          color: #666;\n          font-size: 12px;\n        }\n\n        .help-text p {\n          margin: 0;\n        }\n\n        /* Responsive Design */\n        @media (max-width: 768px) {\n          .change-password-modal {\n            width: 95%;\n            padding: 24px 16px;\n            max-height: 95vh;\n            margin: 10px;\n          }\n\n          .modal-header {\n            margin-bottom: 20px;\n            padding-bottom: 16px;\n          }\n\n          .header-content {\n            flex-direction: column;\n            text-align: center;\n            gap: 12px;\n          }\n\n          .modal-logo {\n            width: 60px;\n            height: 60px;\n          }\n\n          .modal-header h2 {\n            font-size: 20px;\n          }\n\n          .modal-header p {\n            font-size: 13px;\n          }\n\n          .change-password-form .form-group {\n            margin-bottom: 16px;\n          }\n\n          .change-password-form label {\n            font-size: 13px;\n          }\n\n          .change-password-form input {\n            padding: 10px 14px;\n            font-size: 14px;\n          }\n\n          .password-requirements {\n            padding: 12px;\n            margin-bottom: 16px;\n          }\n\n          .requirements-title {\n            font-size: 13px;\n            margin-bottom: 8px;\n          }\n\n          .requirement {\n            font-size: 12px;\n            padding: 3px 0;\n          }\n\n          .submit-btn {\n            padding: 12px 20px;\n            font-size: 15px;\n          }\n\n          .help-text {\n            font-size: 11px;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .change-password-modal {\n            width: 100%;\n            padding: 20px 12px;\n            border-radius: 12px;\n            max-height: 100vh;\n          }\n\n          .modal-header h2 {\n            font-size: 18px;\n          }\n\n          .modal-logo {\n            width: 50px;\n            height: 50px;\n          }\n\n          .change-password-form input {\n            font-size: 14px;\n            padding: 10px 12px;\n          }\n        }\n      "})]}):null},co=e=>{let{isOpen:t,onClose:n,onLoginSuccess:a,onRegisterClick:o}=e;const[l,c]=(0,r.useState)({email:"",password:""}),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(null),j=e=>{const{name:t,value:n}=e.target;c(e=>h(h({},e),{},{[t]:n}))};return t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"modal-overlay",onClick:n,children:[(0,s.jsxs)("div",{className:"modal-content organization-login-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"modal-close",onClick:n,children:"\xd7"}),(0,s.jsx)("div",{className:"modal-header",children:(0,s.jsxs)("div",{className:"header-content",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"modal-logo"}),(0,s.jsxs)("div",{className:"header-text",children:[(0,s.jsx)("h2",{children:"Organization Login"}),(0,s.jsx)("p",{children:"Access your tournament application portal"})]})]})}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),m("");try{const e=await f.organizationLogin({email:l.email,password:l.password});e.success?(console.log("Login response:",e),console.log("requirePasswordChange:",e.organization.requirePasswordChange),localStorage.setItem("organizationData",JSON.stringify(e.organization)),localStorage.setItem("organizationLoggedIn","true"),e.organization.requirePasswordChange?(console.log("Password change required - showing modal"),w(e.organization),y(!0)):(console.log("No password change required - proceeding to dashboard"),a(),n()),c({email:"",password:""})):m(e.message||"Login failed")}catch(p){m(p.message||"Login failed. Please check your credentials.")}finally{u(!1)}},className:"organization-login-form",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:j,placeholder:"Enter your organization email",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"password",children:"Password *"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:l.password,onChange:j,placeholder:"Enter your password",required:!0}),(0,s.jsx)("button",{type:"button",className:"forgot-password-link",onClick:()=>x(!0),children:"Forgot Password?"})]}),p&&(0,s.jsx)("div",{className:"error-message",children:p}),(0,s.jsx)("button",{type:"submit",className:"login-btn ".concat(d?"loading":""),disabled:d,children:d?"Logging in...":"Login to Apply"})]}),(0,s.jsxs)("div",{className:"login-separator",children:[(0,s.jsx)("div",{className:"separator-line"}),(0,s.jsx)("span",{children:"Don't have an account?"}),(0,s.jsx)("div",{className:"separator-line"})]}),(0,s.jsx)("button",{type:"button",className:"register-btn",onClick:()=>{n(),o()},children:"Register Your Organization First"}),(0,s.jsx)("div",{className:"login-help",children:(0,s.jsx)("p",{children:(0,s.jsx)("small",{children:"Use your organization's registered email and password to login."})})})]}),(0,s.jsx)("style",{children:"\n        .modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.7);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n          backdrop-filter: blur(4px);\n        }\n\n        .modal-content {\n          background: white;\n          border-radius: 16px;\n          padding: 32px;\n          width: 90%;\n          max-width: 450px;\n          max-height: 90vh;\n          overflow-y: auto;\n          position: relative;\n          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);\n          animation: modalSlideIn 0.3s ease-out;\n        }\n\n        @keyframes modalSlideIn {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        .modal-close {\n          position: absolute;\n          top: 16px;\n          right: 16px;\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #999;\n          width: 32px;\n          height: 32px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          border-radius: 50%;\n          transition: all 0.2s ease;\n        }\n\n        .modal-close:hover {\n          background-color: #f5f5f5;\n          color: #333;\n        }\n\n        .modal-header {\n          margin-bottom: 40px;\n          padding-bottom: 24px;\n          border-bottom: 1px solid #f0f0f0;\n        }\n\n        .header-content {\n          display: flex;\n          align-items: center;\n          gap: 16px;\n        }\n\n        .modal-logo {\n          width: 80px;\n          height: 80px;\n          flex-shrink: 0;\n        }\n\n        .header-text {\n          flex: 1;\n        }\n\n        .modal-header h2 {\n          margin: 0 0 4px 0;\n          color: #1a1a1a;\n          font-size: 24px;\n          font-weight: 600;\n          line-height: 1.2;\n        }\n\n        .modal-header p {\n          margin: 0;\n          color: #6b7280;\n          font-size: 14px;\n          font-weight: 400;\n          line-height: 1.4;\n        }\n\n        .organization-login-form .form-group {\n          margin-bottom: 20px;\n        }\n\n        .organization-login-form label {\n          display: block;\n          margin-bottom: 6px;\n          font-weight: 500;\n          color: #333;\n          font-size: 14px;\n        }\n\n        .organization-login-form input {\n          width: 100%;\n          padding: 12px 16px;\n          border: 2px solid #e1e5e9;\n          border-radius: 8px;\n          font-size: 16px;\n          transition: border-color 0.2s ease;\n          box-sizing: border-box;\n        }\n\n        .organization-login-form input:focus {\n          outline: none;\n          border-color: #2c5aa0;\n        }\n\n        .error-message {\n          background-color: #ffebee;\n          color: #d32f2f;\n          padding: 12px 16px;\n          border-radius: 8px;\n          border: 1px solid #ffcdd2;\n          margin-bottom: 16px;\n          font-size: 14px;\n        }\n\n        .login-btn {\n          width: 100%;\n          background: linear-gradient(135deg, #2c5aa0 0%, #1e3a73 100%);\n          color: white;\n          border: none;\n          padding: 14px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          margin-bottom: 24px;\n        }\n\n        .login-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(44, 90, 160, 0.3);\n        }\n\n        .login-btn:disabled {\n          opacity: 0.7;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .login-separator {\n          display: flex;\n          align-items: center;\n          margin: 24px 0;\n          color: #999;\n          font-size: 14px;\n        }\n\n        .separator-line {\n          flex: 1;\n          height: 1px;\n          background-color: #e1e5e9;\n        }\n\n        .login-separator span {\n          margin: 0 16px;\n          white-space: nowrap;\n        }\n\n        .register-btn {\n          width: 100%;\n          background: white;\n          color: #2c5aa0;\n          border: 2px solid #2c5aa0;\n          padding: 12px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          margin-bottom: 16px;\n        }\n\n        .register-btn:hover {\n          background: #2c5aa0;\n          color: white;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(44, 90, 160, 0.2);\n        }\n\n        .login-help {\n          text-align: center;\n          color: #666;\n          font-size: 12px;\n        }\n\n        .login-help p {\n          margin: 0;\n        }\n\n        .forgot-password-link {\n          background: none;\n          border: none;\n          color: #2c5aa0;\n          font-size: 13px;\n          cursor: pointer;\n          padding: 0;\n          margin-top: 6px;\n          text-align: left;\n          text-decoration: none;\n          transition: color 0.2s ease;\n        }\n\n        .forgot-password-link:hover {\n          color: #1e3a73;\n          text-decoration: underline;\n        }\n\n        /* Responsive Design */\n        /* iPad and Tablet View */\n        @media (min-width: 481px) and (max-width: 1024px) {\n          .modal-content {\n            width: 85% !important;\n            max-width: 600px !important;\n          }\n        }\n\n        @media (max-width: 480px) {\n          .modal-content {\n            width: 100%;\n            padding: 20px 12px;\n            border-radius: 12px;\n            max-height: 100vh;\n            margin: 10px;\n          }\n\n          .modal-header {\n            margin-bottom: 24px;\n            padding-bottom: 16px;\n          }\n\n          .header-content {\n            flex-direction: column;\n            text-align: center;\n            gap: 12px;\n          }\n\n          .modal-logo {\n            width: 60px;\n            height: 60px;\n          }\n\n          .modal-header h2 {\n            font-size: 18px;\n          }\n\n          .modal-header p {\n            font-size: 13px;\n          }\n\n          .organization-login-form .form-group {\n            margin-bottom: 16px;\n          }\n\n          .organization-login-form label {\n            font-size: 13px;\n          }\n\n          .organization-login-form input {\n            padding: 10px 12px;\n            font-size: 14px;\n          }\n\n          .forgot-password-link {\n            font-size: 12px;\n            margin-top: 4px;\n          }\n\n          .login-btn,\n          .register-btn {\n            padding: 12px 20px;\n            font-size: 15px;\n          }\n\n          .error-message {\n            padding: 10px 14px;\n            font-size: 13px;\n            margin-bottom: 14px;\n          }\n\n          .login-separator {\n            margin: 20px 0;\n            font-size: 13px;\n          }\n\n          .login-separator span {\n            margin: 0 12px;\n          }\n\n          .login-help {\n            font-size: 11px;\n          }\n\n          .modal-close {\n            top: 12px;\n            right: 12px;\n            font-size: 20px;\n            width: 28px;\n            height: 28px;\n          }\n        }\n      "})]}),g&&(0,s.jsx)(oo,{isOpen:g,onClose:()=>x(!1)}),b&&v&&(0,s.jsx)(lo,{isOpen:b,organizationData:v,onClose:()=>{y(!1),w(null)},onPasswordChanged:()=>{y(!1),w(null),a(),n()}})]}):null},uo=e=>{let{setCurrentPage:t}=e;return(0,s.jsxs)("div",{className:"terms-and-conditions",children:[(0,s.jsxs)("div",{className:"form-header",children:[(0,s.jsx)("img",{src:i,alt:"Malaysia Pickleball Association",className:"form-logo"}),(0,s.jsxs)("div",{className:"form-header-text",children:[(0,s.jsx)("h2",{children:"Terms and Conditions"}),(0,s.jsx)("p",{className:"form-subtitle",children:"Organization Registration - Malaysia Pickleball Association"})]})]}),(0,s.jsxs)("div",{className:"terms-content",children:[(0,s.jsx)("div",{className:"terms-section",children:(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Last Updated:"})," ",(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})]})}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"1. ACCEPTANCE OF TERMS"}),(0,s.jsx)("p",{children:"By registering your organization with Malaysia Pickleball Association (MPA) through this portal, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions. If you do not agree with these terms, please do not proceed with the registration."})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"2. ORGANIZATION REGISTRATION"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2.1 Eligibility:"})," Only legally registered organizations, companies, associations, or clubs with valid registration numbers (PJS/ROS/Company Registration) may register."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2.2 Information Accuracy:"})," You warrant that all information provided during registration is true, accurate, current, and complete."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2.3 Registration Approval:"})," MPA reserves the right to approve or reject any organization registration at its sole discretion."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2.4 Account Responsibility:"})," You are responsible for maintaining the confidentiality of your login credentials and for all activities that occur under your account."]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"3. TOURNAMENT APPLICATION RIGHTS"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.1 Application Authority:"})," Registration grants your organization the right to apply for tournament sanctioning through the MPA portal."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.2 Compliance Requirements:"})," All tournament applications must comply with MPA rules, regulations, and guidelines."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.3 No Guarantee:"})," Registration does not guarantee approval of tournament applications. Each application will be reviewed individually."]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"4. DATA HANDLING PARTNERSHIP"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.1 Official Partner:"})," Fenix Digital serves as the official technology partner for MPA, responsible for data processing, storage, and system maintenance."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.2 Data Security:"})," Fenix Digital implements industry-standard security measures to protect your organization's data."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.3 Data Processing:"})," Your data will be processed in accordance with our Privacy Policy and applicable data protection laws."]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"5. PROHIBITED ACTIVITIES"}),(0,s.jsx)("p",{children:"You agree not to:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Provide false, inaccurate, or misleading information"}),(0,s.jsx)("li",{children:"Register multiple accounts for the same organization"}),(0,s.jsx)("li",{children:"Use the portal for any unlawful or unauthorized purpose"}),(0,s.jsx)("li",{children:"Attempt to gain unauthorized access to the system"}),(0,s.jsx)("li",{children:"Interfere with the proper functioning of the portal"}),(0,s.jsx)("li",{children:"Violate any applicable laws or regulations"})]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"6. INTELLECTUAL PROPERTY"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6.1 MPA Content:"})," All content, trademarks, logos, and materials on this portal are the property of Malaysia Pickleball Association."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6.2 Limited License:"})," You are granted a limited, non-exclusive license to use the portal solely for organization registration and tournament application purposes."]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"7. LIABILITY AND DISCLAIMERS"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"7.1 Service Availability:"})," While we strive to maintain continuous service, MPA does not guarantee uninterrupted access to the portal."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"7.2 Limitation of Liability:"})," MPA and Fenix Digital shall not be liable for any indirect, incidental, special, or consequential damages arising from your use of this portal."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"7.3 Force Majeure:"})," We are not responsible for any failure to perform due to circumstances beyond our reasonable control."]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"8. TERMINATION"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.1 Termination Rights:"})," MPA reserves the right to terminate or suspend your account at any time for violation of these terms."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.2 Effect of Termination:"})," Upon termination, your right to use the portal will cease immediately."]})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"9. MODIFICATIONS"}),(0,s.jsx)("p",{children:"MPA reserves the right to modify these Terms and Conditions at any time. Changes will be effective immediately upon posting on the portal. Continued use constitutes acceptance of the revised terms."})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"10. GOVERNING LAW"}),(0,s.jsx)("p",{children:"These Terms and Conditions are governed by the laws of Malaysia. Any disputes shall be subject to the exclusive jurisdiction of the Malaysian courts."})]}),(0,s.jsxs)("div",{className:"terms-section",children:[(0,s.jsx)("h3",{children:"11. CONTACT INFORMATION"}),(0,s.jsx)("p",{children:"For questions regarding these Terms and Conditions, please contact:"}),(0,s.jsxs)("div",{className:"contact-info",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Malaysia Pickleball Association"})}),(0,s.jsx)("p",{children:"Email: legal@malaysiapickleballassociation.org"}),(0,s.jsx)("p",{children:"Phone: +60 3-1234 5678"})]}),(0,s.jsxs)("div",{className:"contact-info",style:{marginTop:"20px"},children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Technical Partner - Fenix Digital"})}),(0,s.jsx)("p",{children:"Email: support@fenixdigital.my"}),(0,s.jsx)("p",{children:"Data Protection Officer: dpo@fenixdigital.my"})]})]}),(0,s.jsx)("div",{className:"terms-section agreement-section",children:(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"By proceeding with organization registration, you acknowledge that you have read, understood, and agree to be bound by these Terms and Conditions."})})})]}),(0,s.jsx)("div",{className:"form-actions",children:(0,s.jsx)("button",{type:"button",className:"back-btn",onClick:()=>t("register-organization"),children:"Back to Registration"})}),(0,s.jsx)("style",{children:"\n        .terms-and-conditions {\n          max-width: 800px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n\n        .terms-content {\n          background: white;\n          border-radius: 12px;\n          padding: 40px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n          margin-bottom: 30px;\n        }\n\n        .terms-section {\n          margin-bottom: 30px;\n        }\n\n        .terms-section h3 {\n          color: #2c5aa0;\n          font-size: 18px;\n          font-weight: 600;\n          margin-bottom: 15px;\n          border-bottom: 2px solid #f0f0f0;\n          padding-bottom: 8px;\n        }\n\n        .terms-section p {\n          line-height: 1.6;\n          margin-bottom: 12px;\n          color: #444;\n        }\n\n        .terms-section ul {\n          margin: 15px 0;\n          padding-left: 25px;\n        }\n\n        .terms-section li {\n          margin-bottom: 8px;\n          line-height: 1.6;\n          color: #444;\n        }\n\n        .contact-info {\n          background: #f8f9fa;\n          border-left: 4px solid #2c5aa0;\n          padding: 15px 20px;\n          border-radius: 4px;\n        }\n\n        .contact-info p {\n          margin: 5px 0;\n          color: #555;\n        }\n\n        .agreement-section {\n          background: #fff3cd;\n          border: 1px solid #ffeaa7;\n          border-radius: 8px;\n          padding: 20px;\n          text-align: center;\n        }\n\n        .agreement-section p {\n          color: #856404;\n          margin: 0;\n          font-size: 16px;\n        }\n\n        .form-actions {\n          text-align: center;\n        }\n\n        .back-btn {\n          background: white;\n          color: #2c5aa0;\n          border: 2px solid #2c5aa0;\n          padding: 12px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n\n        .back-btn:hover {\n          background: #2c5aa0;\n          color: white;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(44, 90, 160, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .terms-and-conditions {\n            padding: 10px;\n          }\n          \n          .terms-content {\n            padding: 20px;\n          }\n          \n          .terms-section h3 {\n            font-size: 16px;\n          }\n        }\n      "})]})},ho=e=>{let{setCurrentPage:t}=e;return(0,s.jsxs)("div",{className:"privacy-policy",children:[(0,s.jsxs)("div",{className:"form-header",children:[(0,s.jsx)("img",{src:i,alt:"Malaysia Pickleball Association",className:"form-logo"}),(0,s.jsxs)("div",{className:"form-header-text",children:[(0,s.jsx)("h2",{children:"Privacy Policy"}),(0,s.jsx)("p",{className:"form-subtitle",children:"Organization Registration - Malaysia Pickleball Association"})]})]}),(0,s.jsxs)("div",{className:"privacy-content",children:[(0,s.jsx)("div",{className:"privacy-section",children:(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Last Updated:"})," ",(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})]})}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"1. INTRODUCTION"}),(0,s.jsx)("p",{children:'Malaysia Pickleball Association ("MPA", "we", "us", "our") is committed to protecting your privacy and personal data. This Privacy Policy explains how we collect, use, process, and protect your information when you register your organization through our portal.'}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Our Official Technology Partner:"})," Fenix Digital serves as our official technology partner, responsible for data processing, system maintenance, and technical operations under our strict data protection guidelines."]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"2. DATA CONTROLLER AND PROCESSOR"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2.1 Data Controller:"})," Malaysia Pickleball Association is the data controller responsible for determining the purposes and means of processing your personal data."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"2.2 Data Processor:"})," Fenix Digital acts as our authorized data processor, handling technical aspects of data processing on our behalf under strict contractual obligations."]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"3. INFORMATION WE COLLECT"}),(0,s.jsx)("p",{children:"When you register your organization, we collect the following information:"}),(0,s.jsx)("h4",{children:"3.1 Organization Information:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Official organization/company name"}),(0,s.jsx)("li",{children:"PJS/ROS/Company registration number"}),(0,s.jsx)("li",{children:"Organization address (address lines, city, postcode, state, country)"})]}),(0,s.jsx)("h4",{children:"3.2 Contact Person Information:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Full name of applicant/representative"}),(0,s.jsx)("li",{children:"Phone number"}),(0,s.jsx)("li",{children:"Email address"})]}),(0,s.jsx)("h4",{children:"3.3 Account Security Information:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Password (encrypted and securely stored)"}),(0,s.jsx)("li",{children:"Login timestamps and IP addresses for security purposes"})]}),(0,s.jsx)("h4",{children:"3.4 Technical Information:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Browser type and version"}),(0,s.jsx)("li",{children:"Device information"}),(0,s.jsx)("li",{children:"Usage analytics and system logs"})]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"4. HOW WE USE YOUR INFORMATION"}),(0,s.jsx)("p",{children:"We process your personal data for the following purposes:"}),(0,s.jsx)("h4",{children:"4.1 Primary Purposes:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Processing your organization registration"}),(0,s.jsx)("li",{children:"Managing tournament applications and approvals"}),(0,s.jsx)("li",{children:"Maintaining your account and providing portal access"}),(0,s.jsx)("li",{children:"Communicating with you regarding applications and events"})]}),(0,s.jsx)("h4",{children:"4.2 Administrative Purposes:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Verifying organization legitimacy and credentials"}),(0,s.jsx)("li",{children:"Maintaining records for regulatory compliance"}),(0,s.jsx)("li",{children:"Providing customer support and technical assistance"})]}),(0,s.jsx)("h4",{children:"4.3 Security and Legal Purposes:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Protecting against fraud and unauthorized access"}),(0,s.jsx)("li",{children:"Complying with legal obligations and court orders"}),(0,s.jsx)("li",{children:"Enforcing our terms and conditions"})]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"5. LEGAL BASIS FOR PROCESSING"}),(0,s.jsx)("p",{children:"We process your personal data based on the following legal grounds:"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Contract Performance:"})," Processing necessary to provide registration and portal services"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Legitimate Interests:"})," Managing our operations and preventing fraud"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Legal Compliance:"})," Meeting regulatory and legal requirements"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Consent:"})," Where you have provided explicit consent for specific processing activities"]})]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"6. DATA SHARING AND DISCLOSURE"}),(0,s.jsx)("p",{children:"We may share your information in the following circumstances:"}),(0,s.jsx)("h4",{children:"6.1 Authorized Partners:"}),(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Fenix Digital:"})," Our official technology partner processes data under strict contractual obligations"]}),(0,s.jsx)("li",{children:"Third-party service providers bound by confidentiality agreements"})]}),(0,s.jsx)("h4",{children:"6.2 Legal Requirements:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Government agencies when required by law"}),(0,s.jsx)("li",{children:"Law enforcement for legitimate investigations"}),(0,s.jsx)("li",{children:"Courts and legal authorities as mandated"})]}),(0,s.jsx)("h4",{children:"6.3 Business Operations:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Tournament organizers for approved events (with your consent)"}),(0,s.jsx)("li",{children:"Sports governing bodies for official purposes"})]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"7. DATA SECURITY"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"7.1 Technical Safeguards:"})," Fenix Digital implements industry-standard security measures including:"]}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"SSL/TLS encryption for data transmission"}),(0,s.jsx)("li",{children:"Encrypted database storage"}),(0,s.jsx)("li",{children:"Regular security audits and monitoring"}),(0,s.jsx)("li",{children:"Access controls and authentication systems"}),(0,s.jsx)("li",{children:"Regular backups and disaster recovery procedures"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"7.2 Organizational Safeguards:"})," We maintain strict internal policies for data access, staff training, and incident response procedures."]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"8. DATA RETENTION"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.1 Retention Period:"})," We retain your personal data for as long as necessary to fulfill the purposes outlined in this policy, typically:"]}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Active account data: While your account remains active"}),(0,s.jsx)("li",{children:"Historical records: Up to 7 years for regulatory compliance"}),(0,s.jsx)("li",{children:"Transaction logs: Up to 3 years for audit purposes"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.2 Disposal:"})," Data is securely deleted or anonymized when no longer required."]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"9. YOUR RIGHTS"}),(0,s.jsx)("p",{children:"Under applicable data protection laws, you have the following rights:"}),(0,s.jsx)("h4",{children:"9.1 Access and Portability:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Request copies of your personal data"}),(0,s.jsx)("li",{children:"Obtain data in a portable format"})]}),(0,s.jsx)("h4",{children:"9.2 Correction and Updates:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Correct inaccurate personal data"}),(0,s.jsx)("li",{children:"Update your information through the portal"})]}),(0,s.jsx)("h4",{children:"9.3 Deletion and Restriction:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Request deletion of your personal data (subject to legal requirements)"}),(0,s.jsx)("li",{children:"Restrict processing in certain circumstances"})]}),(0,s.jsx)("h4",{children:"9.4 Objection and Withdrawal:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Object to processing based on legitimate interests"}),(0,s.jsx)("li",{children:"Withdraw consent where processing is based on consent"})]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"10. INTERNATIONAL DATA TRANSFERS"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"10.1 Data Location:"})," Your data is primarily stored and processed within Malaysia by Fenix Digital's secure infrastructure."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"10.2 Cross-Border Transfers:"})," If international transfers are necessary, we ensure appropriate safeguards are in place to protect your data."]})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"11. COOKIES AND TRACKING"}),(0,s.jsx)("p",{children:"Our portal uses essential cookies for functionality and security. We do not use tracking cookies for advertising purposes. You can manage cookie preferences through your browser settings."})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"12. CHANGES TO THIS POLICY"}),(0,s.jsx)("p",{children:"We may update this Privacy Policy periodically. Changes will be posted on this page with an updated revision date. Significant changes will be communicated via email or portal notifications."})]}),(0,s.jsxs)("div",{className:"privacy-section",children:[(0,s.jsx)("h3",{children:"13. CONTACT INFORMATION"}),(0,s.jsx)("p",{children:"For privacy-related inquiries, please contact:"}),(0,s.jsxs)("div",{className:"contact-info",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Malaysia Pickleball Association"})}),(0,s.jsx)("p",{children:"Privacy Officer: privacy@malaysiapickleballassociation.org"}),(0,s.jsx)("p",{children:"Phone: +60 3-1234 5678"}),(0,s.jsxs)("p",{children:["Address: Malaysia Pickleball Association",(0,s.jsx)("br",{}),"Level 3, Sports Complex",(0,s.jsx)("br",{}),"Kuala Lumpur, Malaysia"]})]}),(0,s.jsxs)("div",{className:"contact-info",style:{marginTop:"20px"},children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Technical Partner - Fenix Digital"})}),(0,s.jsx)("p",{children:"Data Protection Officer: dpo@fenixdigital.my"}),(0,s.jsx)("p",{children:"Technical Support: support@fenixdigital.my"}),(0,s.jsx)("p",{children:"Security Issues: security@fenixdigital.my"})]})]}),(0,s.jsx)("div",{className:"privacy-section agreement-section",children:(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"By registering your organization, you acknowledge that you have read and understood this Privacy Policy and consent to the collection, use, and processing of your personal data as described herein."})})})]}),(0,s.jsx)("div",{className:"form-actions",children:(0,s.jsx)("button",{type:"button",className:"back-btn",onClick:()=>t("register-organization"),children:"Back to Registration"})}),(0,s.jsx)("style",{children:"\n        .privacy-policy {\n          max-width: 800px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n\n        .privacy-content {\n          background: white;\n          border-radius: 12px;\n          padding: 40px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n          margin-bottom: 30px;\n        }\n\n        .privacy-section {\n          margin-bottom: 30px;\n        }\n\n        .privacy-section h3 {\n          color: #2c5aa0;\n          font-size: 18px;\n          font-weight: 600;\n          margin-bottom: 15px;\n          border-bottom: 2px solid #f0f0f0;\n          padding-bottom: 8px;\n        }\n\n        .privacy-section h4 {\n          color: #444;\n          font-size: 16px;\n          font-weight: 600;\n          margin: 20px 0 10px 0;\n        }\n\n        .privacy-section p {\n          line-height: 1.6;\n          margin-bottom: 12px;\n          color: #444;\n        }\n\n        .privacy-section ul {\n          margin: 15px 0;\n          padding-left: 25px;\n        }\n\n        .privacy-section li {\n          margin-bottom: 8px;\n          line-height: 1.6;\n          color: #444;\n        }\n\n        .contact-info {\n          background: #f8f9fa;\n          border-left: 4px solid #2c5aa0;\n          padding: 15px 20px;\n          border-radius: 4px;\n        }\n\n        .contact-info p {\n          margin: 5px 0;\n          color: #555;\n        }\n\n        .agreement-section {\n          background: #e8f5e8;\n          border: 1px solid #c3e6c3;\n          border-radius: 8px;\n          padding: 20px;\n          text-align: center;\n        }\n\n        .agreement-section p {\n          color: #2d5a2d;\n          margin: 0;\n          font-size: 16px;\n        }\n\n        .form-actions {\n          text-align: center;\n        }\n\n        .back-btn {\n          background: white;\n          color: #2c5aa0;\n          border: 2px solid #2c5aa0;\n          padding: 12px 24px;\n          border-radius: 8px;\n          font-size: 16px;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s ease;\n        }\n\n        .back-btn:hover {\n          background: #2c5aa0;\n          color: white;\n          transform: translateY(-2px);\n          box-shadow: 0 8px 25px rgba(44, 90, 160, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .privacy-policy {\n            padding: 10px;\n          }\n          \n          .privacy-content {\n            padding: 20px;\n          }\n          \n          .privacy-section h3 {\n            font-size: 16px;\n          }\n          \n          .privacy-section h4 {\n            font-size: 14px;\n          }\n        }\n      "})]})};if("undefined"!==typeof document){const e=document.createElement("style");e.textContent="\n  @keyframes pulse {\n    0% {\n      transform: scale(1);\n      box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.7);\n    }\n    70% {\n      transform: scale(1.1);\n      box-shadow: 0 0 0 6px rgba(255, 71, 87, 0);\n    }\n    100% {\n      transform: scale(1);\n      box-shadow: 0 0 0 0 rgba(255, 71, 87, 0);\n    }\n  }\n",document.head.appendChild(e)}const po=e=>{let{organizationData:t,unreadCount:n,onClick:r}=e;return(0,s.jsxs)("button",{onClick:r,style:{position:"relative",width:"100%",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",padding:"10px 15px",cursor:"pointer",fontSize:"14px",fontWeight:"normal",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"background-color 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="#218838"},onMouseLeave:e=>{e.target.style.backgroundColor="#28a745"},children:[(0,s.jsx)("span",{children:"Inbox"}),n>0&&(0,s.jsx)("div",{style:{position:"absolute",top:"-6px",right:"-6px",backgroundColor:"#ff4757",color:"white",borderRadius:"50%",width:"22px",height:"22px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"600",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",animation:n>0?"pulse 2s infinite":"none",border:"2px solid white"},children:n>9?"9+":n})]})},fo=e=>{let{organizationData:t,isOpen:n,onClose:a}=e;const[i,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(0),[g,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)("");(0,r.useEffect)(()=>{n&&null!==t&&void 0!==t&&t.email&&(u(!0),v())},[n,t]),(0,r.useEffect)(()=>{if(null!==t&&void 0!==t&&t.email){w();const e=setInterval(()=>{w()},3e4);return()=>clearInterval(e)}},[t]);const v=async()=>{try{u(!0);const e=await f.getInboxMessages("organiser",t.email);e.success&&o(e.data.messages)}catch(b){console.error("Failed to load messages:",b),y("Failed to load messages")}finally{u(!1)}},w=async()=>{try{const e=await f.getUnreadMessageCount("organiser",t.email);e.success&&m(e.data.unreadCount)}catch(b){console.error("Failed to load unread count:",b)}},j=e=>{const t=new Date(e),n=new Date,r=Math.abs(n-t),a=Math.ceil(r/864e5);return 1===a?"Today":2===a?"Yesterday":a<=7?"".concat(a-1," days ago"):t.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},S=()=>{x(!1),c(null)};return n?(0,s.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:[(0,s.jsxs)("div",{className:"inbox-container",style:{backgroundColor:"white",borderRadius:"16px",border:"1px solid #e1e5e9",overflow:"hidden",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.15)",width:"100%",maxWidth:"800px",maxHeight:"85vh",display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("div",{className:"inbox-header",style:{backgroundColor:"#2c3e50",color:"white",padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #34495e"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600"},children:"Admin Messages"}),p>0&&(0,s.jsxs)("span",{style:{display:"inline-block",marginTop:"4px",color:"#bdc3c7",fontSize:"13px"},children:[p," unread message",p>1?"s":""]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,s.jsx)("button",{onClick:()=>{null!==t&&void 0!==t&&t.email&&(v(),w())},style:{backgroundColor:"transparent",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(255, 255, 255, 0.1)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},children:"Refresh"}),(0,s.jsx)("button",{onClick:a,style:{backgroundColor:"transparent",border:"none",color:"white",cursor:"pointer",fontSize:"24px",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",opacity:.7},onMouseEnter:e=>{e.target.style.opacity="1"},onMouseLeave:e=>{e.target.style.opacity="0.7"},children:"\xd7"})]})]}),(0,s.jsx)("div",{className:"messages-list",style:{flex:1,overflowY:"auto",backgroundColor:"white",minHeight:"400px"},children:d?(0,s.jsxs)("div",{style:{padding:"48px 24px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #e1e5e9",borderTop:"3px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 12px"}}),(0,s.jsx)("span",{style:{color:"#7f8c8d",fontSize:"14px"},children:"Loading messages..."})]}):b?(0,s.jsx)("div",{style:{padding:"48px 24px",textAlign:"center"},children:(0,s.jsxs)("span",{style:{color:"#e74c3c",fontSize:"14px"},children:["\u26a0\ufe0f ",b]})}):0===i.length?(0,s.jsx)("div",{style:{padding:"60px 24px",textAlign:"center"},children:(0,s.jsx)("p",{style:{margin:0,color:"#95a5a6",fontSize:"14px"},children:"No messages yet"})}):i.map((e,t)=>(0,s.jsxs)("div",{onClick:()=>(async e=>{if(c(e),x(!0),!e.isRead)try{await f.markMessageAsRead(e.messageId),o(t=>t.map(t=>t.messageId===e.messageId?h(h({},t),{},{isRead:!0,readAt:new Date}):t)),m(e=>Math.max(0,e-1))}catch(b){console.error("Failed to mark message as read:",b)}})(e),style:{padding:"16px 24px",backgroundColor:e.isRead?"white":"#f8f9fa",borderBottom:"1px solid #ecf0f1",cursor:"pointer",transition:"background-color 0.2s ease",position:"relative"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=e.isRead?"white":"#f8f9fa"},children:[!e.isRead&&(0,s.jsx)("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:"3px",backgroundColor:"#3498db"}}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"16px"},children:[(0,s.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,s.jsx)("h4",{style:{margin:"0 0 4px 0",fontWeight:e.isRead?"500":"600",fontSize:"14px",color:"#2c3e50",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.subject}),(0,s.jsxs)("div",{style:{color:"#7f8c8d",fontSize:"12px",marginBottom:"4px"},children:["From: ",e.fromName]}),(0,s.jsx)("div",{style:{color:"#95a5a6",fontSize:"13px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.content})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"6px",flexShrink:0},children:[(0,s.jsx)("span",{style:{fontSize:"12px",color:"#95a5a6"},children:j(e.createdAt)}),!e.isRead&&(0,s.jsx)("span",{style:{backgroundColor:"#3498db",color:"white",fontSize:"10px",padding:"2px 6px",borderRadius:"3px",fontWeight:"600"},children:"NEW"})]})]})]},e.messageId))})]}),g&&l&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",maxWidth:"700px",width:"100%",maxHeight:"85vh",overflow:"hidden",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",border:"1px solid #e1e5e9"},children:[(0,s.jsx)("div",{style:{backgroundColor:"#2c3e50",color:"white",padding:"20px 24px",borderBottom:"1px solid #34495e"},children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,s.jsxs)("div",{style:{flex:1,paddingRight:"20px"},children:[(0,s.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"18px",fontWeight:"600"},children:l.subject}),(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#bdc3c7"},children:[(0,s.jsxs)("div",{style:{marginBottom:"4px"},children:[(0,s.jsx)("strong",{children:"From:"})," ",l.fromName]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Date:"})," ",new Date(l.createdAt).toLocaleString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),l.relatedApplicationId&&(0,s.jsxs)("div",{style:{marginTop:"4px"},children:[(0,s.jsx)("strong",{children:"Application:"})," ",l.relatedApplicationId]})]})]}),(0,s.jsx)("button",{onClick:S,style:{backgroundColor:"transparent",border:"1px solid #bdc3c7",borderRadius:"4px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",fontSize:"16px"},children:"\u2715"})]})}),(0,s.jsx)("div",{style:{padding:"24px",maxHeight:"60vh",overflowY:"auto",backgroundColor:"white"},children:(0,s.jsx)("div",{style:{fontSize:"15px",lineHeight:"1.6",color:"#2c3e50",whiteSpace:"pre-wrap"},children:l.content})}),(0,s.jsx)("div",{style:{padding:"16px 24px",borderTop:"1px solid #e1e5e9",backgroundColor:"#f8f9fa",display:"flex",justifyContent:"flex-end"},children:(0,s.jsx)("button",{onClick:S,style:{backgroundColor:"#2c3e50",color:"white",border:"none",padding:"10px 20px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Close"})})]})})]}):null},mo=e=>{var t,n;let{setCurrentPage:a}=e;const[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(!1),[x,b]=(0,r.useState)(new Date),[y,v]=(0,r.useState)(new Date),[w,j]=(0,r.useState)(null),[S,N]=(0,r.useState)({}),[k,C]=(0,r.useState)(""),[A,_]=(0,r.useState)(null),[P,L]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[z,R]=(0,r.useState)(""),[F,I]=(0,r.useState)(!1),[D,M]=(0,r.useState)(""),O={Johor:["Johor Bahru","Batu Pahat","Muar","Kluang","Pontian","Segamat","Mersing","Kota Tinggi","Kulai","Skudai"],Kedah:["Alor Setar","Sungai Petani","Kulim","Jitra","Baling","Langkawi","Kuala Kedah","Pendang","Sik","Yan"],Kelantan:["Kota Bharu","Wakaf Che Yeh","Tanah Merah","Machang","Pasir Mas","Gua Musang","Kuala Krai","Tumpat","Pasir Puteh","Bachok"],Melaka:["Melaka City","Ayer Keroh","Batu Berendam","Bukit Baru","Tanjung Kling","Jasin","Merlimau","Masjid Tanah","Alor Gajah","Bemban"],"Negeri Sembilan":["Seremban","Port Dickson","Bahau","Tampin","Kuala Pilah","Rembau","Jelebu","Gemenceh","Labu","Linggi"],Pahang:["Kuantan","Temerloh","Bentong","Raub","Jerantut","Pekan","Kuala Lipis","Bera","Maran","Rompin"],Penang:["George Town","Bukit Mertajam","Butterworth","Perai","Nibong Tebal","Balik Pulau","Bayan Lepas","Air Itam","Tanjung Tokong","Jelutong"],Perak:["Ipoh","Taiping","Sitiawan","Kuala Kangsar","Teluk Intan","Batu Gajah","Lumut","Parit Buntar","Ayer Tawar","Bagan Serai"],Perlis:["Kangar","Arau","Padang Besar","Wang Kelian","Kaki Bukit","Simpang Empat","Beseri","Chuping","Mata Ayer","Sanglang"],Sabah:["Kota Kinabalu","Sandakan","Tawau","Lahad Datu","Keningau","Kota Belud","Kudat","Semporna","Beaufort","Ranau"],Sarawak:["Kuching","Miri","Sibu","Bintulu","Limbang","Sarikei","Sri Aman","Kapit","Betong","Mukah"],Selangor:["Shah Alam","Petaling Jaya","Subang Jaya","Klang","Ampang","Cheras","Kajang","Puchong","Seri Kembangan","Bangi"],Terengganu:["Kuala Terengganu","Chukai","Dungun","Marang","Jerteh","Besut","Setiu","Hulu Terengganu","Kemaman","Kuala Nerus"],"Kuala Lumpur":["Kuala Lumpur City Centre","Bukit Bintang","Cheras","Ampang","Bangsar","Mont Kiara","Wangsa Maju","Kepong","Setapak","Titiwangsa"],Putrajaya:["Putrajaya","Precinct 1","Precinct 8","Precinct 9","Precinct 11","Precinct 14","Precinct 16","Precinct 18","Precinct 19","Precinct 20"],Labuan:["Labuan Town","Victoria","Batu Manikar","Patau-Patau","Rancha-Rancha","Kiansam","Layang-Layangan","Sungai Lada","Sungai Miri","Varley"]},[B,q]=(0,r.useState)({organiserName:"",registrationNo:"",telContact:"",personInCharge:"",email:"",organisingPartner:"",eventTitle:"",eventStartDate:"",eventEndDate:"",eventStartDateFormatted:"",eventEndDateFormatted:"",state:"",city:"",venue:"",classification:"",eventType:"",category:"",malaysianEntryFee:"",internationalEntryFee:"",expectedParticipants:"",sponsorships:"",tournamentSoftware:[],tournamentSoftwareOther:"",hospitalName:"",hospitalDistance:"",numberOfMedics:"",emergencyTransportType:"",emergencyTransportQuantity:"",standbyVehicleType:"",eventSummary:"",scoringFormat:"traditional",dataConsent:!1,termsConsent:!1,noAlcoholGamblingConsent:!1}),[U,W]=(0,r.useState)([]),[H,V]=(0,r.useState)(!1),[G,Y]=(0,r.useState)(null),[K,J]=(0,r.useState)(!1),[Q,X]=(0,r.useState)(""),[$,Z]=(0,r.useState)(!1),[ee,te]=(0,r.useState)({organizationName:"",registrationNo:"",applicantFullName:"",phoneNumber:"",email:"",addressLine1:"",addressLine2:"",city:"",postcode:"",state:"",country:""}),[ne,re]=(0,r.useState)([]),[ae,ie]=(0,r.useState)(!1),[se,oe]=(0,r.useState)(""),[le,ce]=(0,r.useState)([]),[de,ue]=(0,r.useState)(null),[he,pe]=(0,r.useState)([]),[fe,me]=(0,r.useState)(!1),[ge,xe]=(0,r.useState)(0),[be,ye]=(0,r.useState)([]),[ve,we]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=localStorage.getItem("organizationData"),t=localStorage.getItem("organizationLoggedIn");if(e&&"true"===t){const t=JSON.parse(e);_e(t),q(e=>h(h({},e),{},{organiserName:t.organizationName,registrationNo:t.registrationNo,personInCharge:t.applicantFullName,telContact:t.phoneNumber,email:t.email})),je(t.email),Se(t.email);const n=setInterval(()=>{console.log("Auto-refreshing organization tournaments to sync with admin changes..."),je(t.email),Se(t.email)},3e4);return()=>{console.log("Cleaning up tournament refresh interval"),clearInterval(n)}}alert("Please login to your organization account first."),a("home")},[a]),(0,r.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/tournament-software/approved"),t=e.headers.get("content-type");if(!t||!t.includes("application/json"))return void console.error("Server returned non-JSON response when fetching tournament software");if(e.ok){const t=await e.json();pe(t)}else console.error("Failed to fetch approved tournament software")}catch(e){console.error("Error fetching approved tournament software:",e)}})()},[]),(0,r.useEffect)(()=>{(async()=>{try{we(!0);const e=await f.getApprovedTournaments();ye(e||[])}catch(e){console.error("Error fetching approved tournaments:",e),ye([])}finally{we(!1)}})()},[]),(0,r.useEffect)(()=>{$&&o&&(te({organizationName:o.organizationName||"",registrationNo:o.registrationNo||"",applicantFullName:o.applicantFullName||"",phoneNumber:o.phoneNumber||"",email:o.email||"",addressLine1:o.addressLine1||"",addressLine2:o.addressLine2||"",city:o.city||"",postcode:o.postcode||"",state:o.state||"",country:o.country||"Malaysia"}),re(o.documents||[]))},[$,o]);const je=async e=>{try{p(!0),console.log("Loading applied tournaments for email:",e);const t=await f.getApplicationsByOrganization(e);console.log("Loaded tournaments:",t),d(t)}catch(t){console.error("Failed to load applied tournaments:",t),d([])}finally{p(!1)}},Se=async e=>{try{const t=await f.getUnreadMessageCount("organiser",e);t.success&&xe(t.data.unreadCount)}catch(t){console.error("Failed to load unread count:",t)}},Ne=(e,t,n,r)=>{if(!e||!t||!n||!r)return!1;const a=new Date(e),i=new Date(t),s=new Date(n),o=new Date(r);return!(isNaN(a.getTime())||isNaN(i.getTime())||isNaN(s.getTime())||isNaN(o.getTime()))&&(a<=o&&s<=i)},ke=e=>{if(!e)return"";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e))return e;if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}T/.test(e))return e.split("T")[0];let t=new Date(e);return isNaN(t.getTime())?(console.warn("Could not parse date:",e),""):t.toISOString().split("T")[0]},Ce=e=>{const{name:t,value:n,type:r,checked:a}=e.target;N("tournamentSoftware"===t?e=>{const t=e.tournamentSoftware||[];return h(h({},e),{},a?{tournamentSoftware:[...t,n]}:{tournamentSoftware:t.filter(e=>e!==n)})}:e=>h(h({},e),{},{[t]:"checkbox"===r?a:n}))},Ae=()=>{L(!1),E(null),R(""),M("")},_e=async e=>{if(!e.organizationId&&e.email)try{const t=(await f.getRegisteredOrganizations()).find(t=>t.email===e.email);if(t&&t.organizationId){const n=h(h({},e),{},{organizationId:t.organizationId});return l(n),void localStorage.setItem("organizationData",JSON.stringify(n))}}catch(t){console.error("Failed to fetch organization ID:",t)}l(e)},Pe=e=>{switch(e){case"Pending Review":return"#ffa500";case"Approved":return"#28a745";case"Rejected":return"#dc3545";case"Under Review":return"#007bff";default:return"#6c757d"}},Le=e=>{const{name:t,value:n,type:r,checked:a}=e.target;q("tournamentSoftware"===t?e=>{const t=e.tournamentSoftware||[];return h(h({},e),{},a?{tournamentSoftware:[...t,n]}:{tournamentSoftware:t.filter(e=>e!==n)})}:e=>h(h({},e),{},{[t]:"checkbox"===r?a:n}))},Te=e=>{const{name:t,value:n}=e.target,r=n?(e=>{if(!e)return"";const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})})(n):"";"eventStartDate"===t?q(e=>h(h({},e),{},{eventStartDate:n,eventStartDateFormatted:r})):"eventEndDate"===t&&q(e=>h(h({},e),{},{eventEndDate:n,eventEndDateFormatted:r}))},Ee=()=>{const e=parseFloat(B.malaysianEntryFee);return!B.category||!B.malaysianEntryFee||e>200||isNaN(e)},ze=e=>{const{name:t,value:n}=e.target;te(e=>h(h({},e),{},{[t]:n}))},Re=()=>{Z(!1),oe(""),re([])},Fe=e=>{const t=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r)},n=e=>{if(!e)return null;if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,r]=e.split("-");return new Date(parseInt(t),parseInt(n)-1,parseInt(r))}const t=new Date(e);return isNaN(t.getTime())?null:new Date(t.getFullYear(),t.getMonth(),t.getDate())},r=t(e);return c.filter(e=>{const a=n(e.eventStartDate),i=n(e.eventEndDate);if(!a||!i)return!1;const s=t(a),o=t(i);return r>=s&&r<=o})};return(0,s.jsxs)("div",{className:"tournament-application-container",children:[(0,s.jsxs)("div",{className:"tournament-sidebar",children:[(0,s.jsxs)("div",{className:"sidebar-section profile-section",children:[(0,s.jsxs)("div",{className:"profile-header",children:[(0,s.jsx)("div",{className:"profile-avatar",children:(null===o||void 0===o||null===(t=o.organizationName)||void 0===t?void 0:t.charAt(0))||"O"}),(0,s.jsxs)("div",{className:"profile-info",children:[(0,s.jsx)("h3",{children:(null===o||void 0===o?void 0:o.organizationName)||"Organization"}),(0,s.jsx)("p",{className:"profile-id",children:(null===o||void 0===o?void 0:o.organizationId)||"N/A"}),(0,s.jsx)("p",{className:"profile-email",children:(null===o||void 0===o?void 0:o.email)||"N/A"})]})]}),(0,s.jsx)("button",{className:"update-profile-btn",onClick:()=>Z(!0),style:{width:"100%",padding:"10px 15px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginBottom:"10px",transition:"background-color 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#0056b3",onMouseLeave:e=>e.target.style.backgroundColor="#007bff",children:"Update Profile"}),(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)(po,{organizationData:o,unreadCount:ge,onClick:()=>me(!0)})}),(0,s.jsx)("button",{className:"calendar-btn",onClick:()=>g(!0),style:{width:"100%",padding:"10px 15px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginBottom:"10px",transition:"background-color 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>e.target.style.backgroundColor="#218838",onMouseLeave:e=>e.target.style.backgroundColor="#28a745",children:"Tournament Calendar"}),(0,s.jsx)("button",{className:"logout-btn",onClick:()=>{localStorage.removeItem("organizationData"),localStorage.removeItem("organizationLoggedIn"),a("home")},children:"Logout"})]}),(0,s.jsxs)("div",{className:"sidebar-section tournaments-section",children:[(0,s.jsx)("div",{style:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid rgba(255, 255, 255, 0.2)"},children:(0,s.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"white"},children:"Applied Tournaments"})}),u?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px 20px",color:"#7f8c8d"},children:(0,s.jsx)("div",{children:"Loading tournaments..."})}):0===c.length?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #dee2e6"},children:[(0,s.jsx)("p",{style:{margin:"0 0 8px 0",color:"#6c757d",fontWeight:"500"},children:"No tournaments applied yet"}),(0,s.jsx)("p",{style:{margin:0,color:"#adb5bd",fontSize:"13px"},children:"Submit your first application below!"})]}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:c.map((e,t)=>(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"12px",padding:"16px",color:"white",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"pointer",position:"relative",overflow:"hidden"},onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 6px 12px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 4px 6px rgba(0,0,0,0.1)"},children:[(0,s.jsx)("div",{style:{position:"absolute",top:"-20px",right:"-20px",width:"80px",height:"80px",background:"rgba(255,255,255,0.1)",borderRadius:"50%"}}),(0,s.jsxs)("div",{style:{position:"relative",zIndex:1},children:[(0,s.jsx)("div",{style:{fontSize:"15px",fontWeight:"600",marginBottom:"8px",lineHeight:"1.3",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.eventTitle||"Untitled Tournament"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",fontSize:"12px"},children:[(0,s.jsx)("span",{style:{background:"rgba(255,255,255,0.2)",padding:"3px 8px",borderRadius:"12px",fontWeight:"500"},children:e.applicationId}),(0,s.jsx)("span",{style:{background:Pe(e.status),padding:"3px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.status})]}),(0,s.jsx)("div",{style:{fontSize:"11px",opacity:.9,marginBottom:"12px"},children:e.submissionDate?new Date(e.submissionDate).toLocaleDateString("en-MY",{day:"numeric",month:"short",year:"numeric"}):"Date N/A"}),"Cancelled"===e.status?(0,s.jsx)("div",{style:{width:"100%",backgroundColor:"rgba(108, 117, 125, 0.2)",color:"#6c757d",padding:"8px 16px",borderRadius:"6px",fontSize:"13px",fontWeight:"600",textAlign:"center"},children:"Application Cancelled"}):"Approved"===e.status?(0,s.jsx)("button",{onClick:()=>(e=>{E(e),R(""),M(""),L(!0)})(e),style:{width:"100%",backgroundColor:"rgba(220, 53, 69, 0.9)",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(200, 35, 51, 1)",e.currentTarget.style.transform="scale(1.02)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(220, 53, 69, 0.9)",e.currentTarget.style.transform="scale(1)"},children:"Cancel Application"}):(0,s.jsx)("button",{onClick:()=>(e=>{console.log("Editing tournament:",e),j(e);let t=[];if(e.tournamentSoftware)if(Array.isArray(e.tournamentSoftware))t=e.tournamentSoftware;else if("string"===typeof e.tournamentSoftware)try{t=JSON.parse(e.tournamentSoftware)}catch(To){t=[e.tournamentSoftware]}N({organiserName:e.organiserName||"",registrationNo:e.registrationNo||"",telContact:e.telContact||"",personInCharge:e.personInCharge||"",email:e.email||"",organisingPartner:e.organisingPartner||"",eventTitle:e.eventTitle||"",eventStartDate:ke(e.eventStartDate||""),eventEndDate:ke(e.eventEndDate||""),state:e.state||"",city:e.city||"",venue:e.venue||"",classification:e.classification||"",eventType:e.eventType||"",category:e.category||"",malaysianEntryFee:(e.malaysianEntryFee||"").toString(),internationalEntryFee:(e.internationalEntryFee||"").toString(),expectedParticipants:(e.expectedParticipants||"").toString(),sponsorships:e.sponsorships||"",tournamentSoftware:t,tournamentSoftwareOther:e.tournamentSoftwareOther||"",eventSummary:e.eventSummary||"",scoringFormat:e.scoringFormat||"traditional",dataConsent:!0,termsConsent:!0}),C("")})(e),style:{width:"100%",backgroundColor:"rgba(255,255,255,0.95)",color:"#667eea",border:"none",padding:"8px 16px",borderRadius:"6px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="white",e.currentTarget.style.transform="scale(1.02)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255,255,255,0.95)",e.currentTarget.style.transform="scale(1)"},children:"Edit Application"})]})]},e.applicationId||t))})]})]}),(0,s.jsxs)("div",{className:"tournament-main-content",children:[(0,s.jsxs)("div",{className:"form-header",children:[(0,s.jsx)("img",{src:i,alt:"Malaysia Pickleball Association",className:"form-logo"}),(0,s.jsxs)("div",{className:"form-header-text",children:[(0,s.jsx)("h2",{children:"Tournament Application Form"}),(0,s.jsx)("p",{className:"form-subtitle",children:"Apply to organize a pickleball tournament"})]})]}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),J(!0),X(""),0===U.length)return alert("Please save at least one tournament category before submitting."),void J(!1);if(!B.tournamentSoftware||0===B.tournamentSoftware.length)return alert("Please select at least one tournament software."),void J(!1);if(B.tournamentSoftware.includes("Other")&&!B.tournamentSoftwareOther.trim())return alert("Please specify the tournament software name."),void J(!1);if(!B.hospitalName||!B.hospitalName.trim())return alert("Please enter the hospital name in the Emergency Plan section."),void J(!1);if(!B.hospitalDistance||!B.hospitalDistance.trim())return alert("Please enter the distance to hospital in the Emergency Plan section."),void J(!1);if(!B.numberOfMedics||""===B.numberOfMedics)return alert("Please enter the number of medics in the Emergency Plan section."),void J(!1);if(!B.emergencyTransportType)return alert("Please select an emergency transport type in the Emergency Plan section."),void J(!1);if("ambulance"===B.emergencyTransportType&&(!B.emergencyTransportQuantity||""===B.emergencyTransportQuantity))return alert("Please enter the number of ambulances in the Emergency Plan section."),void J(!1);if("standby_vehicle"===B.emergencyTransportType&&(!B.standbyVehicleType||!B.standbyVehicleType.trim()))return alert("Please enter the type of vehicle in the Emergency Plan section."),void J(!1);try{const e=new FormData;e.append("organiserName",B.organiserName),e.append("registrationNo",B.registrationNo),e.append("telContact",B.telContact),e.append("personInCharge",B.personInCharge),e.append("email",B.email),e.append("organisingPartner",B.organisingPartner),e.append("eventTitle",B.eventTitle),e.append("eventStartDate",B.eventStartDate),e.append("eventEndDate",B.eventEndDate),e.append("eventStartDateFormatted",B.eventStartDateFormatted),e.append("eventEndDateFormatted",B.eventEndDateFormatted),e.append("state",B.state),e.append("city",B.city),e.append("venue",B.venue),e.append("classification",B.classification),e.append("eventType",B.eventType),e.append("categories",JSON.stringify(U)),e.append("expectedParticipants",parseInt(B.expectedParticipants)),e.append("tournamentSoftware",JSON.stringify(B.tournamentSoftware)),e.append("tournamentSoftwareOther",B.tournamentSoftwareOther||""),e.append("hospitalName",B.hospitalName),e.append("hospitalDistance",B.hospitalDistance),e.append("numberOfMedics",B.numberOfMedics),e.append("emergencyTransportType",B.emergencyTransportType),e.append("emergencyTransportQuantity",B.emergencyTransportQuantity||""),e.append("standbyVehicleType",B.standbyVehicleType||""),e.append("eventSummary",B.eventSummary),e.append("scoringFormat",B.scoringFormat),e.append("sponsorships",B.sponsorships),e.append("dataConsent",B.dataConsent),e.append("termsConsent",B.termsConsent),e.append("noAlcoholGamblingConsent",B.noAlcoholGamblingConsent),de&&e.append("tournamentPoster",de),le.forEach((t,n)=>{e.append("supportDocuments",t)});const t=(await f.submitTournamentApplication(e)).application;alert("Application submitted successfully! Your application ID is: ".concat(t.applicationId));const n=JSON.parse(localStorage.getItem("organizationData")||"{}");n.email&&await je(n.email),Y(h(h({},t),{},{id:t.applicationId})),V(!0),q({organiserName:"",registrationNo:"",telContact:"",personInCharge:"",email:"",organisingPartner:"",eventTitle:"",eventStartDate:"",eventEndDate:"",eventStartDateFormatted:"",eventEndDateFormatted:"",state:"",city:"",venue:"",classification:"",eventType:"",category:"",malaysianEntryFee:"",internationalEntryFee:"",expectedParticipants:"",sponsorships:"",tournamentSoftware:"",tournamentSoftwareOther:"",hospitalName:"",hospitalDistance:"",numberOfMedics:"",emergencyTransportType:"",emergencyTransportQuantity:"",standbyVehicleType:"",eventSummary:"",scoringFormat:"traditional",dataConsent:!1,termsConsent:!1,noAlcoholGamblingConsent:!1}),W([]),ce([]),ue(null)}catch(t){console.error("Submission error:",t),X(t.message||"Failed to submit application. Please try again.")}finally{J(!1)}},children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Organiser Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"organiserName",children:"Organiser Name *"}),(0,s.jsx)("input",{type:"text",id:"organiserName",name:"organiserName",value:B.organiserName,onChange:Le,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Pre-filled from organization registration (you can modify if needed)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"registrationNo",children:"PJS/ROS/Company Registration No. *"}),(0,s.jsx)("input",{type:"text",id:"registrationNo",name:"registrationNo",value:B.registrationNo,onChange:Le,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Pre-filled from organization registration (you can modify if needed)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"telContact",children:"Tel. Contact *"}),(0,s.jsx)("input",{type:"tel",id:"telContact",name:"telContact",value:B.telContact,onChange:Le,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Pre-filled from organization registration (you can modify if needed)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"personInCharge",children:"Person in Charge *"}),(0,s.jsx)("input",{type:"text",id:"personInCharge",name:"personInCharge",value:B.personInCharge,onChange:Le,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Pre-filled from organization registration (you can modify if needed)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:B.email,onChange:Le,required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Pre-filled from organization registration (you can modify if needed)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"organisingPartner",children:"Organising Partner (if applicable)"}),(0,s.jsx)("input",{type:"text",id:"organisingPartner",name:"organisingPartner",value:B.organisingPartner,onChange:Le})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Event Details"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"eventTitle",children:"Title of Event *"}),(0,s.jsx)("input",{type:"text",id:"eventTitle",name:"eventTitle",value:B.eventTitle,onChange:Le,placeholder:"",required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Note: Should Not Include the National/State Title (e.g. Malaysia Open/Closed, State Open/Closed etc)"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"tournamentPoster",children:"Tournament Poster"}),(0,s.jsx)("input",{type:"file",id:"tournamentPoster",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type),r=t.size<=10485760;return n?r?void ue(t):(alert("Poster file is too large. Please upload an image smaller than 10MB."),void(e.target.value="")):(alert("Please upload an image file (JPG, PNG, or WEBP) for the tournament poster."),void(e.target.value=""))},style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}}),(0,s.jsx)("small",{className:"form-note",children:"Upload your tournament poster/flyer. Supported formats: JPG, PNG, WEBP (Max 10MB)"}),de&&(0,s.jsx)("div",{style:{marginTop:"15px"},children:(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"15px",backgroundColor:"#f8f9fa"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,s.jsxs)("span",{style:{fontWeight:"600",color:"#333"},children:["\ud83d\udcc4 ",de.name]}),(0,s.jsx)("button",{type:"button",onClick:()=>{ue(null);const e=document.getElementById("tournamentPoster");e&&(e.value="")},style:{padding:"4px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d"},children:["Size: ",(de.size/1024).toFixed(2)," KB"]})]})})]}),(0,s.jsxs)("div",{className:"form-group date-input-group",children:[(0,s.jsx)("label",{htmlFor:"eventStartDate",children:"Event Start Date *"}),(0,s.jsxs)("div",{className:"date-input-wrapper",children:[(0,s.jsx)("input",{type:"date",id:"eventStartDate",name:"eventStartDate",value:B.eventStartDate,onChange:Te,className:"date-picker-hidden",required:!0}),(0,s.jsx)("input",{type:"text",className:"date-display-input",value:B.eventStartDateFormatted,placeholder:"Click to select date",readOnly:!0,onClick:()=>document.getElementById("eventStartDate").showPicker()})]})]}),(0,s.jsxs)("div",{className:"form-group date-input-group",children:[(0,s.jsx)("label",{htmlFor:"eventEndDate",children:"Event End Date *"}),(0,s.jsxs)("div",{className:"date-input-wrapper",children:[(0,s.jsx)("input",{type:"date",id:"eventEndDate",name:"eventEndDate",value:B.eventEndDate,onChange:Te,min:B.eventStartDate,className:"date-picker-hidden",required:!0}),(0,s.jsx)("input",{type:"text",className:"date-display-input",value:B.eventEndDateFormatted,placeholder:"Click to select date",readOnly:!0,onClick:()=>document.getElementById("eventEndDate").showPicker()})]}),(0,s.jsx)("small",{className:"form-note",children:"End date must be on or after start date"})]}),B.eventStartDate&&B.eventEndDate&&(0,s.jsxs)("div",{className:"approved-tournaments-section",children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsx)("h3",{children:"Date Conflict Check"}),(0,s.jsx)("p",{className:"section-note",children:"Checking for approved tournaments on your selected dates (for awareness only - you can still proceed with your application)"})]}),ve?(0,s.jsx)("div",{className:"loading-message",children:"Loading tournament schedule..."}):(()=>{const e=be.filter(e=>Ne(B.eventStartDate,B.eventEndDate,e.eventStartDate,e.eventEndDate));return 0===e.length?(0,s.jsx)("div",{className:"no-conflict-message",children:"\u2713 No date conflicts found. Your selected dates are available!"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"conflict-warning",children:["\u26a0 Notice: ",e.length," approved tournament",e.length>1?"s":""," found on the same dates. You may still proceed with the application, but the MPA may consider the schedule conflict during the review process."]}),(0,s.jsx)("div",{className:"tournaments-list",children:e.map((e,t)=>{const n=e.eventStartDate?new Date(e.eventStartDate):null,r=e.eventEndDate?new Date(e.eventEndDate):null;return(0,s.jsxs)("div",{className:"tournament-item conflict",children:[(0,s.jsx)("div",{className:"tournament-name",children:e.eventTitle||"Untitled Tournament"}),(0,s.jsxs)("div",{className:"tournament-details",children:[(0,s.jsx)("span",{className:"tournament-date",children:n&&r?"".concat(n.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," - ").concat(r.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})):"Date not available"}),e.state&&(0,s.jsxs)("span",{className:"tournament-location",children:[" \u2022 ",e.state]})]})]},t)})})]})})()]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Location *"}),(0,s.jsxs)("div",{className:"location-row",children:[(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"state",children:"State"}),(0,s.jsxs)("select",{id:"state",name:"state",value:B.state,onChange:e=>{const t=e.target.value;q(e=>h(h({},e),{},{state:t,city:""}))},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Object.keys(O).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"city",children:"City"}),(0,s.jsxs)("select",{id:"city",name:"city",value:B.city,onChange:Le,required:!0,disabled:!B.state,children:[(0,s.jsx)("option",{value:"",children:"Select City"}),B.state&&O[B.state].map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}),!B.state&&(0,s.jsx)("small",{className:"form-note",children:"Please select a state first"})]})]}),(0,s.jsxs)("div",{className:"form-subgroup",children:[(0,s.jsx)("label",{htmlFor:"venue",children:"Venue"}),(0,s.jsx)("input",{type:"text",id:"venue",name:"venue",value:B.venue,onChange:Le,placeholder:"",required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Note: The venue must be fully covered and is required to hold a valid government occupancy permit."})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"classification",children:"Level of Event *"}),(0,s.jsxs)("select",{id:"classification",name:"classification",value:B.classification,onChange:Le,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Level/Type"}),(0,s.jsx)("option",{value:"District",children:"District"}),(0,s.jsx)("option",{value:"Divisional",children:"Divisional"}),(0,s.jsx)("option",{value:"State",children:"State"}),(0,s.jsx)("option",{value:"National",children:"National"}),(0,s.jsx)("option",{value:"International",children:"International"})]}),(0,s.jsx)("small",{className:"form-note",children:"Note: For State level events, the application will also be sent to the respective affiliate state association for approval."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"eventType",children:"Type of Event *"}),(0,s.jsxs)("select",{id:"eventType",name:"eventType",value:B.eventType,onChange:Le,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Type"}),(0,s.jsx)("option",{value:"Open",children:"Open"}),(0,s.jsx)("option",{value:"Closed",children:"Closed"})]}),(0,s.jsxs)("small",{className:"form-note",children:[(0,s.jsx)("strong",{children:"Open Event:"})," Participation is open to all eligible players who meet the tournament requirements.",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Closed Event:"})," Participation is restricted to players who meet specific eligibility, membership, or invitation requirements."]})]})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",style:{flex:"2"},children:[(0,s.jsx)("label",{htmlFor:"category",children:"Category *"}),(0,s.jsx)("input",{type:"text",id:"category",name:"category",placeholder:"e.g., Men's Singles, Women's Doubles, Mixed Doubles",value:B.category,onChange:Le}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Organisers are required to declare all competition categories planned for this tournament."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"malaysianEntryFee",children:"Malaysian Entry Fee (RM) per player *"}),(0,s.jsx)("input",{type:"number",id:"malaysianEntryFee",name:"malaysianEntryFee",placeholder:"0.00",min:"0",max:"200",step:"0.01",value:B.malaysianEntryFee,onChange:Le,style:{borderColor:B.malaysianEntryFee&&parseFloat(B.malaysianEntryFee)>200?"#dc3545":""}}),(0,s.jsx)("small",{className:"form-note",style:{color:(B.malaysianEntryFee&&parseFloat(B.malaysianEntryFee),"#dc3545"),fontWeight:B.malaysianEntryFee&&parseFloat(B.malaysianEntryFee)>200?"bold":"normal"},children:B.malaysianEntryFee&&parseFloat(B.malaysianEntryFee)>200?"\u26a0\ufe0f Fee exceeds RM 200.00 limit! Please enter a valid amount.":"Note: Not more than RM 200.00"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"internationalEntryFee",children:"International Entry Fee (RM) per player"}),(0,s.jsx)("input",{type:"number",id:"internationalEntryFee",name:"internationalEntryFee",placeholder:"0.00",min:"0",step:"0.01",value:B.internationalEntryFee,onChange:Le}),(0,s.jsx)("small",{className:"form-note",style:{color:"#dc3545"},children:"Note: Only required if international players are involved"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{style:{visibility:"hidden"},children:"Save"}),(0,s.jsx)("button",{type:"button",onClick:()=>{if(!B.category||!B.malaysianEntryFee)return void alert("Please fill in Category and Malaysian Entry Fee before saving.");const e=parseFloat(B.malaysianEntryFee);if(e>200)return void alert("Malaysian Entry Fee cannot exceed RM 200.00 per player. Please enter a valid amount.");const t={id:Date.now(),category:B.category,malaysianEntryFee:e,internationalEntryFee:B.internationalEntryFee?parseFloat(B.internationalEntryFee):0};W(e=>[...e,t]),q(e=>h(h({},e),{},{category:"",malaysianEntryFee:"",internationalEntryFee:""}))},disabled:Ee(),style:{padding:"10px 20px",backgroundColor:Ee()?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:Ee()?"not-allowed":"pointer",width:"auto",opacity:Ee()?.6:1,transition:"all 0.2s ease"},title:Ee()?B.malaysianEntryFee&&parseFloat(B.malaysianEntryFee)>200?"Malaysian Entry Fee exceeds RM 200.00 limit":"Please fill in Category and Malaysian Entry Fee (max RM 200.00)":"Save this category",children:"Save Category"})]})]}),U.length>0&&(0,s.jsxs)("div",{className:"saved-categories",style:{marginTop:"15px",marginBottom:"15px"},children:[(0,s.jsx)("h4",{children:"Tournament Categories:"}),(0,s.jsx)("div",{style:{overflowX:"auto"},children:(0,s.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd",backgroundColor:"white"},children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{style:{backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #ddd",borderRight:"1px solid #ddd",fontWeight:"bold",color:"#333"},children:"Category"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",borderRight:"1px solid #ddd",fontWeight:"bold",color:"#333"},children:"Malaysian Entry Fee (RM) per player"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",borderRight:"1px solid #ddd",fontWeight:"bold",color:"#333"},children:"International Entry Fee (RM) per player"}),(0,s.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"2px solid #ddd",fontWeight:"bold",color:"#333",width:"100px"},children:"Action"})]})}),(0,s.jsx)("tbody",{children:U.map((e,t)=>(0,s.jsxs)("tr",{style:{backgroundColor:t%2===0?"#fff":"#f9f9f9"},children:[(0,s.jsx)("td",{style:{padding:"12px",borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd"},children:e.category}),(0,s.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd"},children:e.malaysianEntryFee.toFixed(2)}),(0,s.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd",borderRight:"1px solid #ddd"},children:e.internationalEntryFee>0?e.internationalEntryFee.toFixed(2):"-"}),(0,s.jsx)("td",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #ddd"},children:(0,s.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void W(e=>e.filter(e=>e.id!==t));var t},style:{padding:"6px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Remove"})})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"expectedParticipants",children:"Maximum Participant *"}),(0,s.jsx)("input",{type:"number",id:"expectedParticipants",name:"expectedParticipants",value:B.expectedParticipants,onChange:Le,min:"1",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"sponsorships",children:"List of Sponsorships Involved"}),(0,s.jsx)("textarea",{id:"sponsorships",name:"sponsorships",value:B.sponsorships,onChange:Le,rows:"4",placeholder:"Enter sponsor names (one per line or comma-separated)\ne.g., Company A, Company B, Company C"}),(0,s.jsx)("small",{className:"form-note",children:"List all sponsors involved in this tournament. Leave blank if no sponsors."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Tournament Software Being Used * (Select all that apply)"}),(0,s.jsxs)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"10px",backgroundColor:"#f9f9f9"},children:[he.map(e=>(0,s.jsx)("div",{style:{padding:"8px",marginBottom:"5px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:e.softwareName,checked:B.tournamentSoftware.includes(e.softwareName),onChange:Le,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),e.softwareName]})},e._id)),(0,s.jsx)("div",{style:{padding:"8px",borderTop:"1px solid #ddd",marginTop:"5px",paddingTop:"10px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:"Other",checked:B.tournamentSoftware.includes("Other"),onChange:Le,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),"Other (Please specify)"]})})]})]}),B.tournamentSoftware.includes("Other")&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"tournamentSoftwareOther",children:"Please specify the software name *"}),(0,s.jsx)("input",{type:"text",id:"tournamentSoftwareOther",name:"tournamentSoftwareOther",value:B.tournamentSoftwareOther,onChange:Le,placeholder:"Enter software name",required:!0})]}),(0,s.jsxs)("div",{className:"form-subsection",style:{marginTop:"20px",marginBottom:"20px",padding:"15px",backgroundColor:"#fff5f5",borderRadius:"8px",border:"1px solid #ffcdd2"},children:[(0,s.jsx)("h4",{style:{marginBottom:"15px",color:"#c62828"},children:"Emergency Plan"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"hospitalName",children:"Hospital Name *"}),(0,s.jsx)("input",{type:"text",id:"hospitalName",name:"hospitalName",value:B.hospitalName,onChange:Le,placeholder:"Enter nearest hospital name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"hospitalDistance",children:"Distance to Hospital (km) *"}),(0,s.jsx)("input",{type:"text",id:"hospitalDistance",name:"hospitalDistance",value:B.hospitalDistance,onChange:Le,placeholder:"e.g., 5 km",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"numberOfMedics",children:"Number of Medics *"}),(0,s.jsx)("input",{type:"number",id:"numberOfMedics",name:"numberOfMedics",value:B.numberOfMedics,onChange:Le,placeholder:"0",min:"0",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Emergency Transport Type *"}),(0,s.jsxs)("div",{className:"radio-group",style:{marginTop:"8px"},children:[(0,s.jsxs)("div",{className:"radio-option",style:{marginBottom:"8px"},children:[(0,s.jsx)("input",{type:"radio",id:"transportAmbulance",name:"emergencyTransportType",value:"ambulance",checked:"ambulance"===B.emergencyTransportType,onChange:Le,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"transportAmbulance",style:{display:"inline",fontWeight:"normal"},children:"Ambulance"})]}),(0,s.jsxs)("div",{className:"radio-option",children:[(0,s.jsx)("input",{type:"radio",id:"transportStandby",name:"emergencyTransportType",value:"standby_vehicle",checked:"standby_vehicle"===B.emergencyTransportType,onChange:Le,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"transportStandby",style:{display:"inline",fontWeight:"normal"},children:"Standby/Support Emergency Vehicle"})]})]})]}),"ambulance"===B.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"emergencyTransportQuantity",children:"Number of Ambulances *"}),(0,s.jsx)("input",{type:"number",id:"emergencyTransportQuantity",name:"emergencyTransportQuantity",value:B.emergencyTransportQuantity,onChange:Le,placeholder:"0",min:"1",required:!0})]}),"standby_vehicle"===B.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"standbyVehicleType",children:"Type of Vehicle *"}),(0,s.jsx)("input",{type:"text",id:"standbyVehicleType",name:"standbyVehicleType",value:B.standbyVehicleType,onChange:Le,placeholder:"e.g., Van, SUV",required:!0}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Only SUV or van\u2013type vehicles are permitted. The distance to the hospital must not exceed 5 km. If the distance is more than 5 km, the use of an ambulance is mandatory."})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"eventSummary",children:"Brief Summary/Purpose of Event *"}),(0,s.jsx)("textarea",{id:"eventSummary",name:"eventSummary",value:B.eventSummary,onChange:Le,rows:"5",maxLength:"300",placeholder:"",required:!0}),(0,s.jsxs)("div",{className:"character-counter-wrapper",children:[(0,s.jsx)("small",{className:"form-note",children:"Maximum 300 characters. Do not include your factsheet."}),(0,s.jsxs)("small",{className:"character-counter ".concat(B.eventSummary.length>=300?"at-limit":B.eventSummary.length>=250?"near-limit":""),children:[B.eventSummary.length,"/300"]})]})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Upload Fact Sheet"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"supportDocuments",children:"Upload Fact Sheet *"}),(0,s.jsx)("input",{type:"file",id:"supportDocuments",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:e=>{const t=Array.from(e.target.files),n=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/jpg"],r=t.filter(e=>{const t=n.includes(e.type),r=e.size<=10485760;return t?!!r||(alert('File "'.concat(e.name,'" is too large. Please upload files smaller than 10MB.')),!1):(alert('File "'.concat(e.name,'" is not a supported format. Please upload PDF, DOC, DOCX, JPG, or PNG files only.')),!1)});r.length>0&&ce(e=>[...e,...r])},style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}}),(0,s.jsx)("small",{className:"form-note",children:"Upload your tournament fact sheet (required). Supported formats: PDF, DOC, DOCX, JPG, PNG (Max 10MB each)"})]}),le.length>0&&(0,s.jsxs)("div",{style:{marginTop:"15px",marginBottom:"15px"},children:[(0,s.jsx)("h4",{children:"Uploaded Fact Sheet:"}),(0,s.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"15px",backgroundColor:"#f8f9fa",maxHeight:"200px",overflowY:"auto"},children:le.map((e,t)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",backgroundColor:"white",borderRadius:"4px",marginBottom:t<le.length-1?"8px":"0",border:"1px solid #e9ecef"},children:[(0,s.jsxs)("div",{style:{flex:"1",minWidth:"0"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"2px"},children:[(e.size/1024/1024).toFixed(2)," MB \u2022 ",e.type.split("/")[1].toUpperCase()]})]}),(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{ce(t=>t.filter((t,n)=>n!==e))})(t),style:{backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"3px",padding:"6px 10px",fontSize:"12px",cursor:"pointer",marginLeft:"10px",flexShrink:"0"},children:"Remove"})]},t))})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Consent & Agreement"}),(0,s.jsxs)("div",{className:"consent-section",children:[(0,s.jsx)("div",{className:"consent-item",children:(0,s.jsxs)("label",{className:"checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"dataConsent",checked:B.dataConsent,onChange:Le,required:!0}),(0,s.jsx)("span",{className:"checkmark"}),"I consent to the collection, use, and processing of my personal data by Malaysia Pickleball Association (MPA) for the purposes of tournament organization, administration, and related communications. I understand that my data will be handled in accordance with applicable data protection laws."]})}),(0,s.jsx)("div",{className:"consent-item",children:(0,s.jsxs)("label",{className:"checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"termsConsent",checked:B.termsConsent,onChange:Le,required:!0}),(0,s.jsx)("span",{className:"checkmark"}),"I have read, understood, and agree to abide by the Terms and Conditions set forth by Malaysia Pickleball Association (MPA) for tournament participation and organization. I acknowledge that failure to comply with these terms may result in disqualification or other appropriate actions."]})}),(0,s.jsx)("div",{className:"consent-item",children:(0,s.jsxs)("label",{className:"checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"noAlcoholGamblingConsent",checked:B.noAlcoholGamblingConsent,onChange:Le,required:!0}),(0,s.jsx)("span",{className:"checkmark"}),"I confirm that this tournament will not involve, sell, promote, or allow any alcohol or gambling activities whatsoever. I understand that any violation of this policy may result in immediate disqualification and other appropriate actions by Malaysia Pickleball Association (MPA)."]})})]})]}),H?(0,s.jsxs)("div",{className:"submission-success",children:[(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("h3",{children:"Application Submitted Successfully!"}),(0,s.jsx)("p",{children:"Your tournament application has been submitted and is now under review."}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Important:"})," Check your email for a confirmation message with your application PDF attached."]}),(0,s.jsx)("p",{children:"If you don't receive the email within a few minutes, please check your spam folder."})]}),(0,s.jsxs)("div",{className:"form-actions",children:[(0,s.jsx)("button",{type:"button",className:"pdf-btn active",onClick:()=>{const e=G||B,t=new ui("p","mm","a4");let n=10;const r=(e,n)=>(t.setTextColor(0,63,127),t.setFontSize(10),t.setFont("helvetica","bold"),t.text(e,25,n+5),n+12),a=(e,n,r)=>{t.setTextColor(60,60,60),t.setFontSize(9),t.setFont("helvetica","bold"),t.text(e+":",25,r+3),t.setTextColor(0,0,0),t.setFont("helvetica","normal");const a=n||"Not provided",i=t.splitTextToSize(a,110);return t.text(i,80,r+3),r+Math.max(6,5*i.length)},s=new Image;s.onload=function(){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=s.width,i.height=s.height,o.globalAlpha=.1,o.drawImage(s,0,0);const l=i.toDataURL("image/png"),c=()=>{const e=120;t.addImage(l,"PNG",45,88.5,e,e)};c(),t.addImage(s,"PNG",20,n,20,20),t.setTextColor(0,63,127),t.setFontSize(11),t.setFont("helvetica","bold"),t.text("MALAYSIA PICKLEBALL ASSOCIATION",45,n+8),t.setTextColor(100,100,100),t.setFontSize(10),t.setFont("helvetica","normal"),t.text("Tournament Application Form",45,n+15),n+=25,t.setDrawColor(0,63,127),t.setLineWidth(.5),t.line(20,n,190,n),n+=10,t.setTextColor(0,63,127),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("APPLICATION DETAILS",25,n+5),t.setTextColor(60,60,60),t.setFontSize(9),t.setFont("helvetica","normal"),t.text("Application ID:",25,n+12),t.text("Submission Date:",25,n+18),t.setTextColor(0,0,0),t.setFont("helvetica","bold"),t.text(e.id||(()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let n=0;n<6;n++)t+=e.charAt(Math.floor(36*Math.random()));return"MPA"+t})(),80,n+12),t.text((new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"}),80,n+18),n+=25,n=r("ORGANISER INFORMATION",n),n=a("Organiser Name",e.organiserName,n),n=a("Registration Number",e.registrationNo,n),n=a("Telephone Contact",e.telContact,n),n=a("Person in Charge",e.personInCharge,n),n=a("Email Address",e.email,n),n=a("Organising Partner",e.organisingPartner||"Not applicable",n),n+=10,n=r("EVENT DETAILS",n),n=a("Event Title",e.eventTitle,n);const d=e=>{if(!e)return"Not provided";return new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})},u=e.eventStartDate&&e.eventEndDate?"".concat(d(e.eventStartDate)," - ").concat(d(e.eventEndDate)):"Not provided";n=a("Event Dates",u,n);const h=e.state&&e.city?"".concat(e.city,", ").concat(e.state):"Not provided";n=a("Location",h,n),n=a("Venue",e.venue,n),n=a("Level of Event",e.classification,n),n=a("Type of Event",e.eventType,n);const p=function(){return n+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:30)>280&&(t.addPage(),c(),n=25,!0)};e.categories&&e.categories.length>0?(n=r("TOURNAMENT CATEGORIES & ENTRY FEES",n),e.categories.forEach((e,t)=>{p(30),n=a("Category ".concat(t+1),e.category,n),n=a("Malaysian Entry Fee (RM)",e.malaysianEntryFee.toFixed(2),n),n=a("International Entry Fee (RM)",e.internationalEntryFee.toFixed(2),n),n+=5})):U&&U.length>0&&(n=r("TOURNAMENT CATEGORIES & ENTRY FEES",n),U.forEach((e,t)=>{p(30),n=a("Category ".concat(t+1),e.category,n),n=a("Malaysian Entry Fee (RM)",e.malaysianEntryFee.toFixed(2),n),n=a("International Entry Fee (RM)",e.internationalEntryFee.toFixed(2),n),n+=5})),p(20),n=a("Maximum Participant",e.expectedParticipants,n),n=a("Sponsorships",e.sponsorships||"None",n);let f=[];Array.isArray(e.tournamentSoftware)?f=e.tournamentSoftware.map(t=>"Other"===t&&e.tournamentSoftwareOther?e.tournamentSoftwareOther:t):e.tournamentSoftware&&(f="Other"===e.tournamentSoftware?[e.tournamentSoftwareOther]:[e.tournamentSoftware]);const m=f.length>0?f.join(", "):"Not specified";n=a("Tournament Software",m,n),n+=10,p(50),n=r("EMERGENCY PLAN",n),n=a("Hospital Name",e.hospitalName||"Not provided",n),n=a("Distance to Hospital",e.hospitalDistance?"".concat(e.hospitalDistance):"Not provided",n),n=a("Number of Medics",e.numberOfMedics||"Not provided",n);let g="Not specified";if("ambulance"===e.emergencyTransportType?g="Ambulance (Quantity: ".concat(e.emergencyTransportQuantity||"Not specified",")"):"standby_vehicle"===e.emergencyTransportType&&(g="Standby/Support Emergency Vehicle (Type: ".concat(e.standbyVehicleType||"Not specified",")")),n=a("Emergency Transport",g,n),n+=10,e.eventSummary&&e.eventSummary.trim()){p(40),n=r("EVENT SUMMARY",n),t.setTextColor(0,0,0),t.setFont("helvetica","normal"),t.setFontSize(9);const a=t.splitTextToSize(e.eventSummary,160);t.text(a,25,n+5),n+=5*a.length+10}p(80),n=r("CONSENT & AGREEMENT",n),e.dataConsent?t.setTextColor(76,175,80):t.setTextColor(244,67,54),t.setFontSize(9),t.setFont("helvetica","bold"),t.text((e.dataConsent,"DATA PROTECTION CONSENT"),25,n+5),t.text(e.dataConsent?"AGREED":"NOT AGREED",140,n+5),t.setTextColor(60,60,60),t.setFontSize(8),t.setFont("helvetica","normal");const x=t.splitTextToSize("I consent to the collection, use, and processing of my personal data by Malaysia Pickleball Association (MPA) for the purposes of tournament organization, administration, and related communications. I understand that my data will be handled in accordance with applicable data protection laws.",160);t.text(x,25,n+12,{lineHeightFactor:1.3}),n+=35,e.termsConsent?t.setTextColor(76,175,80):t.setTextColor(244,67,54),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("TERMS & CONDITIONS",25,n+5),t.text(e.termsConsent?"AGREED":"NOT AGREED",140,n+5),t.setTextColor(60,60,60),t.setFontSize(8),t.setFont("helvetica","normal");const b=t.splitTextToSize("I have read, understood, and agree to abide by the Terms and Conditions set forth by Malaysia Pickleball Association (MPA) for tournament participation and organization. I acknowledge that failure to comply with these terms may result in disqualification or other appropriate actions.",160);t.text(b,25,n+12,{lineHeightFactor:1.3}),n+=35,n=r("TOURNAMENT GUIDELINES",n),t.setTextColor(60,60,60),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("SCORING FORMAT",25,n),t.setFont("helvetica","normal"),t.text("\u2022 Traditional scoring: 11+ pts",25,n+6),t.text("\u2022 Rally scoring: 21+ pts",25,n+12),t.text("  (first round-robins only)",25,n+18),t.setFont("helvetica","bold"),t.text("SKILL RATINGS",113,n),t.setFont("helvetica","normal"),t.text("Intermediate: < 3.5",113,n+6),t.text("Advanced: < 4.5",113,n+12),t.text("Elite: >= 4.5",113,n+18),n+=45,n=270,t.setDrawColor(0,63,127),t.setLineWidth(.5),t.line(20,n,190,n),t.setTextColor(0,63,127),t.setFontSize(9),t.setFont("helvetica","bold"),t.text("MALAYSIA PICKLEBALL ASSOCIATION",20,n+8),t.setTextColor(100,100,100),t.setFont("helvetica","normal"),t.setFontSize(8),t.text("Generated: ".concat((new Date).toLocaleDateString("en-GB")," ").concat((new Date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})),20,n+15),t.text("Official Tournament Application Portal",130,n+8),t.text("www.malaysiapickleball.my",130,n+15);const y=t.output("blob"),v=URL.createObjectURL(y);window.open(v,"_blank")},s.src=i},children:"Download Application PDF (Backup)"}),(0,s.jsx)("button",{type:"button",className:"home-btn",onClick:()=>a("home"),children:"Back to Home"})]})]}):(0,s.jsxs)("div",{className:"form-actions",children:[Q&&(0,s.jsx)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:Q}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(B.dataConsent&&B.termsConsent&&B.noAlcoholGamblingConsent&&!K&&0!==le.length?"":"disabled"),disabled:!B.dataConsent||!B.termsConsent||!B.noAlcoholGamblingConsent||K||0===le.length,children:K?"Submitting Application...":"Submit Tournament Application"})]})]})]}),w&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"30px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto"},children:[(0,s.jsx)("h3",{style:{marginBottom:"20px"},children:"Edit Tournament Application"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=w.applicationId;let t;A?(t=new FormData,Object.keys(S).forEach(e=>{Array.isArray(S[e])?t.append(e,JSON.stringify(S[e])):t.append(e,S[e])}),t.append("tournamentPoster",A),t.append("applicationId",e),t.append("id",e),t.append("isUpdate",!0)):t=h(h({},S),{},{applicationId:e,id:e,isUpdate:!0}),await f.updateTournamentApplication(e,t),d(t=>t.map(t=>t.applicationId===e?h(h({},t),S):t)),C(""),_(null),alert("Tournament updated successfully!"),j(null)}catch(t){console.error("Error updating tournament:",t),C(t.message||"Failed to update tournament")}},className:"tournament-form",children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h4",{children:"Organiser Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-organiserName",children:"Organiser Name *"}),(0,s.jsx)("input",{type:"text",id:"edit-organiserName",name:"organiserName",value:S.organiserName||"",onChange:Ce,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-registrationNo",children:"Registration No. *"}),(0,s.jsx)("input",{type:"text",id:"edit-registrationNo",name:"registrationNo",value:S.registrationNo||"",onChange:Ce,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-telContact",children:"Phone Contact *"}),(0,s.jsx)("input",{type:"tel",id:"edit-telContact",name:"telContact",value:S.telContact||"",onChange:Ce,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-personInCharge",children:"Person in Charge"}),(0,s.jsx)("input",{type:"text",id:"edit-personInCharge",name:"personInCharge",value:S.personInCharge||"",onChange:Ce})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-email",children:"Email *"}),(0,s.jsx)("input",{type:"email",id:"edit-email",name:"email",value:S.email||"",onChange:Ce,required:!0})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h4",{children:"Event Details"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventTitle",children:"Event Title *"}),(0,s.jsx)("input",{type:"text",id:"edit-eventTitle",name:"eventTitle",value:S.eventTitle||"",onChange:Ce,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-tournamentPoster",children:"Tournament Poster"}),(null===w||void 0===w?void 0:w.tournamentPoster)&&!A&&(0,s.jsx)("div",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#e7f3ff",borderRadius:"4px"},children:(0,s.jsxs)("small",{style:{color:"#0056b3"},children:["\u2713 Current poster: ",w.tournamentPoster.originalname||"Poster uploaded"]})}),(0,s.jsx)("input",{type:"file",id:"edit-tournamentPoster",accept:"image/jpeg,image/png,image/jpg,image/webp",onChange:e=>{const t=e.target.files[0];if(!t)return;const n=["image/jpeg","image/png","image/jpg","image/webp"].includes(t.type),r=t.size<=10485760;return n?r?void _(t):(alert("Poster file is too large. Please upload an image smaller than 10MB."),void(e.target.value="")):(alert("Please upload an image file (JPG, PNG, or WEBP) for the tournament poster."),void(e.target.value=""))},style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}}),(0,s.jsxs)("small",{className:"form-note",children:["Upload new tournament poster (JPG, PNG, WEBP - Max 10MB) ",(null===w||void 0===w?void 0:w.tournamentPoster)&&"- Leave empty to keep existing poster"]}),A&&(0,s.jsx)("div",{style:{marginTop:"15px"},children:(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",padding:"15px",backgroundColor:"#f8f9fa"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,s.jsxs)("span",{style:{fontWeight:"600",color:"#333"},children:["\ud83d\udcc4 ",A.name]}),(0,s.jsx)("button",{type:"button",onClick:()=>{_(null);const e=document.getElementById("edit-tournamentPoster");e&&(e.value="")},style:{padding:"4px 12px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d"},children:["Size: ",(A.size/1024).toFixed(2)," KB"]})]})})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventStartDate",children:"Event Start Date *"}),(0,s.jsx)("input",{type:"date",id:"edit-eventStartDate",name:"eventStartDate",value:S.eventStartDate||"",onChange:Ce,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventEndDate",children:"Event End Date *"}),(0,s.jsx)("input",{type:"date",id:"edit-eventEndDate",name:"eventEndDate",value:S.eventEndDate||"",onChange:Ce,required:!0})]})]}),S.eventStartDate&&S.eventEndDate&&(0,s.jsxs)("div",{className:"approved-tournaments-section",children:[(0,s.jsxs)("div",{className:"section-header",children:[(0,s.jsx)("h3",{children:"Date Conflict Check"}),(0,s.jsx)("p",{className:"section-note",children:"Checking for approved tournaments on your selected dates (for awareness only)"})]}),ve?(0,s.jsx)("div",{className:"loading-message",children:"Loading tournament schedule..."}):(()=>{const e=be.filter(e=>e.applicationId!==w.applicationId&&Ne(S.eventStartDate,S.eventEndDate,e.eventStartDate,e.eventEndDate));return 0===e.length?(0,s.jsx)("div",{className:"no-conflict-message",children:"\u2713 No date conflicts found. Your selected dates are available!"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"conflict-warning",children:["\u26a0 Notice: ",e.length," approved tournament",e.length>1?"s":""," found on the same dates. You may still proceed with the application, but the MPA may consider the schedule conflict during the review process."]}),(0,s.jsx)("div",{className:"tournaments-list",children:e.map((e,t)=>{const n=e.eventStartDate?new Date(e.eventStartDate):null,r=e.eventEndDate?new Date(e.eventEndDate):null;return(0,s.jsxs)("div",{className:"tournament-item conflict",children:[(0,s.jsx)("div",{className:"tournament-name",children:e.eventTitle||"Untitled Tournament"}),(0,s.jsxs)("div",{className:"tournament-details",children:[(0,s.jsx)("span",{className:"tournament-date",children:n&&r?"".concat(n.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," - ").concat(r.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})):"Date not available"}),e.state&&(0,s.jsxs)("span",{className:"tournament-location",children:[" \u2022 ",e.state]})]})]},t)})})]})})()]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-state",children:"State *"}),(0,s.jsxs)("select",{id:"edit-state",name:"state",value:S.state||"",onChange:e=>{const t=e.target.value;N(e=>h(h({},e),{},{state:t,city:""}))},required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select State"}),Object.keys(O).map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-city",children:"City *"}),(0,s.jsxs)("select",{id:"edit-city",name:"city",value:S.city||"",onChange:Ce,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select City"}),S.state&&(null===(n=O[S.state])||void 0===n?void 0:n.map(e=>(0,s.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-venue",children:"Venue *"}),(0,s.jsx)("input",{type:"text",id:"edit-venue",name:"venue",value:S.venue||"",onChange:Ce,required:!0})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-classification",children:"Level of Event *"}),(0,s.jsxs)("select",{id:"edit-classification",name:"classification",value:S.classification||"",onChange:Ce,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Level/Type"}),(0,s.jsx)("option",{value:"District",children:"District"}),(0,s.jsx)("option",{value:"Divisional",children:"Divisional"}),(0,s.jsx)("option",{value:"State",children:"State"}),(0,s.jsx)("option",{value:"National",children:"National"}),(0,s.jsx)("option",{value:"International",children:"International"})]}),(0,s.jsx)("small",{className:"form-note",children:"Note: For State level events, the application will also be sent to the respective affiliate state association for approval."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventType",children:"Type of Event *"}),(0,s.jsxs)("select",{id:"edit-eventType",name:"eventType",value:S.eventType||"",onChange:Ce,required:!0,children:[(0,s.jsx)("option",{value:"",children:"Select Type"}),(0,s.jsx)("option",{value:"Open",children:"Open"}),(0,s.jsx)("option",{value:"Closed",children:"Closed"})]}),(0,s.jsxs)("small",{className:"form-note",children:[(0,s.jsx)("strong",{children:"Open Event:"})," Participation is open to all eligible players who meet the tournament requirements.",(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Closed Event:"})," Participation is restricted to players who meet specific eligibility, membership, or invitation requirements."]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-category",children:"Category *"}),(0,s.jsx)("input",{type:"text",id:"edit-category",name:"category",value:S.category||"",onChange:Ce,placeholder:"e.g., Men's Singles, Women's Doubles, Mixed Doubles"}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Organisers are required to declare all competition categories planned for this tournament."})]}),(0,s.jsxs)("div",{className:"form-row",children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-malaysianEntryFee",children:"Malaysian Entry Fee (RM) per player *"}),(0,s.jsx)("input",{type:"number",id:"edit-malaysianEntryFee",name:"malaysianEntryFee",value:S.malaysianEntryFee||"",onChange:Ce,min:"0",max:"200",step:"0.01"}),(0,s.jsx)("small",{className:"form-note",style:{color:"#dc3545"},children:"Note: Not more than RM 200.00"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-internationalEntryFee",children:"International Entry Fee (RM) per player"}),(0,s.jsx)("input",{type:"number",id:"edit-internationalEntryFee",name:"internationalEntryFee",value:S.internationalEntryFee||"",onChange:Ce,min:"0",step:"0.01"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-expectedParticipants",children:"Maximum Participant *"}),(0,s.jsx)("input",{type:"number",id:"edit-expectedParticipants",name:"expectedParticipants",value:S.expectedParticipants||"",onChange:Ce,min:"1",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-sponsorships",children:"List of Sponsorships Involved"}),(0,s.jsx)("textarea",{id:"edit-sponsorships",name:"sponsorships",value:S.sponsorships||"",onChange:Ce,rows:"4",placeholder:"Enter sponsor names (one per line or comma-separated)\ne.g., Company A, Company B, Company C"}),(0,s.jsx)("small",{className:"form-note",children:"List all sponsors involved in this tournament. Leave blank if no sponsors."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Tournament Software Being Used * (Select all that apply)"}),(0,s.jsxs)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"10px",backgroundColor:"#f9f9f9"},children:[he.map(e=>(0,s.jsx)("div",{style:{padding:"8px",marginBottom:"5px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:e.softwareName,checked:S.tournamentSoftware&&S.tournamentSoftware.includes(e.softwareName),onChange:Ce,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),e.softwareName]})},e._id)),(0,s.jsx)("div",{style:{padding:"8px",borderTop:"1px solid #ddd",marginTop:"5px",paddingTop:"10px"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:[(0,s.jsx)("input",{type:"checkbox",name:"tournamentSoftware",value:"Other",checked:S.tournamentSoftware&&S.tournamentSoftware.includes("Other"),onChange:Ce,style:{marginRight:"10px",width:"16px",height:"16px",cursor:"pointer"}}),"Other (Please specify)"]})})]})]}),S.tournamentSoftware&&S.tournamentSoftware.includes("Other")&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-tournamentSoftwareOther",children:"Please specify the software name *"}),(0,s.jsx)("input",{type:"text",id:"edit-tournamentSoftwareOther",name:"tournamentSoftwareOther",value:S.tournamentSoftwareOther||"",onChange:Ce,placeholder:"Enter software name",required:!0})]}),(0,s.jsxs)("div",{className:"form-subsection",style:{marginTop:"20px",marginBottom:"20px",padding:"15px",backgroundColor:"#fff5f5",borderRadius:"8px",border:"1px solid #ffcdd2"},children:[(0,s.jsx)("h4",{style:{marginBottom:"15px",color:"#c62828"},children:"Emergency Plan"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-hospitalName",children:"Hospital Name *"}),(0,s.jsx)("input",{type:"text",id:"edit-hospitalName",name:"hospitalName",value:S.hospitalName||"",onChange:Ce,placeholder:"Enter nearest hospital name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-hospitalDistance",children:"Distance to Hospital (km) *"}),(0,s.jsx)("input",{type:"text",id:"edit-hospitalDistance",name:"hospitalDistance",value:S.hospitalDistance||"",onChange:Ce,placeholder:"e.g., 5 km",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-numberOfMedics",children:"Number of Medics *"}),(0,s.jsx)("input",{type:"number",id:"edit-numberOfMedics",name:"numberOfMedics",value:S.numberOfMedics||"",onChange:Ce,placeholder:"0",min:"0",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Emergency Transport Type *"}),(0,s.jsxs)("div",{className:"radio-group",style:{marginTop:"8px"},children:[(0,s.jsxs)("div",{className:"radio-option",style:{marginBottom:"8px"},children:[(0,s.jsx)("input",{type:"radio",id:"edit-transportAmbulance",name:"emergencyTransportType",value:"ambulance",checked:"ambulance"===S.emergencyTransportType,onChange:Ce,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"edit-transportAmbulance",style:{display:"inline",fontWeight:"normal"},children:"Ambulance"})]}),(0,s.jsxs)("div",{className:"radio-option",children:[(0,s.jsx)("input",{type:"radio",id:"edit-transportStandby",name:"emergencyTransportType",value:"standby_vehicle",checked:"standby_vehicle"===S.emergencyTransportType,onChange:Ce,required:!0,style:{width:"auto",marginRight:"8px"}}),(0,s.jsx)("label",{htmlFor:"edit-transportStandby",style:{display:"inline",fontWeight:"normal"},children:"Standby/Support Emergency Vehicle"})]})]})]}),"ambulance"===S.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-emergencyTransportQuantity",children:"Number of Ambulances *"}),(0,s.jsx)("input",{type:"number",id:"edit-emergencyTransportQuantity",name:"emergencyTransportQuantity",value:S.emergencyTransportQuantity||"",onChange:Ce,placeholder:"0",min:"1",required:!0})]}),"standby_vehicle"===S.emergencyTransportType&&(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-standbyVehicleType",children:"Type of Vehicle *"}),(0,s.jsx)("input",{type:"text",id:"edit-standbyVehicleType",name:"standbyVehicleType",value:S.standbyVehicleType||"",onChange:Ce,placeholder:"e.g., Van, SUV",required:!0}),(0,s.jsx)("small",{className:"form-note",style:{color:"#c62828",display:"block",marginTop:"5px"},children:"Note: Only SUV or van\u2013type vehicles are permitted. The distance to the hospital must not exceed 5 km. If the distance is more than 5 km, the use of an ambulance is mandatory."})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"edit-eventSummary",children:"Brief Summary/Purpose of Event *"}),(0,s.jsx)("textarea",{id:"edit-eventSummary",name:"eventSummary",value:S.eventSummary||"",onChange:Ce,rows:"5",maxLength:"300",required:!0}),(0,s.jsx)("small",{className:"form-note",children:"Maximum 300 characters."})]})]}),k&&(0,s.jsx)("div",{style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:k}),(0,s.jsxs)("div",{className:"form-actions",style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[(0,s.jsx)("button",{type:"button",onClick:()=>{j(null),N({}),C(""),_(null)},style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"}),(0,s.jsx)("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Update Tournament"})]})]})]})}),$&&(0,s.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,s.jsxs)("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",padding:"0",maxWidth:"800px",maxHeight:"90vh",width:"90%",overflow:"hidden",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsxs)("div",{className:"modal-header",style:{padding:"20px 30px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa"},children:[(0,s.jsx)("h2",{style:{margin:0,color:"#333"},children:"Update Organization Profile"}),(0,s.jsx)("button",{onClick:Re,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},children:"\xd7"})]}),(0,s.jsx)("div",{className:"modal-body",style:{maxHeight:"calc(90vh - 140px)",overflowY:"auto",padding:"30px"},children:(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),ie(!0),oe("");try{const e=new FormData;Object.keys(ee).forEach(t=>{e.append(t,ee[t])}),e.append("organizationId",o.organizationId),ne.forEach((t,n)=>{t instanceof File&&e.append("documents",t)});const t=await f.updateOrganizationProfile(e);if(!t.success)throw new Error(t.message||"Failed to update profile");{const e=h(h({},o),t.organization);l(e),localStorage.setItem("organizationData",JSON.stringify(e)),alert("Profile updated successfully!"),Z(!1)}}catch(t){console.error("Profile update error:",t),oe(t.message||"Failed to update profile. Please try again.")}finally{ie(!1)}},children:[(0,s.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,s.jsx)("h3",{style:{color:"#333",marginBottom:"20px",borderBottom:"2px solid #007bff",paddingBottom:"10px"},children:"Organization Information"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Organization Name *"}),(0,s.jsx)("input",{type:"text",name:"organizationName",value:ee.organizationName,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Registration Number *"}),(0,s.jsx)("input",{type:"text",name:"registrationNo",value:ee.registrationNo,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Contact Person *"}),(0,s.jsx)("input",{type:"text",name:"applicantFullName",value:ee.applicantFullName,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Phone Number *"}),(0,s.jsx)("input",{type:"tel",name:"phoneNumber",value:ee.phoneNumber,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Email Address *"}),(0,s.jsx)("input",{type:"email",name:"email",value:ee.email,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,s.jsx)("h3",{style:{color:"#333",marginBottom:"20px",borderBottom:"2px solid #007bff",paddingBottom:"10px"},children:"Address Information"}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Address Line 1 *"}),(0,s.jsx)("input",{type:"text",name:"addressLine1",value:ee.addressLine1,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Address Line 2"}),(0,s.jsx)("input",{type:"text",name:"addressLine2",value:ee.addressLine2,onChange:ze,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"20px"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"City *"}),(0,s.jsx)("input",{type:"text",name:"city",value:ee.city,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Postcode *"}),(0,s.jsx)("input",{type:"text",name:"postcode",value:ee.postcode,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"State *"}),(0,s.jsxs)("select",{name:"state",value:ee.state,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"},children:[(0,s.jsx)("option",{value:"",children:"Select State"}),(0,s.jsx)("option",{value:"Johor",children:"Johor"}),(0,s.jsx)("option",{value:"Kedah",children:"Kedah"}),(0,s.jsx)("option",{value:"Kelantan",children:"Kelantan"}),(0,s.jsx)("option",{value:"Kuala Lumpur",children:"Kuala Lumpur"}),(0,s.jsx)("option",{value:"Labuan",children:"Labuan"}),(0,s.jsx)("option",{value:"Malacca",children:"Malacca"}),(0,s.jsx)("option",{value:"Negeri Sembilan",children:"Negeri Sembilan"}),(0,s.jsx)("option",{value:"Pahang",children:"Pahang"}),(0,s.jsx)("option",{value:"Penang",children:"Penang"}),(0,s.jsx)("option",{value:"Perak",children:"Perak"}),(0,s.jsx)("option",{value:"Perlis",children:"Perlis"}),(0,s.jsx)("option",{value:"Putrajaya",children:"Putrajaya"}),(0,s.jsx)("option",{value:"Sabah",children:"Sabah"}),(0,s.jsx)("option",{value:"Sarawak",children:"Sarawak"}),(0,s.jsx)("option",{value:"Selangor",children:"Selangor"}),(0,s.jsx)("option",{value:"Terengganu",children:"Terengganu"})]})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Country *"}),(0,s.jsx)("input",{type:"text",name:"country",value:ee.country,onChange:ze,required:!0,style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"30px"},children:[(0,s.jsx)("h3",{style:{color:"#333",marginBottom:"20px",borderBottom:"2px solid #007bff",paddingBottom:"10px"},children:"Organization Documents"}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"edit-upload-documents",style:{display:"block",marginBottom:"8px",fontWeight:"bold"},children:"Upload Documents (PDF, DOC, DOCX, JPG, PNG - Max 10MB each)"}),(0,s.jsx)("input",{type:"file",id:"edit-upload-documents",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:e=>{const t=Array.from(e.target.files),n=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/jpg"],r=t.filter(e=>{const t=n.includes(e.type),r=e.size<=10485760;return t?!!r||(alert('File "'.concat(e.name,'" is too large. Please upload files smaller than 10MB.')),!1):(alert('File "'.concat(e.name,'" is not a supported format. Please upload PDF, DOC, DOCX, JPG, or PNG files only.')),!1)});r.length>0&&re(e=>[...e,...r])},style:{width:"100%",padding:"12px",border:"1px solid #ccc",borderRadius:"4px",boxSizing:"border-box"}}),(0,s.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"5px"},children:"You can upload organization certificate, business license, or other relevant documents."})]}),ne.length>0&&(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("h4",{style:{marginBottom:"10px"},children:"Uploaded Documents:"}),(0,s.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #ddd",borderRadius:"4px",padding:"10px"},children:ne.map((e,t)=>(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",borderBottom:"1px solid #eee",marginBottom:"5px"},children:[(0,s.jsxs)("span",{style:{fontSize:"14px"},children:[e.name||"Document ".concat(t+1),e.size&&" (".concat((e.size/1024/1024).toFixed(2)," MB)")]}),(0,s.jsx)("button",{type:"button",onClick:()=>(e=>{re(t=>t.filter((t,n)=>n!==e))})(t),style:{background:"#dc3545",color:"white",border:"none",borderRadius:"3px",padding:"4px 8px",fontSize:"12px",cursor:"pointer"},children:"Remove"})]},t))})]})]}),se&&(0,s.jsx)("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"12px",borderRadius:"4px",marginBottom:"20px"},children:se}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"15px"},children:[(0,s.jsx)("button",{type:"button",onClick:Re,style:{padding:"12px 24px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:ae,style:{padding:"12px 24px",backgroundColor:ae?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:ae?"not-allowed":"pointer",fontSize:"16px"},children:ae?"Updating...":"Update Profile"})]})]})})]})}),(0,s.jsx)(fo,{organizationData:o,isOpen:fe,onClose:()=>me(!1)}),m&&(0,s.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"900px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid #e9ecef"},children:[(0,s.jsx)("h2",{style:{margin:0,color:"#495057",fontSize:"24px",fontWeight:"600"},children:"Tournament Calendar"}),(0,s.jsx)("button",{onClick:()=>g(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"},children:"\xd7"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"24px",minHeight:"500px"},children:[(0,s.jsxs)("div",{className:"calendar-grid",children:[(0,s.jsxs)("div",{className:"calendar-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",paddingBottom:"15px",borderBottom:"2px solid #e9ecef"},children:[(0,s.jsx)("button",{onClick:()=>{b(new Date(x.getFullYear(),x.getMonth()-1,1))},style:{background:"none",border:"1px solid #dee2e6",borderRadius:"4px",padding:"8px 12px",cursor:"pointer",fontSize:"16px"},children:"\u2190"}),(0,s.jsx)("h3",{style:{margin:0},children:x.toLocaleString("default",{month:"long",year:"numeric"})}),(0,s.jsx)("button",{onClick:()=>{b(new Date(x.getFullYear(),x.getMonth()+1,1))},style:{background:"none",border:"1px solid #dee2e6",borderRadius:"4px",padding:"8px 12px",cursor:"pointer",fontSize:"16px"},children:"\u2192"})]}),(0,s.jsxs)("div",{className:"calendar-month",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"1px",backgroundColor:"#dee2e6",borderRadius:"8px",overflow:"hidden"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("div",{style:{padding:"12px",backgroundColor:"#495057",color:"white",textAlign:"center",fontWeight:"500",fontSize:"14px"},children:e},e)),Array.from({length:(Ie=x,new Date(Ie.getFullYear(),Ie.getMonth(),1).getDay())},(e,t)=>(0,s.jsx)("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",minHeight:"60px"}},"empty-".concat(t))),Array.from({length:(e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate())(x)},(e,t)=>{const n=t+1,r=new Date(x.getFullYear(),x.getMonth(),n),a=Fe(r),i=(new Date).toDateString()===r.toDateString(),o=y.toDateString()===r.toDateString();return(0,s.jsxs)("div",{onClick:()=>(e=>{const t=new Date(x.getFullYear(),x.getMonth(),e);v(t)})(n),style:{padding:"8px",backgroundColor:o?"#007bff":i?"#e3f2fd":"white",minHeight:"60px",cursor:"pointer",border:i?"2px solid #2196f3":"none",position:"relative",color:o?"white":"#212529"},children:[(0,s.jsx)("div",{style:{fontWeight:i?"600":"400",fontSize:"14px"},children:n}),a.length>0&&(0,s.jsxs)("div",{style:{position:"absolute",bottom:"4px",left:"4px",right:"4px",display:"flex",gap:"2px",flexWrap:"wrap"},children:[a.slice(0,3).map((e,t)=>(0,s.jsx)("div",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"Approved"===e.status?"#28a745":"Pending Review"===e.status?"#ffc107":"#dc3545"}},t)),a.length>3&&(0,s.jsxs)("div",{style:{fontSize:"8px",color:o?"white":"#6c757d",marginLeft:"2px"},children:["+",a.length-3]})]})]},n)})]}),(0,s.jsxs)("div",{className:"calendar-legend",style:{marginTop:"15px",padding:"10px",backgroundColor:"#f8f9fa",borderRadius:"4px",fontSize:"12px"},children:[(0,s.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"#28a745",borderRadius:"50%",marginRight:"5px"}}),(0,s.jsx)("small",{style:{marginRight:"15px"},children:"Approved"}),(0,s.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"#ffc107",borderRadius:"50%",marginRight:"5px"}}),(0,s.jsx)("small",{style:{marginRight:"15px"},children:"Pending"}),(0,s.jsx)("span",{style:{display:"inline-block",width:"8px",height:"8px",backgroundColor:"#dc3545",borderRadius:"50%",marginRight:"5px"}}),(0,s.jsx)("small",{children:"Rejected"})]})]}),(0,s.jsxs)("div",{className:"selected-date-details",children:[(0,s.jsx)("h4",{style:{marginTop:0,color:"#495057"},children:y.toLocaleDateString("default",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,s.jsxs)("div",{style:{marginTop:"20px"},children:[(0,s.jsx)("h5",{style:{margin:"0 0 15px 0",color:"#6c757d"},children:"Your Tournaments"}),0===Fe(y).length?(0,s.jsx)("p",{style:{color:"#6c757d",fontStyle:"italic"},children:"No tournaments on this date"}):(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:Fe(y).map((e,t)=>(0,s.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",borderLeft:"4px solid ".concat("Approved"===e.status?"#28a745":"Pending Review"===e.status?"#ffc107":"#dc3545")},children:[(0,s.jsx)("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:e.eventTitle}),(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d",marginBottom:"4px"},children:[e.venue,", ",e.eventCity]}),(0,s.jsx)("div",{style:{fontSize:"11px",fontWeight:"500",color:"Approved"===e.status?"#28a745":"Pending Review"===e.status?"#856404":"#721c24"},children:e.status})]},t))})]})]})]})]})}),P&&T&&(0,s.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:(0,s.jsxs)("div",{className:"modal-content",style:{backgroundColor:"white",borderRadius:"8px",padding:"0",maxWidth:"500px",width:"90%",overflow:"hidden",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsxs)("div",{className:"modal-header",style:{padding:"20px 30px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#dc3545"},children:[(0,s.jsx)("h2",{style:{margin:0,color:"white",fontSize:"18px"},children:"Cancel Application"}),(0,s.jsx)("button",{onClick:Ae,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"white"},children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",style:{padding:"30px"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#fff3cd",border:"1px solid #ffc107",borderRadius:"6px",padding:"15px",marginBottom:"20px"},children:[(0,s.jsx)("strong",{style:{color:"#856404"},children:"Warning:"}),(0,s.jsx)("p",{style:{margin:"8px 0 0 0",color:"#856404",fontSize:"14px"},children:"You are about to cancel your approved tournament application. This action cannot be undone. The admin will be notified about this cancellation."})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("p",{style:{margin:"0 0 10px 0",fontWeight:"600",color:"#333"},children:"Tournament Details:"}),(0,s.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"6px",fontSize:"14px"},children:[(0,s.jsxs)("p",{style:{margin:"0 0 5px 0"},children:[(0,s.jsx)("strong",{children:"Title:"})," ",T.eventTitle]}),(0,s.jsxs)("p",{style:{margin:"0 0 5px 0"},children:[(0,s.jsx)("strong",{children:"Application ID:"})," ",T.applicationId]}),(0,s.jsxs)("p",{style:{margin:"0"},children:[(0,s.jsx)("strong",{children:"Event Date:"})," ",new Date(T.eventStartDate).toLocaleDateString("en-MY")," - ",new Date(T.eventEndDate).toLocaleDateString("en-MY")]})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#333"},children:["Reason for Cancellation ",(0,s.jsx)("span",{style:{color:"#dc3545"},children:"*"})]}),(0,s.jsx)("textarea",{value:z,onChange:e=>R(e.target.value),placeholder:"Please provide a detailed reason for cancelling this application...",style:{width:"100%",minHeight:"120px",padding:"12px",border:D?"1px solid #dc3545":"1px solid #ddd",borderRadius:"6px",fontSize:"14px",resize:"vertical",boxSizing:"border-box"}}),D&&(0,s.jsx)("p",{style:{color:"#dc3545",fontSize:"13px",margin:"8px 0 0 0"},children:D})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[(0,s.jsx)("button",{type:"button",onClick:Ae,disabled:F,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:F?"not-allowed":"pointer",opacity:F?.6:1},children:"Keep Application"}),(0,s.jsx)("button",{type:"button",onClick:async()=>{if(z.trim())if(z.trim().length<10)M("Please provide a more detailed reason (at least 10 characters)");else{I(!0),M("");try{const e=await fetch("".concat(f.baseURL,"/applications/").concat(T._id,"/cancel"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:z.trim(),organizerEmail:null===o||void 0===o?void 0:o.email,organizerName:(null===o||void 0===o?void 0:o.organizationName)||T.organiserName})});if(!e.ok){const t=await e.json();throw new Error(t.error||"Failed to cancel application")}null!==o&&void 0!==o&&o.email&&await je(o.email),alert("Application cancelled successfully. The admin has been notified."),Ae()}catch(e){console.error("Error cancelling application:",e),M(e.message||"Failed to cancel application. Please try again.")}finally{I(!1)}}else M("Please provide a reason for cancellation")},disabled:F,style:{padding:"10px 20px",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",cursor:F?"not-allowed":"pointer",opacity:F?.6:1},children:F?"Cancelling...":"Confirm Cancellation"})]})]})]})})]});var Ie},go=()=>{const[e,t]=(0,r.useState)(""),[n,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(""),u=e=>{switch(e){case"Pending Review":return"#ffa500";case"Approved":return"#28a745";case"Rejected":return"#dc3545";case"Under Review":return"#007bff";default:return"#6c757d"}};return(0,s.jsxs)("div",{className:"application-status",children:[(0,s.jsx)("h2",{children:"Check Application Status"}),(0,s.jsxs)("div",{className:"status-search",children:[(0,s.jsx)("form",{onSubmit:async t=>{if(t.preventDefault(),e.trim()){l(!0),d(""),a(null);try{const t=await f.getApplicationById(e.trim());a(t)}catch(n){console.error("Search error:",n),n.message.includes("404")||n.message.includes("not found")?a("not_found"):d("Unable to search applications. Please check if the server is running and try again.")}finally{l(!1)}}else alert("Please enter an application ID")},children:(0,s.jsxs)("div",{className:"search-group",children:[(0,s.jsx)("label",{htmlFor:"searchId",children:"Application ID:"}),(0,s.jsx)("input",{type:"text",id:"searchId",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your application ID (e.g., MPA12345)",disabled:o}),(0,s.jsx)("button",{type:"submit",disabled:o,children:o?"Searching...":"Search"})]})}),c&&(0,s.jsx)("div",{className:"search-error",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginTop:"10px",border:"1px solid #ffcdd2"},children:c})]}),"not_found"===n&&(0,s.jsxs)("div",{className:"search-result not-found",children:[(0,s.jsx)("h3",{children:"Application Not Found"}),(0,s.jsxs)("p",{children:["No application found with ID: ",e]}),(0,s.jsx)("p",{children:"Please check your application ID and try again."})]}),n&&"not_found"!==n&&(0,s.jsx)("div",{className:"search-result found",children:(0,s.jsxs)("div",{className:"application-card",children:[(0,s.jsxs)("div",{className:"application-header",children:[(0,s.jsx)("h3",{children:"Application Details"}),(0,s.jsx)("div",{className:"status-badge",style:{backgroundColor:u(n.status)},children:n.status})]}),(0,s.jsx)("div",{className:"status-table-container",children:(0,s.jsxs)("table",{className:"status-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Tournament Name"}),(0,s.jsx)("th",{children:"Application ID"}),(0,s.jsx)("th",{children:"Organiser"}),(0,s.jsx)("th",{children:"Status"}),(0,s.jsx)("th",{children:"Remarks"})]})}),(0,s.jsx)("tbody",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:n.eventTitle}),(0,s.jsx)("td",{children:n.applicationId||n.id}),(0,s.jsx)("td",{children:n.organiserName}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{className:"status-badge-table",style:{backgroundColor:u(n.status)},children:n.status})}),(0,s.jsx)("td",{children:n.remarks||"N/A"})]})})]})}),"Approved"===n.status&&(0,s.jsx)("div",{className:"approval-message",children:(0,s.jsxs)("div",{className:"congratulations-card",children:[(0,s.jsx)("div",{className:"congrats-header",children:(0,s.jsx)("h3",{children:"\ud83c\udf89 Congratulations!"})}),(0,s.jsxs)("div",{className:"congrats-content",children:[(0,s.jsxs)("p",{children:["Your tournament application has been ",(0,s.jsx)("strong",{children:"approved"}),"!"]}),(0,s.jsx)("p",{children:"You may now proceed with your tournament preparations."}),(0,s.jsxs)("div",{className:"download-section",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"For tournament purposes only:"})}),(0,s.jsx)("a",{href:i,download:"MPA_Logo.png",className:"download-btn",children:"\ud83d\udce5 Download MPA Logo"})]})]})]})})]})})]})},xo=e=>{let{setCurrentPage:t}=e;return(0,s.jsxs)("div",{className:"terms-conditions",children:[(0,s.jsxs)("div",{className:"terms-header",children:[(0,s.jsx)("h1",{children:"Terms and Conditions"}),(0,s.jsx)("p",{className:"terms-subtitle",children:"Malaysia Pickleball Association Tournament Portal"}),(0,s.jsxs)("p",{className:"last-updated",children:["Last updated: ",(new Date).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})]})]}),(0,s.jsxs)("div",{className:"terms-content",children:[(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"1. Acceptance of Terms"}),(0,s.jsx)("p",{children:"By accessing and using the Malaysia Pickleball Association (MPA) Tournament Portal, you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to abide by the above, please do not use this service."})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"2. Use License"}),(0,s.jsx)("p",{children:"Permission is granted to temporarily access the MPA Tournament Portal, developed and maintained by Fenix Digital, for personal, non-commercial transitory viewing and tournament application purposes only. This license shall automatically terminate if you violate any of these restrictions and may be terminated by MPA or Fenix Digital at any time."}),(0,s.jsx)("p",{children:"Under this license you may not:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"modify or copy the materials"}),(0,s.jsx)("li",{children:"use the materials for any commercial purpose or for any public display (commercial or non-commercial)"}),(0,s.jsx)("li",{children:"attempt to decompile or reverse engineer any software contained on the website"}),(0,s.jsx)("li",{children:"remove any copyright or other proprietary notations from the materials"})]})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"3. Tournament Applications"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.1 Application Accuracy:"})," Users must provide accurate, complete, and up-to-date information when submitting tournament applications. False or misleading information may result in application rejection or tournament disqualification."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.2 Application Review:"})," All tournament applications are subject to review and approval by MPA. Approval is not guaranteed and is at the sole discretion of MPA."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.3 Venue Requirements:"})," Tournament venues must be fully covered and hold valid government occupancy permits. Failure to meet venue requirements may result in application rejection."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"3.4 Event Guidelines:"})," Tournament organizers must comply with MPA regulations, including but not limited to skill rating guidelines, scoring formats, and branding requirements."]})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"4. Data Protection and Privacy"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.1 Data Collection:"})," MPA collects personal data including but not limited to names, contact information, and event details for the purposes of tournament organization and administration."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.2 Data Usage:"})," Personal data will be used solely for tournament-related communications, administration, and compliance with applicable regulations."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.3 Data Security:"})," MPA implements appropriate technical and organizational measures to protect personal data against unauthorized access, alteration, disclosure, or destruction."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"4.4 Data Retention:"})," Personal data will be retained only for as long as necessary to fulfill the stated purposes or as required by law."]})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"5. Intellectual Property"}),(0,s.jsx)("p",{children:"All content, including but not limited to logos, text, graphics, images, and software, is the property of Malaysia Pickleball Association and is protected by copyright and other intellectual property laws. The MPA logo is provided to approved tournament organizers for official tournament use only."})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"6. Website Development and Information Management"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6.1 Website Creator:"})," This tournament portal website has been developed and is maintained by Fenix Digital, serving as the official technical partner of the Malaysia Pickleball Association."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6.2 Information Custody:"})," Fenix Digital serves as the custodian and keeper of all information, data, and technical infrastructure related to this portal, ensuring proper maintenance, security, and functionality of the system."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6.3 Technical Support:"})," All technical matters, system maintenance, and data management services are provided by Fenix Digital in partnership with MPA to ensure reliable portal operations."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"6.4 Data Processing:"})," Fenix Digital processes and manages user data in accordance with MPA's data protection policies and applicable privacy laws, acting as a trusted technical partner in the handling of tournament-related information."]})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"7. Limitation of Liability"}),(0,s.jsx)("p",{children:"In no event shall Malaysia Pickleball Association or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on the MPA Tournament Portal, even if MPA or an authorized representative has been notified orally or in writing of the possibility of such damage."})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"8. Tournament Regulations"}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.1 Skill Ratings:"})," Tournament categories must follow MPA skill rating guidelines:"]}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Novice: 2.499 & below"}),(0,s.jsx)("li",{children:"Intermediate: 2.999 & below"}),(0,s.jsx)("li",{children:"Intermediate+: 3.499 & below"}),(0,s.jsx)("li",{children:"Advanced: 3.999 & below"}),(0,s.jsx)("li",{children:"Advanced+: 4.499 & below"}),(0,s.jsx)("li",{children:"Elite: 4.5 & above"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.2 Scoring Format:"})," Tournaments must use traditional scoring up to 11 points or more. Rally scoring (minimum 21 points) is acceptable for first round-robins only."]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"8.3 Branding:"})," Approved tournaments must display MPA endorsement logos on event banners and at the venue."]})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"9. Prohibited Activities"}),(0,s.jsx)("p",{children:"Users are prohibited from:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Submitting false or fraudulent tournament applications"}),(0,s.jsx)("li",{children:"Using the portal for any unlawful purpose"}),(0,s.jsx)("li",{children:"Attempting to gain unauthorized access to the system"}),(0,s.jsx)("li",{children:"Interfering with the proper working of the portal"}),(0,s.jsx)("li",{children:"Using automated systems to access the portal"}),(0,s.jsx)("li",{children:"Violating any applicable local, state, national, or international law"})]})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"10. Termination"}),(0,s.jsx)("p",{children:"MPA may terminate or suspend access to the portal immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms and Conditions."})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"11. Governing Law"}),(0,s.jsx)("p",{children:"These Terms and Conditions are governed by and construed in accordance with the laws of Malaysia. Any disputes arising under or in connection with these Terms shall be subject to the exclusive jurisdiction of the Malaysian courts."})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"12. Changes to Terms"}),(0,s.jsx)("p",{children:"MPA reserves the right, at its sole discretion, to modify or replace these Terms and Conditions at any time. If a revision is material, we will try to provide at least 30 days notice prior to any new terms taking effect."})]}),(0,s.jsxs)("section",{className:"terms-section",children:[(0,s.jsx)("h2",{children:"13. Contact Information"}),(0,s.jsx)("p",{children:"If you have any questions about these Terms and Conditions, please contact us at:"}),(0,s.jsxs)("div",{className:"contact-details",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"Malaysia Pickleball Association"})}),(0,s.jsx)("p",{children:"Email: tournament@malaysiapickleballassociation.org"}),(0,s.jsx)("p",{children:"Phone: +6012-883 0407 (Puan Delima Ibrahim)"})]})]})]}),(0,s.jsx)("div",{className:"terms-footer",children:(0,s.jsx)("button",{className:"back-home-btn",onClick:()=>t("home"),children:"Back to Home"})})]})},bo=e=>{let{onRegister:t,loadForm:n,savedForms:a=[],onClose:o}=e;const[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)({});return(0,s.jsxs)("div",{className:"assessment-registration-container",style:{backgroundColor:"#fff",border:"2px solid #000",borderRadius:"8px",padding:"40px",width:"100%",maxWidth:"400px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{marginBottom:"24px"},children:(0,s.jsx)("img",{src:i,alt:"MPA Logo",style:{height:"120px",width:"auto",objectFit:"contain"}})}),(0,s.jsx)("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",fontWeight:"bold",color:"#000"},children:"Assessment Registration"}),(0,s.jsx)("p",{style:{margin:"0 0 32px 0",color:"#666",fontSize:"16px"},children:"Please enter your details to begin"}),(0,s.jsxs)("form",{onSubmit:async e=>{e.preventDefault();if(await(async()=>{const e={};if(l.trim()||(e.fullName="Full name is required"),d.trim()){const t=d.replace(/[-]/g,"");/^\d{12}$/.test(t)||(e.icNumber="IC number must be 12 digits")}else e.icNumber="IC number is required";h.trim()?await n(h)||(e.formCode="Invalid or expired assessment code. Please check the code or request a new one."):e.formCode="Assessment code is required";return m(e),0===Object.keys(e).length})()){const e={fullName:l.trim(),icNumber:d.trim(),formCode:h.trim(),startTime:new Date};t(e)}},style:{textAlign:"left"},children:[(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-code",style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#000",fontSize:"14px"},children:"Assessment Code *"}),(0,s.jsx)("input",{type:"text",id:"assessment-code",value:h,onChange:e=>p(e.target.value.toUpperCase()),placeholder:"Enter 5-character code",maxLength:"5",style:{width:"100%",padding:"12px",border:f.formCode?"2px solid #000":"1px solid #ccc",borderRadius:"4px",fontSize:"16px",backgroundColor:f.formCode?"#ffe6e6":"#fff"}}),f.formCode&&(0,s.jsx)("span",{style:{color:"#000",fontSize:"12px",marginTop:"4px",display:"block"},children:f.formCode})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-fullname",style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#000",fontSize:"14px"},children:"Full Name *"}),(0,s.jsx)("input",{type:"text",id:"assessment-fullname",value:l,onChange:e=>c(e.target.value),placeholder:"Enter your full name",style:{width:"100%",padding:"12px",border:f.fullName?"2px solid #000":"1px solid #ccc",borderRadius:"4px",fontSize:"16px",backgroundColor:f.fullName?"#ffe6e6":"#fff"}}),f.fullName&&(0,s.jsx)("span",{style:{color:"#000",fontSize:"12px",marginTop:"4px",display:"block"},children:f.fullName})]}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsx)("label",{htmlFor:"assessment-icnumber",style:{display:"block",marginBottom:"8px",fontWeight:"bold",color:"#000",fontSize:"14px"},children:"IC Number *"}),(0,s.jsx)("input",{type:"text",id:"assessment-icnumber",value:d,onChange:e=>u((e=>{const t=e.replace(/\D/g,"");return t.length<=6?t:t.length<=8?"".concat(t.slice(0,6),"-").concat(t.slice(6)):"".concat(t.slice(0,6),"-").concat(t.slice(6,8),"-").concat(t.slice(8,12))})(e.target.value)),placeholder:"XXXXXX-XX-XXXX",maxLength:"14",style:{width:"100%",padding:"12px",border:f.icNumber?"2px solid #000":"1px solid #ccc",borderRadius:"4px",fontSize:"16px",backgroundColor:f.icNumber?"#ffe6e6":"#fff"}}),f.icNumber&&(0,s.jsx)("span",{style:{color:"#000",fontSize:"12px",marginTop:"4px",display:"block"},children:f.icNumber})]}),(0,s.jsx)("button",{type:"submit",className:"assessment-btn-primary",style:{backgroundColor:"#000",color:"#fff",border:"2px solid #000",padding:"12px 24px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer",fontSize:"16px",width:"100%"},children:"Start Assessment"})]}),(0,s.jsx)("div",{style:{marginTop:"20px",textAlign:"center"},children:(0,s.jsx)("button",{onClick:o,style:{backgroundColor:"transparent",color:"#666",border:"1px solid #ccc",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"\u2715 Close"})})]})},yo=e=>{let{questions:t,userInfo:n,timeLimit:a,onComplete:i,getAnswerStatus:o,onBackToRegistration:l,assessmentFormData:c}=e;const[d,u]=(0,r.useState)(0),[p,f]=(0,r.useState)({}),[m,g]=(0,r.useState)(60*a),[x,b]=(0,r.useState)(!1),y=(0,r.useCallback)(()=>{let e=0;t.forEach(t=>{o(t,p[t.id])&&e++});const r=60*a-m,i={score:e,totalQuestions:t.length,percentage:Math.round(e/t.length*100),answers:p,timeSpent:r,completedAt:new Date};try{const e={userInfo:{name:(null===n||void 0===n?void 0:n.name)||"Unknown",email:(null===n||void 0===n?void 0:n.email)||"Unknown",icNumber:(null===n||void 0===n?void 0:n.icNumber)||"Unknown"},questions:t,scoreData:i,assessmentFormData:{code:(null===c||void 0===c?void 0:c.code)||"Unknown",title:(null===c||void 0===c?void 0:c.title)||"Unknown"},submissionTime:(new Date).toISOString(),backupVersion:"1.0"},r="assessment_backup_".concat((null===n||void 0===n?void 0:n.name)||"unknown","_").concat(Date.now());localStorage.setItem(r,JSON.stringify(e)),console.log("Assessment data backed up to localStorage with key:",r)}catch(s){console.warn("Failed to backup assessment data:",s)}return i},[p,t,a,m]),v=(0,r.useCallback)(()=>{if(!x){b(!0);const e=y();i(e)}},[x,y,i]);(0,r.useEffect)(()=>{if(m>0&&!x){const e=setInterval(()=>{g(e=>e<=1?(v(),0):e-1)},1e3);return()=>clearInterval(e)}},[m,x,v]);const w=t.length>0&&t.every(e=>p[e.id]);if(0===t.length)return(0,s.jsxs)("div",{className:"assessment-error",children:[(0,s.jsx)("h3",{children:"No Questions Available"}),(0,s.jsx)("p",{children:"Please contact the administrator."}),(0,s.jsx)("button",{onClick:l,className:"assessment-btn-secondary",children:"Back to Registration"})]});const j=t[d];return(0,s.jsxs)("div",{style:{width:"100%",maxWidth:"800px",margin:"0 auto",backgroundColor:"#fff",paddingTop:"20px"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#f8f8f8",border:"1px solid #000",borderRadius:"8px",padding:"20px",marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{style:{margin:"0 0 4px 0",fontSize:"16px",color:"#000"},children:n.fullName}),(0,s.jsxs)("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:["IC: ",n.icNumber]})]}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Time Remaining"}),(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:m<300?"#000":"#333",backgroundColor:m<300?"#ffe6e6":"transparent",padding:"4px 8px",borderRadius:"4px",border:m<300?"1px solid #000":"none"},children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(m)})]}),(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"12px",color:"#666",marginBottom:"4px"},children:"Progress"}),(0,s.jsxs)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#000"},children:[d+1," / ",t.length]}),(0,s.jsxs)("div",{style:{fontSize:"11px",color:"#666",marginBottom:"4px"},children:[Object.keys(p).length," answered"]}),(0,s.jsx)("div",{style:{width:"60px",height:"4px",backgroundColor:"#f0f0f0",border:"1px solid #000",borderRadius:"2px",overflow:"hidden",marginTop:"4px"},children:(0,s.jsx)("div",{style:{width:"".concat(Object.keys(p).length/t.length*100,"%"),height:"100%",backgroundColor:w?"#000":"#666",transition:"all 0.3s ease"}})})]})]}),(0,s.jsxs)("div",{style:{border:"2px solid #000",borderRadius:"8px",padding:"30px",marginBottom:"20px",backgroundColor:"#fff",maxHeight:"70vh",overflow:"auto"},children:[(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#666",marginBottom:"8px"},children:["Question ",d+1," of ",t.length,j.section&&" \u2022 ".concat(j.section)]}),(0,s.jsxs)("h3",{style:{fontSize:"20px",fontWeight:"bold",color:"#000",margin:"0",lineHeight:"1.4"},children:[j.question,j.questionMalay&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontWeight:"normal",fontSize:"16px",color:"#666",marginTop:"8px"},children:j.questionMalay})]})]}),j.imageUrl&&(0,s.jsx)("div",{style:{marginBottom:"20px",textAlign:"center"},children:(0,s.jsx)("img",{src:j.imageUrl,alt:"Question diagram",style:{maxWidth:"100%",maxHeight:"400px",border:"2px solid #ddd",borderRadius:"8px",objectFit:"contain"}})}),(0,s.jsx)("div",{style:{marginBottom:"30px"},children:j.options.map((e,n)=>{const r="string"===typeof e?e:e.text,a="object"===typeof e?e.malay:null,i="question-".concat(j.id,"-option-").concat(n);return(0,s.jsx)("label",{htmlFor:i,style:{display:"block",marginBottom:"12px",cursor:"pointer"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",padding:"16px",border:p[j.id]===r?"2px solid #000":"1px solid #ccc",borderRadius:"8px",backgroundColor:p[j.id]===r?"#f0f0f0":"#fff",transition:"all 0.2s ease",minHeight:"60px",boxSizing:"border-box"},children:[(0,s.jsx)("input",{type:"radio",id:i,name:"question-".concat(j.id),value:r,checked:p[j.id]===r,onChange:e=>{return n=j.id,r=e.target.value,f(e=>h(h({},e),{},{[n]:r})),void setTimeout(()=>{d<t.length-1&&u(e=>e+1)},500);var n,r},style:{display:"none"}}),(0,s.jsx)("div",{style:{backgroundColor:"#000",color:"#fff",width:"32px",height:"32px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"bold",marginRight:"16px",flexShrink:0,marginTop:"2px"},children:String.fromCharCode(65+n)}),(0,s.jsxs)("div",{style:{color:"#000",fontSize:"16px",lineHeight:"1.4",flex:1,wordWrap:"break-word",overflow:"hidden"},children:[(0,s.jsx)("div",{style:{wordBreak:"break-word",overflowWrap:"break-word"},children:r}),a&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontSize:"14px",color:"#666",marginTop:"4px",wordBreak:"break-word",overflowWrap:"break-word"},children:a})]})]})},n)})})]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"16px"},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,s.jsx)("button",{onClick:()=>u(e=>Math.max(0,e-1)),disabled:0===d,style:{backgroundColor:0===d?"#f0f0f0":"#fff",color:0===d?"#888":"#000",border:"1px solid #000",padding:"12px 20px",borderRadius:"4px",cursor:0===d?"not-allowed":"pointer",fontWeight:"bold"},children:"\u2190 Previous"}),(0,s.jsx)("button",{onClick:()=>u(e=>Math.min(t.length-1,e+1)),disabled:d===t.length-1,style:{backgroundColor:d===t.length-1?"#f0f0f0":"#fff",color:d===t.length-1?"#888":"#000",border:"1px solid #000",padding:"12px 20px",borderRadius:"4px",cursor:d===t.length-1?"not-allowed":"pointer",fontWeight:"bold"},children:"Next \u2192"})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"8px"},children:[!w&&(0,s.jsxs)("div",{style:{fontSize:"12px",color:"#666",fontStyle:"italic"},children:["Please answer all questions to submit (",t.length-Object.keys(p).length," remaining)"]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,s.jsx)("button",{onClick:l,style:{backgroundColor:"#fff",color:"#000",border:"2px solid #000",padding:"12px 20px",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"Back to Registration"}),(0,s.jsx)("button",{onClick:v,disabled:!w,style:{backgroundColor:w?"#000":"#f0f0f0",color:w?"#fff":"#888",border:w?"2px solid #000":"2px solid #ccc",padding:"12px 24px",borderRadius:"4px",fontWeight:"bold",cursor:w?"pointer":"not-allowed"},children:"Submit Assessment"})]})]})]})]})},vo=e=>{let{results:t,userInfo:n,questions:a,assessmentFormData:o,getAnswerStatus:l,onBackToHome:c}=e;const[d,u]=(0,r.useState)(!1);return(0,s.jsxs)("div",{style:{width:"100%",maxWidth:d?"800px":"500px",margin:"0 auto",backgroundColor:"#fff",textAlign:"center",minHeight:"auto",padding:"20px 0"},children:[(0,s.jsx)("h3",{style:{fontSize:"28px",fontWeight:"bold",color:"#000",margin:"0 0 40px 0"},children:"Assessment Complete!"}),(0,s.jsxs)("div",{style:{border:"2px solid #000",borderRadius:"8px",padding:"40px",marginBottom:"30px",backgroundColor:"#fff"},children:[(0,s.jsxs)("div",{style:{width:"150px",height:"150px",borderRadius:"50%",backgroundColor:t.percentage>=70?"#000":"#fff",color:t.percentage>=70?"#fff":"#000",border:"4px solid #000",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"bold",margin:"0 auto 30px auto"},children:[t.percentage,"%"]}),(0,s.jsxs)("div",{style:{textAlign:"left",fontSize:"16px",lineHeight:"1.6"},children:[(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("strong",{children:"Name:"})," ",n.fullName]}),(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("strong",{children:"IC Number:"})," ",n.icNumber]}),(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("strong",{children:"Score:"})," ",t.score," / ",t.totalQuestions]}),(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("strong",{children:"Percentage:"})," ",t.percentage,"%"]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,s.jsx)("strong",{children:"Status:"}),(0,s.jsx)("span",{style:{backgroundColor:"#000",color:"#fff",border:"2px solid #000",padding:"6px 12px",borderRadius:"4px",fontWeight:"bold",fontSize:"14px"},children:"COMPLETED"})]})]})]}),(0,s.jsx)("div",{style:{backgroundColor:"#f8f8f8",border:"1px solid #000",borderRadius:"8px",padding:"20px",marginBottom:"30px",fontSize:"16px",lineHeight:"1.5"},children:(0,s.jsxs)("p",{style:{margin:0,color:"#000"},children:[(0,s.jsx)("strong",{children:"Assessment completed successfully."})," Thank you for your participation."]})}),(0,s.jsx)("div",{style:{marginBottom:"15px"},children:(0,s.jsx)("button",{onClick:()=>u(!d),style:{backgroundColor:"#fff",color:"#000",border:"2px solid #000",padding:"12px 24px",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px"},children:d?"Hide Review":"Review Questions & Answers"})}),d&&(0,s.jsxs)("div",{style:{border:"2px solid #000",borderRadius:"8px",padding:"20px",marginBottom:"30px",backgroundColor:"#fff",textAlign:"left",maxHeight:"70vh",overflow:"auto"},children:[(0,s.jsx)("h4",{style:{fontSize:"20px",fontWeight:"bold",color:"#000",margin:"0 0 20px 0",textAlign:"center"},children:"Question Review"}),a.map((e,n)=>{const r=t.answers[e.id],a=l(e,r),i=t=>{if(!t)return null;const n=e.options.find(e=>("string"===typeof e?e:e.text)===t);return n&&"object"===typeof n?n.malay:null},o=i(r),c=i(e.correctAnswer);return(0,s.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"20px",marginBottom:"16px",backgroundColor:a?"#f0f8f0":"#fff8f0",wordWrap:"break-word",overflow:"visible"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"12px"},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("div",{style:{fontSize:"14px",color:"#666",marginBottom:"4px"},children:["Question ",n+1,e.section&&" \u2022 ".concat(e.section)]}),(0,s.jsxs)("h5",{style:{fontSize:"16px",fontWeight:"bold",color:"#000",margin:"0 0 12px 0",lineHeight:"1.4"},children:[e.question,e.questionMalay&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontWeight:"normal",fontSize:"13px",color:"#666",marginTop:"6px"},children:e.questionMalay})]})]}),(0,s.jsx)("div",{style:{backgroundColor:a?"#000":"#fff",color:a?"#fff":"#000",border:"2px solid #000",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",flexShrink:0,marginLeft:"16px"},children:a?"CORRECT":"INCORRECT"})]}),(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"8px"},children:"Your Answer:"}),(0,s.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:a?"#e8f5e8":"#ffe8e8",border:"1px solid ".concat(a?"#4caf50":"#f44336"),borderRadius:"4px",fontSize:"14px"},children:[(0,s.jsx)("div",{children:r||"No answer selected"}),o&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontSize:"12px",color:"#666",marginTop:"4px"},children:o})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,s.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#000",marginBottom:"8px"},children:"Correct Answer:"}),(0,s.jsxs)("div",{style:{padding:"8px 12px",backgroundColor:"#e8f5e8",border:"1px solid #4caf50",borderRadius:"4px",fontSize:"14px"},children:[(0,s.jsx)("div",{children:e.correctAnswer}),c&&(0,s.jsx)("div",{style:{fontStyle:"italic",fontSize:"12px",color:"#666",marginTop:"4px"},children:c})]})]})]},e.id)})]}),(0,s.jsx)("div",{style:{textAlign:"center",marginBottom:"15px",fontSize:"14px",color:"#d32f2f",fontStyle:"italic"},children:"Please download the PDF report for reference."}),(0,s.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[(0,s.jsx)("button",{onClick:()=>{try{const e=new ui,r=()=>{const t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image;r.onload=function(){t.width=this.width,t.height=this.height,n.drawImage(this,0,0);const r=t.toDataURL("image/png"),i=this.height/this.width*25;e.addImage(r,"PNG",170,10,25,i),a()},r.onerror=function(){a()},r.src=i},a=()=>{e.setFontSize(18),e.setFont("helvetica","bold"),e.text("Assessment Result Report",20,25),e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Malaysia Pickleball Association",20,35);let r=60;e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Participant Information:",20,r),r+=15,e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Full Name: ".concat(n.fullName),25,r),r+=10,e.text("Identity Card Number: ".concat(n.icNumber),25,r),r+=10,e.text("Assessment Code: ".concat(n.formCode),25,r),r+=20,e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Assessment Information:",20,r),r+=15,e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Title: ".concat((null===o||void 0===o?void 0:o.title)||"Assessment"),25,r),r+=10,null!==o&&void 0!==o&&o.subtitle&&(e.text("Sub-title: ".concat(o.subtitle),25,r),r+=10),r+=10,e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Results Summary:",20,r),r+=15,e.setFontSize(12),e.setFont("helvetica","normal"),e.text("Total Questions: ".concat(t.totalQuestions),25,r),r+=10,e.text("Correct Answers: ".concat(t.score),25,r),r+=10,e.text("Wrong Answers: ".concat(t.totalQuestions-t.score),25,r),r+=10,e.text("Percentage Score: ".concat(t.percentage,"%"),25,r),r+=20,e.setFontSize(10),e.setFont("helvetica","italic"),e.text("Generated on: ".concat((new Date).toLocaleString()),20,r),e.save("Assessment_Result_".concat(n.fullName.replace(/\s+/g,"_"),"_").concat(n.formCode,".pdf"))};r()}catch(e){console.error("Error generating PDF:",e),alert("Error generating PDF. Please try again.")}},style:{backgroundColor:"#fff",color:"#000",border:"2px solid #000",padding:"16px 32px",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px"},children:"Download PDF"}),(0,s.jsx)("button",{onClick:c,style:{backgroundColor:"#000",color:"#fff",border:"2px solid #000",padding:"16px 32px",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px"},children:"Back to Home"})]})]})},wo=e=>{let{isOpen:t,onClose:n}=e;const[a,i]=(0,r.useState)("registration"),[o,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),[u,p]=(0,r.useState)(30),[m,g]=(0,r.useState)(null),[x,b]=(0,r.useState)([]),[y,v]=(0,r.useState)(null),w=[{id:1,question:"What is the standard size of a pickleball court?",questionMalay:"Apakah saiz standard sebuah gelanggang pickleball?",section:"Court Specifications",options:[{text:"20' x 44'",malay:"20' x 44'"},{text:"20' x 40'",malay:"20' x 40'"},{text:"24' x 44'",malay:"24' x 44'"},{text:"20' x 48'",malay:"20' x 48'"}],correctAnswer:"20' x 44'"},{id:2,question:"What is the height of the net at the center?",questionMalay:"Apakah ketinggian net di bahagian tengah?",section:"Equipment",options:[{text:"34 inches",malay:"34 inci"},{text:"36 inches",malay:"36 inci"},{text:"32 inches",malay:"32 inci"},{text:"38 inches",malay:"38 inci"}],correctAnswer:"34 inches"},{id:3,question:"What is the non-volley zone also called?",questionMalay:"Apakah nama lain untuk non-volley zone?",section:"Rules",options:[{text:"The service area",malay:"Kawasan servis"},{text:"The kitchen",malay:"Dapur"},{text:"The baseline",malay:"Garisan asas"},{text:"The sideline",malay:"Garisan sisi"}],correctAnswer:"The kitchen"},{id:4,question:"How many points do you need to win a game?",questionMalay:"Berapa mata diperlukan untuk memenangi satu permainan?",section:"Scoring",options:[{text:"11 points with a 2-point lead",malay:"11 mata dengan pendahuluan 2 mata"},{text:"15 points",malay:"15 mata"},{text:"21 points",malay:"21 mata"},{text:"First to 11",malay:"Pertama sampai 11"}],correctAnswer:"11 points with a 2-point lead"},{id:5,question:"In doubles, who serves first at the start of the game?",questionMalay:"Dalam permainan beregu, siapa yang melakukan servis pertama pada permulaan permainan?",section:"Serving",options:[{text:"Left side player",malay:"Pemain sebelah kiri"},{text:"Right side player",malay:"Pemain sebelah kanan"},{text:"Either player",malay:"Mana-mana pemain"},{text:"Team captain",malay:"Kapten pasukan"}],correctAnswer:"Right side player"}],j=e=>e.map(e=>{if(e.questionMalay&&Array.isArray(e.options)&&"object"===typeof e.options[0])return e;const t=w.find(t=>t.question===e.question||t.id===e.id);return h(h({},e),{},t?{questionMalay:t.questionMalay,options:e.options.map((e,n)=>{if("string"===typeof e){const r=t.options[n];return r&&"object"===typeof r?{text:r.text,malay:r.malay||""}:{text:e,malay:e}}return"object"===typeof e?{text:e.text,malay:e.malay||""}:e})}:{options:e.options.map(e=>"string"===typeof e?{text:e,malay:e}:{text:e.text,malay:e.malay||""})})});(0,r.useEffect)(()=>{0===o.length&&l(w)},[]);const S=(e,t)=>{if(!t||!e.correctAnswer)return!1;return t.toString().trim().toLowerCase()===e.correctAnswer.toString().trim().toLowerCase()};return t?(0,s.jsx)("div",{className:"assessment-system-modal",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"#fff",zIndex:1e3,display:"flex",flexDirection:"column"},children:(0,s.jsxs)("div",{className:"assessment-system-content",style:{flex:1,padding:"40px",display:"flex",justifyContent:"center",alignItems:"flex-start",backgroundColor:"#fff",overflow:"auto",minHeight:"100vh"},children:["registration"===a&&(0,s.jsx)(bo,{onRegister:e=>{d(e),i("assessment")},loadForm:async e=>{try{const t=x.find(t=>t.code===e.toUpperCase());if(t){const e=j(t.questions);return l(e),p(t.timeLimit),!0}const n=await f.getAssessmentFormByCode(e.toUpperCase());if(n){if(console.log("Loaded form from API:",n),console.log("Form includeAnswers value:",n.includeAnswers),n.isTemporary&&n.expiresAt){const e=new Date(n.expiresAt).getTime()-Date.now();if(e>0){const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);console.log("\u23f0 Temporary Assessment Code - Expires in ".concat(t,"h ").concat(n,"m")),e<72e5&&alert("\u26a0\ufe0f Warning: This temporary assessment code will expire in ".concat(t,"h ").concat(n,"m!\n\nPlease complete your assessment soon."))}}const e=j(n.questions);return l(e),p(n.timeLimit),v(n),!0}return!1}catch(t){return console.error("Error loading form:",t),!1}},savedForms:x,onClose:n}),"assessment"===a&&(0,s.jsx)(yo,{questions:o,userInfo:c,timeLimit:u,assessmentFormData:y,onComplete:async e=>{const t=new Date,n=t.toISOString().split("T")[0],r="".concat(c.formCode,"-").concat(n);let a=e;Date.now();try{const t={formCode:c.formCode,participantName:c.fullName,participantIcNumber:c.icNumber,participantEmail:null,answers:e.answers?Object.entries(e.answers).map(e=>{let[t,n]=e;return{questionId:parseInt(t),selectedAnswer:n,isCorrect:S(o.find(e=>e.id===parseInt(t)),n)}}):[],score:e.percentage,correctAnswers:e.score,totalQuestions:e.totalQuestions,timeSpent:e.timeSpent||0,batchId:r,batchDate:n};await f.saveAssessmentSubmission(t),console.log("Assessment submission saved to database successfully")}catch(s){console.error("Error saving assessment submission:",s)}g(a),i("results")},getAnswerStatus:S,onBackToRegistration:()=>{i("registration"),d(null)}}),"results"===a&&(0,s.jsx)(vo,{results:m,userInfo:c,questions:o,assessmentFormData:y,getAnswerStatus:S,onBackToHome:()=>{i("registration"),d(null),g(null)}})]})}):null},jo=e=>{let{setCurrentPage:t,setUserData:n}=e;const[a,o]=(0,r.useState)({companyName:"",softwareName:"",platform:{web:!1,mobile:!1},systemUrl:"",appLink:"",contactPersonName:"",contactEmail:"",contactPhone:"",username:"",password:"",confirmPassword:"",description:"",consent:{dataSharing:!1,systemIntegration:!1}}),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)({score:0,label:"",color:"",checks:{length:!1,uppercase:!1,lowercase:!1,number:!1,symbol:!1}}),[x,b]=(0,r.useState)(!0),y=e=>{const{name:t,value:n,type:r,checked:i}=e.target;if("checkbox"===r&&t.startsWith("platform-")){const e=t.replace("platform-","");o(t=>h(h({},t),{},{platform:h(h({},t.platform),{},{[e]:i})}))}else if("checkbox"===r&&t.startsWith("consent-")){const e=t.replace("consent-","");o(t=>h(h({},t),{},{consent:h(h({},t.consent),{},{[e]:i})}))}else{const e=h(h({},a),{},{[t]:n});o(e),"password"===t&&(g((e=>{const t={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/[0-9]/.test(e),symbol:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(e)},n=Object.values(t).filter(Boolean).length;let r="",a="";return 0===e.length?(r="",a=""):n<3?(r="Weak",a="#ef4444"):n<4?(r="Fair",a="#f59e0b"):n<5?(r="Good",a="#10b981"):(r="Strong",a="#059669"),{score:n,label:r,color:a,checks:t}})(n)),e.confirmPassword?b(n===e.confirmPassword):b(!0)),"confirmPassword"===t&&b(n===e.password)}},v=()=>""!==a.companyName.trim()&&""!==a.softwareName.trim()&&(a.platform.web||a.platform.mobile)&&""!==a.contactPersonName.trim()&&""!==a.contactEmail.trim()&&""!==a.contactPhone.trim()&&""!==a.username.trim()&&""!==a.password.trim()&&""!==a.confirmPassword.trim()&&m.score>=4&&x&&a.consent.dataSharing&&a.consent.systemIntegration;return(0,s.jsxs)("div",{className:"tournament-application",children:[(0,s.jsxs)("div",{className:"form-header",children:[(0,s.jsx)("img",{src:i,alt:"Malaysia Pickleball Association",className:"form-logo"}),(0,s.jsxs)("div",{className:"form-header-text",children:[(0,s.jsx)("h2",{children:"Tournament Software Registration"}),(0,s.jsx)("p",{className:"form-subtitle",children:"Register your tournament management software with MPA"})]})]}),p?(0,s.jsx)("div",{className:"submission-success",children:(0,s.jsxs)("div",{className:"success-message",children:[(0,s.jsx)("h3",{children:"Registration Submitted Successfully!"}),(0,s.jsx)("p",{children:"Thank you for registering your tournament software with Malaysia Pickleball Association."}),(0,s.jsx)("p",{children:"Redirecting to your dashboard..."})]})}):(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),!a.companyName||!a.softwareName)return void u("Please fill in all required fields");if(!a.platform.web&&!a.platform.mobile)return void u("Please select at least one platform (Web or Mobile)");if(!a.contactEmail||!a.contactPhone)return void u("Please provide contact information");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.contactEmail))if(m.score<4)u('Password must be at least "Good" strength. Please include uppercase, lowercase, number, and symbol.');else if(x&&a.password===a.confirmPassword)if(a.consent.dataSharing&&a.consent.systemIntegration){c(!0);try{const e=await fetch("/api/tournament-software/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=e.headers.get("content-type");if(!r||!r.includes("application/json"))throw console.error("Server returned non-JSON response:",await e.text()),new Error("Server error. Please ensure the server is running and try again.");const i=await e.json();if(!e.ok)throw new Error(i.error||"Registration failed");n&&n(h(h({},a),{},{softwareId:i.softwareId})),f(!0),setTimeout(()=>{t("software-dashboard")},2e3)}catch(r){u(r.message||"An error occurred. Please try again."),console.error("Submission error:",r)}finally{c(!1)}}else u("Please accept both consent agreements to continue.");else u("Passwords do not match. Please check both password fields.");else u("Please enter a valid email address")},children:[(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Company Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"companyName",children:"Company Name *"}),(0,s.jsx)("input",{type:"text",id:"companyName",name:"companyName",value:a.companyName,onChange:y,placeholder:"Enter company name",required:!0})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Software Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"softwareName",children:"Software Name *"}),(0,s.jsx)("input",{type:"text",id:"softwareName",name:"softwareName",value:a.softwareName,onChange:y,placeholder:"Enter software name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Platform *"}),(0,s.jsxs)("div",{className:"platform-selection-group",children:[(0,s.jsxs)("label",{className:"platform-card ".concat(a.platform.web?"selected":""),children:[(0,s.jsx)("input",{type:"checkbox",name:"platform-web",checked:a.platform.web,onChange:y}),(0,s.jsx)("div",{className:"platform-icon",children:"\ud83c\udf10"}),(0,s.jsxs)("div",{className:"platform-info",children:[(0,s.jsx)("div",{className:"platform-title",children:"Web-based"}),(0,s.jsx)("div",{className:"platform-description",children:"Browser-accessible platform"})]}),(0,s.jsx)("div",{className:"platform-check",children:"\u2713"})]}),(0,s.jsxs)("label",{className:"platform-card ".concat(a.platform.mobile?"selected":""),children:[(0,s.jsx)("input",{type:"checkbox",name:"platform-mobile",checked:a.platform.mobile,onChange:y}),(0,s.jsx)("div",{className:"platform-icon",children:"\ud83d\udcf1"}),(0,s.jsxs)("div",{className:"platform-info",children:[(0,s.jsx)("div",{className:"platform-title",children:"Mobile App"}),(0,s.jsx)("div",{className:"platform-description",children:"iOS and Android application"})]}),(0,s.jsx)("div",{className:"platform-check",children:"\u2713"})]})]}),(0,s.jsx)("small",{className:"form-note",children:"Select at least one platform"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"systemUrl",children:"System URL (for web-based)"}),(0,s.jsx)("input",{type:"url",id:"systemUrl",name:"systemUrl",value:a.systemUrl,onChange:y,placeholder:"https://example.com"})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"appLink",children:"App Store/Play Store Link (for mobile)"}),(0,s.jsx)("input",{type:"url",id:"appLink",name:"appLink",value:a.appLink,onChange:y,placeholder:"https://apps.apple.com/... or https://play.google.com/..."})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"description",children:"Software Description"}),(0,s.jsx)("textarea",{id:"description",name:"description",value:a.description,onChange:y,rows:"4",placeholder:"Provide a brief description of your tournament software"})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Consent"}),(0,s.jsxs)("div",{className:"consent-group",children:[(0,s.jsxs)("label",{className:"consent-checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"consent-dataSharing",checked:a.consent.dataSharing,onChange:y,required:!0}),(0,s.jsx)("span",{className:"consent-checkmark"}),(0,s.jsx)("span",{className:"consent-text",children:"I agree to share certain data with Malaysia Pickleball Association (MPA) for tournament management purposes. *"})]}),(0,s.jsxs)("label",{className:"consent-checkbox-label",children:[(0,s.jsx)("input",{type:"checkbox",name:"consent-systemIntegration",checked:a.consent.systemIntegration,onChange:y,required:!0}),(0,s.jsx)("span",{className:"consent-checkmark"}),(0,s.jsx)("span",{className:"consent-text",children:"I agree to integrate with MPA's system and comply with all technical requirements and standards. *"})]})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Contact Information"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"contactPersonName",children:"Contact Person Name *"}),(0,s.jsx)("input",{type:"text",id:"contactPersonName",name:"contactPersonName",value:a.contactPersonName,onChange:y,placeholder:"Enter contact person name",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"contactEmail",children:"Contact Email *"}),(0,s.jsx)("input",{type:"email",id:"contactEmail",name:"contactEmail",value:a.contactEmail,onChange:y,placeholder:"email@example.com",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"contactPhone",children:"Contact Phone *"}),(0,s.jsx)("input",{type:"tel",id:"contactPhone",name:"contactPhone",value:a.contactPhone,onChange:y,placeholder:"+60 12-345 6789",required:!0})]})]}),(0,s.jsxs)("div",{className:"form-section",children:[(0,s.jsx)("h3",{children:"Account Credentials"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"username",children:"Username *"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:a.username,onChange:y,placeholder:"Choose a username",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"password",children:"Password *"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:y,placeholder:"Create a secure password",minLength:"8",required:!0,style:{borderColor:a.password&&a.confirmPassword?x?"#28a745":"#dc3545":"#ccc",borderWidth:"2px",outline:"none",transition:"border-color 0.3s ease"}}),a.password&&(0,s.jsxs)("div",{className:"password-strength-container",children:[(0,s.jsx)("div",{className:"password-strength-bar",children:(0,s.jsx)("div",{className:"password-strength-fill",style:{width:"".concat(m.score/5*100,"%"),backgroundColor:m.color}})}),m.label&&(0,s.jsx)("span",{className:"password-strength-label",style:{color:m.color},children:m.label})]}),(0,s.jsxs)("div",{className:"password-requirements",children:[(0,s.jsx)("small",{className:"form-note",children:"Password must contain:"}),(0,s.jsxs)("ul",{className:"password-checklist",children:[(0,s.jsxs)("li",{className:m.checks.length?"valid":"invalid",children:[m.checks.length?"\u2713":"\u25cb"," At least 8 characters"]}),(0,s.jsxs)("li",{className:m.checks.uppercase?"valid":"invalid",children:[m.checks.uppercase?"\u2713":"\u25cb"," One uppercase letter (A-Z)"]}),(0,s.jsxs)("li",{className:m.checks.lowercase?"valid":"invalid",children:[m.checks.lowercase?"\u2713":"\u25cb"," One lowercase letter (a-z)"]}),(0,s.jsxs)("li",{className:m.checks.number?"valid":"invalid",children:[m.checks.number?"\u2713":"\u25cb"," One number (0-9)"]}),(0,s.jsxs)("li",{className:m.checks.symbol?"valid":"invalid",children:[m.checks.symbol?"\u2713":"\u25cb"," One symbol (!@#$%^&*)"]})]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,s.jsx)("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:y,placeholder:"Re-enter your password",required:!0,style:{borderColor:a.confirmPassword?x?"#28a745":"#dc3545":"#ccc",borderWidth:"2px",outline:"none",transition:"border-color 0.3s ease"}}),a.confirmPassword&&(0,s.jsx)("div",{style:{marginTop:"8px",padding:"8px 12px",borderRadius:"4px",fontSize:"14px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",backgroundColor:x?"#d4edda":"#f8d7da",border:"1px solid ".concat(x?"#c3e6cb":"#f5c6cb"),color:x?"#155724":"#721c24"},children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{color:"#28a745",fontSize:"16px"},children:"\u2713"}),(0,s.jsx)("span",{children:"Passwords match"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:{color:"#dc3545",fontSize:"16px"},children:"\u2717"}),(0,s.jsx)("span",{children:"Passwords do not match"})]})})]})]}),(0,s.jsxs)("div",{className:"form-actions",children:[d&&(0,s.jsx)("div",{className:"error-message",style:{color:"#d32f2f",backgroundColor:"#ffebee",padding:"10px",borderRadius:"4px",marginBottom:"15px",border:"1px solid #ffcdd2"},children:d}),(0,s.jsx)("button",{type:"submit",className:"submit-btn ".concat(!v()||l?"disabled":""),disabled:!v()||l,children:l?"Submitting Registration...":"Submit Registration"})]})]}),(0,s.jsx)("style",{children:'\n        /* Consent Section Styling */\n        .consent-group {\n          display: flex;\n          flex-direction: column;\n          gap: 20px;\n          margin: 16px 0;\n        }\n\n        .consent-checkbox-label {\n          display: flex;\n          align-items: flex-start;\n          gap: 16px;\n          cursor: pointer;\n          padding: 16px 20px;\n          border-radius: 8px;\n          background: #f8fafc;\n          border: 2px solid #e5e7eb;\n          transition: all 0.3s ease;\n        }\n\n        .consent-checkbox-label:hover {\n          background: #f0f4ff;\n          border-color: #2c5aa0;\n        }\n\n        .consent-checkbox-label input[type="checkbox"] {\n          display: none;\n        }\n\n        .consent-checkmark {\n          width: 22px;\n          height: 22px;\n          min-width: 22px;\n          border: 2px solid #cbd5e1;\n          border-radius: 5px;\n          display: inline-block;\n          position: relative;\n          flex-shrink: 0;\n          margin-top: 2px;\n          transition: all 0.2s ease;\n          background: #ffffff;\n        }\n\n        .consent-checkbox-label input:checked + .consent-checkmark {\n          background-color: #2c5aa0;\n          border-color: #2c5aa0;\n        }\n\n        .consent-checkbox-label input:checked + .consent-checkmark::after {\n          content: \'\';\n          position: absolute;\n          left: 7px;\n          top: 3px;\n          width: 5px;\n          height: 10px;\n          border: solid white;\n          border-width: 0 2px 2px 0;\n          transform: rotate(45deg);\n        }\n\n        .consent-checkbox-label:hover .consent-checkmark {\n          border-color: #94a3b8;\n        }\n\n        .consent-text {\n          font-size: 15px;\n          color: #334155;\n          line-height: 1.6;\n          font-weight: 500;\n        }\n\n        .consent-checkbox-label input:checked ~ .consent-text {\n          color: #1e293b;\n          font-weight: 600;\n        }\n\n        @media (max-width: 768px) {\n          .consent-checkbox-label {\n            padding: 14px 16px;\n            gap: 12px;\n          }\n\n          .consent-checkmark {\n            width: 20px;\n            height: 20px;\n            min-width: 20px;\n          }\n\n          .consent-text {\n            font-size: 14px;\n          }\n        }\n\n        .platform-selection-group {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 16px;\n          margin: 12px 0;\n        }\n\n        .platform-card {\n          position: relative;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n          padding: 20px;\n          border: 2px solid #e5e7eb;\n          border-radius: 8px;\n          cursor: pointer;\n          transition: all 0.3s ease;\n          background: #ffffff;\n        }\n\n        .platform-card input[type="checkbox"] {\n          display: none;\n        }\n\n        .platform-card:hover {\n          border-color: #2c5aa0;\n          box-shadow: 0 4px 12px rgba(44, 90, 160, 0.1);\n          transform: translateY(-2px);\n        }\n\n        .platform-card.selected {\n          border-color: #2c5aa0;\n          background: #f0f4ff;\n          box-shadow: 0 4px 12px rgba(44, 90, 160, 0.15);\n        }\n\n        .platform-icon {\n          font-size: 32px;\n          flex-shrink: 0;\n        }\n\n        .platform-info {\n          flex: 1;\n        }\n\n        .platform-title {\n          font-size: 16px;\n          font-weight: 600;\n          color: #1f2937;\n          margin-bottom: 4px;\n        }\n\n        .platform-description {\n          font-size: 13px;\n          color: #6b7280;\n        }\n\n        .platform-check {\n          font-size: 20px;\n          color: #2c5aa0;\n          font-weight: bold;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n        }\n\n        .platform-card.selected .platform-check {\n          opacity: 1;\n        }\n\n        .platform-card.selected .platform-title {\n          color: #2c5aa0;\n        }\n\n        @media (max-width: 768px) {\n          .platform-selection-group {\n            grid-template-columns: 1fr;\n            gap: 12px;\n          }\n\n          .platform-card {\n            padding: 16px;\n          }\n\n          .platform-icon {\n            font-size: 28px;\n          }\n\n          .platform-title {\n            font-size: 15px;\n          }\n\n          .platform-description {\n            font-size: 12px;\n          }\n        }\n\n        /* Password Strength Styling */\n        .password-strength-container {\n          margin-top: 8px;\n          margin-bottom: 12px;\n          display: flex;\n          align-items: center;\n          gap: 12px;\n        }\n\n        .password-strength-bar {\n          flex: 1;\n          height: 4px;\n          background-color: #e5e7eb;\n          border-radius: 2px;\n          overflow: hidden;\n        }\n\n        .password-strength-fill {\n          height: 100%;\n          transition: all 0.3s ease;\n          border-radius: 2px;\n        }\n\n        .password-strength-label {\n          font-size: 12px;\n          font-weight: 600;\n          min-width: 60px;\n          text-align: right;\n        }\n\n        .password-requirements {\n          margin-top: 12px;\n        }\n\n        .password-checklist {\n          margin: 6px 0 0 0;\n          padding: 0;\n          list-style: none;\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 4px;\n        }\n\n        .password-checklist li {\n          font-size: 12px;\n          padding: 2px 0;\n          transition: color 0.3s ease;\n        }\n\n        .password-checklist li.valid {\n          color: #059669;\n        }\n\n        .password-checklist li.invalid {\n          color: #9ca3af;\n        }\n\n        @media (max-width: 768px) {\n          .password-checklist {\n            grid-template-columns: 1fr;\n          }\n        }\n\n      '})]})},So=e=>{let{setCurrentPage:t,setUserData:n}=e;const[a,o]=(0,r.useState)({username:"",password:""}),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),p=e=>{const{name:t,value:n}=e.target;o(e=>h(h({},e),{},{[t]:n}))};return(0,s.jsxs)("div",{className:"software-login-page",children:[(0,s.jsx)("div",{className:"login-container",children:(0,s.jsxs)("div",{className:"login-card",children:[(0,s.jsxs)("div",{className:"login-header",children:[(0,s.jsx)("img",{src:i,alt:"MPA",className:"login-logo"}),(0,s.jsx)("h2",{children:"Tournament Software Login"}),(0,s.jsx)("p",{children:"Access your tournament software dashboard"})]}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(""),a.username&&a.password){u(!0);try{const e=await fetch("/api/tournament-software/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),r=await e.json();if(!e.ok)throw new Error(r.error||"Login failed");n(r.software),t("software-dashboard")}catch(r){c(r.message||"Invalid username or password"),console.error("Login error:",r)}finally{u(!1)}}else c("Please enter both username and password")},children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"username",children:"Username"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:a.username,onChange:p,placeholder:"Enter your username",disabled:d})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{htmlFor:"password",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:p,placeholder:"Enter your password",disabled:d})]}),l&&(0,s.jsx)("div",{className:"login-error",children:l}),(0,s.jsx)("button",{type:"submit",className:"login-submit-btn",disabled:d,children:d?"Logging in...":"Login"})]}),(0,s.jsx)("div",{className:"login-divider",children:(0,s.jsx)("span",{children:"Don't have an account?"})}),(0,s.jsx)("button",{type:"button",className:"register-btn",onClick:()=>{t("software-registration")},children:"Register New Tournament Software"})]})}),(0,s.jsx)("style",{children:"\n        .software-login-page {\n          display: flex;\n          align-items: flex-start;\n          justify-content: center;\n          background: #f9fafb;\n          padding: 1.5rem 1rem;\n        }\n\n        .login-container {\n          max-width: 400px;\n          width: 100%;\n        }\n\n        .login-card {\n          background: #ffffff;\n          border-radius: 8px;\n          padding: 2rem;\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);\n          border: 1px solid #e5e7eb;\n        }\n\n        .login-header {\n          text-align: center;\n          margin-bottom: 1.5rem;\n          background: transparent;\n        }\n\n        .login-logo {\n          width: 120px;\n          height: 120px;\n          object-fit: contain;\n          margin-bottom: 1rem;\n        }\n\n        .login-header h2 {\n          margin: 0 0 0.25rem 0;\n          color: #111827;\n          font-size: 1.25rem;\n          font-weight: 600;\n        }\n\n        .login-header p {\n          margin: 0;\n          color: #6b7280;\n          font-size: 0.813rem;\n        }\n\n        .form-group {\n          margin-bottom: 1.25rem;\n        }\n\n        .form-group label {\n          display: block;\n          margin-bottom: 0.5rem;\n          color: #374151;\n          font-weight: 500;\n          font-size: 0.875rem;\n        }\n\n        .form-group input {\n          width: 100%;\n          padding: 0.75rem 1rem;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          transition: all 0.2s;\n        }\n\n        .form-group input:focus {\n          outline: none;\n          border-color: #2c5aa0;\n          box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);\n        }\n\n        .form-group input:disabled {\n          background: #f3f4f6;\n          cursor: not-allowed;\n        }\n\n        .login-error {\n          background: #fef2f2;\n          color: #991b1b;\n          border: 1px solid #fecaca;\n          padding: 0.625rem 0.875rem;\n          border-radius: 6px;\n          font-size: 0.813rem;\n          margin-bottom: 1.25rem;\n        }\n\n        .login-submit-btn {\n          width: 100%;\n          padding: 0.875rem 1rem;\n          background: linear-gradient(135deg, #2c5aa0, #1e40af);\n          color: white;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s;\n        }\n\n        .login-submit-btn:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(44, 90, 160, 0.3);\n        }\n\n        .login-submit-btn:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        .login-divider {\n          text-align: center;\n          margin: 1.5rem 0 1.25rem;\n          position: relative;\n        }\n\n        .login-divider::before {\n          content: '';\n          position: absolute;\n          left: 0;\n          right: 0;\n          top: 50%;\n          height: 1px;\n          background: #e5e7eb;\n        }\n\n        .login-divider span {\n          background: white;\n          padding: 0 1rem;\n          position: relative;\n          color: #6b7280;\n          font-size: 0.875rem;\n        }\n\n        .register-btn {\n          width: 100%;\n          padding: 0.875rem 1rem;\n          background: white;\n          color: #2c5aa0;\n          border: 2px solid #2c5aa0;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s;\n        }\n\n        .register-btn:hover {\n          background: #f0f4ff;\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(44, 90, 160, 0.2);\n        }\n\n        @media (max-width: 768px) {\n          .software-login-page {\n            padding: 1rem;\n          }\n\n          .login-card {\n            padding: 1.5rem;\n          }\n\n          .login-logo {\n            width: 100px;\n            height: 100px;\n          }\n\n          .login-header {\n            margin-bottom: 1.25rem;\n          }\n\n          .login-header h2 {\n            font-size: 1.125rem;\n          }\n        }\n      "})]})},No=e=>{let{setCurrentPage:t,userData:n}=e;const[a,o]=(0,r.useState)("dashboard"),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),[v,w]=(0,r.useState)(""),[j,S]=(0,r.useState)([]),[N,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&n._id&&C()},[n]);const C=async()=>{if(n&&n._id){k(!0);try{const e=await fetch("/api/tournament-software/".concat(n._id,"/tournaments"));if(e.ok){const t=await e.json();S(t)}else console.error("Failed to fetch tournaments")}catch(e){console.error("Error fetching tournaments:",e)}finally{k(!1)}}},A=e=>{const t=e.target.files[0];if(!t)return;if(!t.name.endsWith(".json"))return u("Please upload a valid JSON file"),void p("");m(!0),u(""),p("");const n=new FileReader;n.onload=e=>{try{const t=JSON.parse(e.target.result);if(!Array.isArray(t))return u("JSON file must contain an array of players"),void m(!1);const n=["name","email"];if(!t.every(e=>n.every(t=>e.hasOwnProperty(t))))return u('Each player must have at least "name" and "email" fields'),void m(!1);c(t),p("Successfully uploaded ".concat(t.length," player(s)")),u(""),m(!1),console.log("Player list uploaded:",t)}catch(t){u("Invalid JSON format. Please check your file."),m(!1)}},n.onerror=()=>{u("Error reading file. Please try again."),m(!1)},n.readAsText(t)},_=()=>{c([]),p(""),u(""),y(""),w("")},P=async()=>{x(!0),w(""),y("");try{const e=await fetch("/api/tournament-software/share-players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({players:l,softwareProvider:(null===n||void 0===n?void 0:n.companyName)||"Unknown Provider",softwareName:(null===n||void 0===n?void 0:n.softwareName)||"Unknown Software"})});if(!e.ok)throw new Error("Failed to share player list");const t=await e.json();y("Successfully shared ".concat(l.length," player(s) to MPA.")),console.log("Share response:",t)}catch(e){w("Failed to share player list. Please try again."),console.error("Share error:",e)}finally{x(!1)}};return(0,s.jsxs)("div",{className:"software-dashboard",children:[(0,s.jsxs)("aside",{className:"dashboard-sidebar",children:[(0,s.jsxs)("div",{className:"sidebar-header",children:[(0,s.jsx)("img",{src:i,alt:"MPA",className:"sidebar-logo"}),(0,s.jsx)("h1",{children:"Tournament Software"})]}),(0,s.jsxs)("div",{className:"sidebar-content",children:[(0,s.jsxs)("div",{className:"sidebar-company",children:[(0,s.jsx)("p",{className:"sidebar-label",children:"Company"}),(0,s.jsx)("p",{className:"sidebar-company-name",children:(null===n||void 0===n?void 0:n.companyName)||"Tournament Software Provider"})]}),(0,s.jsxs)("nav",{className:"sidebar-nav",children:[(0,s.jsxs)("button",{className:"nav-item ".concat("dashboard"===a?"active":""),onClick:()=>o("dashboard"),children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{width:"20px",height:"20px"},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Dashboard"]}),(0,s.jsxs)("button",{className:"nav-item ".concat("player-list-sync"===a?"active":""),onClick:()=>o("player-list-sync"),children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{width:"20px",height:"20px"},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Player List Sync"]})]})]}),(0,s.jsx)("button",{className:"btn-logout",onClick:()=>{t("home")},children:"Logout"})]}),(0,s.jsxs)("main",{className:"dashboard-main",children:["dashboard"===a&&(()=>{var e,t;return(0,s.jsxs)("div",{className:"dashboard-view",children:[(0,s.jsxs)("div",{className:"dashboard-header-section",children:[(0,s.jsx)("h1",{children:"Dashboard"}),(0,s.jsx)("p",{children:"Welcome to your Tournament Software Portal"})]}),(0,s.jsxs)("div",{className:"stats-grid",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#dbeafe"},children:(0,s.jsx)("svg",{fill:"none",stroke:"#2563eb",viewBox:"0 0 24 24",style:{width:"24px",height:"24px"},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("p",{className:"stat-label",children:"Total Players"}),(0,s.jsx)("p",{className:"stat-value",children:l.length})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#d1fae5"},children:(0,s.jsx)("svg",{fill:"none",stroke:"#059669",viewBox:"0 0 24 24",style:{width:"24px",height:"24px"},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("p",{className:"stat-label",children:"Status"}),(0,s.jsx)("p",{className:"stat-value",children:"Active"})]})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-icon",style:{backgroundColor:"#fef3c7"},children:(0,s.jsx)("svg",{fill:"none",stroke:"#d97706",viewBox:"0 0 24 24",style:{width:"24px",height:"24px"},children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),(0,s.jsxs)("div",{className:"stat-content",children:[(0,s.jsx)("p",{className:"stat-label",children:"Software"}),(0,s.jsx)("p",{className:"stat-value",style:{fontSize:"1rem"},children:(null===n||void 0===n?void 0:n.softwareName)||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"info-card",children:[(0,s.jsx)("h2",{children:"Company Information"}),(0,s.jsxs)("div",{className:"info-grid",children:[(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsx)("span",{className:"info-label",children:"Company Name:"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.companyName)||"N/A"})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsx)("span",{className:"info-label",children:"Software Name:"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.softwareName)||"N/A"})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsx)("span",{className:"info-label",children:"Contact Person:"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.contactPersonName)||"N/A"})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsx)("span",{className:"info-label",children:"Email:"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.contactEmail)||"N/A"})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsx)("span",{className:"info-label",children:"Phone:"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.contactPhone)||"N/A"})]}),(0,s.jsxs)("div",{className:"info-item",children:[(0,s.jsx)("span",{className:"info-label",children:"Platform:"}),(0,s.jsx)("span",{className:"info-value",children:[(null===n||void 0===n||null===(e=n.platform)||void 0===e?void 0:e.web)&&"Web",(null===n||void 0===n||null===(t=n.platform)||void 0===t?void 0:t.mobile)&&"Mobile"].filter(Boolean).join(", ")||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"info-card",children:[(0,s.jsxs)("h2",{children:["Tournaments Handled (",j.length,")"]}),N?(0,s.jsx)("div",{style:{textAlign:"center",padding:"2rem",color:"#6b7280"},children:"Loading tournaments..."}):0===j.length?(0,s.jsxs)("div",{style:{textAlign:"center",padding:"2rem",backgroundColor:"#f9fafb",borderRadius:"8px",color:"#6b7280"},children:[(0,s.jsx)("p",{style:{margin:0},children:"No tournaments yet"}),(0,s.jsx)("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.875rem"},children:"Tournaments will appear here once you add them"})]}):(0,s.jsx)("div",{className:"tournaments-list",children:j.map((e,t)=>(0,s.jsxs)("div",{className:"tournament-card",children:[(0,s.jsxs)("div",{className:"tournament-header",children:[(0,s.jsx)("h3",{children:e.tournamentName}),(0,s.jsxs)("span",{className:"tournament-badge",children:[e.totalPlayers," ",1===e.totalPlayers?"Player":"Players"]})]}),e.location&&(0,s.jsxs)("div",{className:"tournament-meta",children:[(0,s.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",style:{width:"16px",height:"16px"},children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]}),e.categories&&e.categories.length>0&&(0,s.jsxs)("div",{className:"categories-section",children:[(0,s.jsxs)("h4",{children:["Categories (",e.categories.length,")"]}),(0,s.jsx)("div",{className:"categories-list",children:e.categories.map((e,t)=>(0,s.jsxs)("div",{className:"category-item",children:[(0,s.jsxs)("div",{className:"category-header",children:[(0,s.jsx)("span",{className:"category-name",children:e.categoryName}),(0,s.jsxs)("span",{className:"category-count",children:[e.players.length," ",1===e.players.length?"player":"players"]})]}),e.players&&e.players.length>0&&(0,s.jsx)("div",{className:"players-list",children:e.players.map((e,t)=>(0,s.jsxs)("div",{className:"player-item",children:[(0,s.jsxs)("div",{className:"player-info",children:[(0,s.jsx)("span",{className:"player-name",children:e.name}),e.email&&(0,s.jsx)("span",{className:"player-email",children:e.email})]}),(0,s.jsx)("div",{className:"player-details",children:e.skillLevel&&(0,s.jsx)("span",{className:"player-skill",children:e.skillLevel})})]},t))})]},t))})]})]},e._id))})]})]})})(),"player-list-sync"===a&&(0,s.jsxs)("div",{className:"player-sync-view",children:[(0,s.jsxs)("div",{className:"dashboard-header-section",children:[(0,s.jsx)("h1",{children:"Player List Sync"}),(0,s.jsx)("p",{children:"Upload and sync your player list with MPA"})]}),(0,s.jsxs)("div",{className:"card upload-card",children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsx)("h2",{children:"Upload Player List"}),(0,s.jsx)("p",{children:"Upload a JSON file containing player information"})]}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"upload-zone",children:[(0,s.jsx)("input",{id:"file-input",type:"file",accept:".json",onChange:A,disabled:f,style:{display:"none"}}),(0,s.jsx)("label",{htmlFor:"file-input",className:"upload-label",children:(0,s.jsxs)("div",{className:"upload-content",children:[(0,s.jsx)("svg",{className:"upload-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,s.jsx)("p",{className:"upload-title",children:f?"Uploading...":"Click to upload or drag and drop"}),(0,s.jsx)("p",{className:"upload-subtitle",children:"JSON files only"})]})})]}),d&&(0,s.jsxs)("div",{className:"alert alert-error",children:[(0,s.jsx)("svg",{className:"alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"})}),d]}),h&&(0,s.jsxs)("div",{className:"alert alert-success",children:[(0,s.jsx)("svg",{className:"alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})}),h]}),(0,s.jsxs)("div",{className:"format-info",children:[(0,s.jsx)("h3",{children:"Required Format"}),(0,s.jsx)("pre",{children:(0,s.jsx)("code",{children:'[\n  {\n    "name": "John Doe",\n    "email": "john@example.com",\n    "phone": "+60123456789",\n    "skillLevel": "Intermediate"\n  }\n]'})}),(0,s.jsxs)("p",{className:"format-note",children:[(0,s.jsx)("strong",{children:"Required:"})," name, email \xa0|\xa0 ",(0,s.jsx)("strong",{children:"Optional:"})," phone, skillLevel, age"]})]})]})]}),l.length>0&&(0,s.jsxs)("div",{className:"card players-card",children:[(0,s.jsxs)("div",{className:"card-header",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Player List"}),(0,s.jsxs)("p",{children:[l.length," player",1!==l.length?"s":""," uploaded"]})]}),(0,s.jsx)("button",{className:"btn-clear",onClick:_,children:"Clear List"})]}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("div",{className:"table-wrapper",children:(0,s.jsxs)("table",{className:"players-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"#"}),(0,s.jsx)("th",{children:"Name"}),(0,s.jsx)("th",{children:"Email"}),(0,s.jsx)("th",{children:"Phone"}),(0,s.jsx)("th",{children:"Skill Level"}),(0,s.jsx)("th",{children:"Age"})]})}),(0,s.jsx)("tbody",{children:l.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t+1}),(0,s.jsx)("td",{children:e.name}),(0,s.jsx)("td",{children:e.email}),(0,s.jsx)("td",{children:e.phone||"\u2014"}),(0,s.jsx)("td",{children:e.skillLevel||"\u2014"}),(0,s.jsx)("td",{children:e.age||"\u2014"})]},t))})]})}),b&&(0,s.jsxs)("div",{className:"alert alert-success",style:{marginTop:"1rem"},children:[(0,s.jsx)("svg",{className:"alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})}),b]}),v&&(0,s.jsxs)("div",{className:"alert alert-error",style:{marginTop:"1rem"},children:[(0,s.jsx)("svg",{className:"alert-icon",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"})}),v]}),(0,s.jsx)("button",{className:"btn-share-mpa",onClick:P,disabled:g,children:g?"Sharing to MPA...":"Share to MPA"})]})]})]})]}),(0,s.jsx)("style",{children:"\n        .software-dashboard {\n          display: flex;\n          min-height: 100vh;\n          background: #f5f7fa;\n          margin: 0;\n          padding: 0;\n        }\n\n        /* Sidebar */\n        .dashboard-sidebar {\n          width: 260px;\n          background: white;\n          border-right: 1px solid #e5e7eb;\n          display: flex;\n          flex-direction: column;\n          padding: 2rem 1.5rem;\n          position: fixed;\n          height: 100vh;\n          left: 0;\n          top: 0;\n          z-index: 50;\n          padding-top: 80px;\n        }\n\n        .dashboard-sidebar::before {\n          display: none !important;\n        }\n\n        .sidebar-header {\n          text-align: center;\n          margin-bottom: 2rem;\n          padding-bottom: 2rem;\n          border-bottom: 1px solid #e5e7eb;\n          background: none !important;\n        }\n\n        .sidebar-logo {\n          width: 80px;\n          height: 80px;\n          object-fit: contain;\n          margin-bottom: 1rem;\n          background: none !important;\n        }\n\n        .sidebar-header h1 {\n          margin: 0;\n          font-size: 1.125rem;\n          font-weight: 600;\n          color: #111827;\n          background: none !important;\n        }\n\n        .sidebar-content {\n          flex: 1;\n        }\n\n        .sidebar-company {\n          margin-bottom: 1.5rem;\n        }\n\n        .sidebar-label {\n          margin: 0 0 0.5rem 0;\n          font-size: 0.75rem;\n          font-weight: 600;\n          color: #6b7280;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .sidebar-company-name {\n          margin: 0;\n          font-size: 0.875rem;\n          font-weight: 500;\n          color: #111827;\n        }\n\n        /* Sidebar Navigation */\n        .sidebar-nav {\n          margin-top: 1.5rem;\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .nav-item {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          padding: 0.75rem 1rem;\n          background: transparent;\n          color: #6b7280;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n          text-align: left;\n          width: 100%;\n        }\n\n        .nav-item:hover {\n          background: #f3f4f6;\n          color: #111827;\n        }\n\n        .nav-item.active {\n          background: #2c5aa0;\n          color: white;\n        }\n\n        .nav-item svg {\n          flex-shrink: 0;\n        }\n\n        .btn-logout {\n          width: 100%;\n          padding: 0.75rem 1rem;\n          background: #f3f4f6;\n          color: #374151;\n          border: 1px solid #d1d5db;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .btn-logout:hover {\n          background: #e5e7eb;\n          border-color: #9ca3af;\n        }\n\n        /* Main Content */\n        .dashboard-main {\n          flex: 1;\n          margin-left: 260px;\n          padding: 2rem;\n        }\n\n        /* Dashboard View */\n        .dashboard-view,\n        .player-sync-view {\n          max-width: 1400px;\n          margin: 0 auto;\n        }\n\n        .dashboard-header-section {\n          margin-bottom: 2rem;\n        }\n\n        .dashboard-header-section h1 {\n          margin: 0 0 0.5rem 0;\n          font-size: 2rem;\n          font-weight: 700;\n          color: #111827;\n        }\n\n        .dashboard-header-section p {\n          margin: 0;\n          font-size: 1rem;\n          color: #6b7280;\n        }\n\n        /* Stats Grid */\n        .stats-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 1.5rem;\n          margin-bottom: 2rem;\n        }\n\n        .stat-card {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n          padding: 1.5rem;\n          display: flex;\n          align-items: center;\n          gap: 1rem;\n        }\n\n        .stat-icon {\n          width: 48px;\n          height: 48px;\n          border-radius: 8px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          flex-shrink: 0;\n        }\n\n        .stat-content {\n          flex: 1;\n        }\n\n        .stat-label {\n          margin: 0 0 0.25rem 0;\n          font-size: 0.875rem;\n          font-weight: 500;\n          color: #6b7280;\n        }\n\n        .stat-value {\n          margin: 0;\n          font-size: 1.5rem;\n          font-weight: 700;\n          color: #111827;\n        }\n\n        /* Info Card */\n        .info-card {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n          padding: 1.5rem;\n          margin-bottom: 1.5rem;\n        }\n\n        .info-card h2 {\n          margin: 0 0 1rem 0;\n          font-size: 1.125rem;\n          font-weight: 600;\n          color: #111827;\n        }\n\n        .info-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 1rem;\n        }\n\n        .info-item {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n\n        .info-label {\n          font-size: 0.75rem;\n          font-weight: 600;\n          color: #6b7280;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .info-value {\n          font-size: 0.875rem;\n          font-weight: 500;\n          color: #111827;\n        }\n\n        /* Tournaments List */\n        .tournaments-list {\n          display: flex;\n          flex-direction: column;\n          gap: 1.5rem;\n        }\n\n        .tournament-card {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 8px;\n          padding: 1.5rem;\n        }\n\n        .tournament-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 1rem;\n        }\n\n        .tournament-header h3 {\n          margin: 0;\n          font-size: 1.125rem;\n          font-weight: 600;\n          color: #111827;\n        }\n\n        .tournament-badge {\n          background: #2c5aa0;\n          color: white;\n          padding: 0.25rem 0.75rem;\n          border-radius: 999px;\n          font-size: 0.75rem;\n          font-weight: 600;\n        }\n\n        .tournament-meta {\n          display: flex;\n          align-items: center;\n          gap: 0.5rem;\n          color: #6b7280;\n          font-size: 0.875rem;\n          margin-bottom: 1rem;\n        }\n\n        .categories-section {\n          margin-top: 1rem;\n        }\n\n        .categories-section h4 {\n          margin: 0 0 0.75rem 0;\n          font-size: 0.875rem;\n          font-weight: 600;\n          color: #374151;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n        }\n\n        .categories-list {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n        }\n\n        .category-item {\n          background: white;\n          border: 1px solid #e5e7eb;\n          border-radius: 6px;\n          padding: 1rem;\n        }\n\n        .category-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 0.75rem;\n          padding-bottom: 0.75rem;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .category-name {\n          font-size: 0.875rem;\n          font-weight: 600;\n          color: #111827;\n        }\n\n        .category-count {\n          font-size: 0.75rem;\n          color: #6b7280;\n          font-weight: 500;\n        }\n\n        .players-list {\n          display: flex;\n          flex-direction: column;\n          gap: 0.5rem;\n        }\n\n        .player-item {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 0.5rem;\n          background: #f9fafb;\n          border-radius: 4px;\n        }\n\n        .player-info {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n        }\n\n        .player-name {\n          font-size: 0.875rem;\n          font-weight: 500;\n          color: #111827;\n        }\n\n        .player-email {\n          font-size: 0.75rem;\n          color: #6b7280;\n        }\n\n        .player-details {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .player-skill {\n          font-size: 0.75rem;\n          color: #059669;\n          font-weight: 500;\n          background: #d1fae5;\n          padding: 0.125rem 0.5rem;\n          border-radius: 999px;\n        }\n\n        .dashboard-container {\n          max-width: 1400px;\n          margin: 0 auto;\n          display: grid;\n          grid-template-columns: 1fr 1.5fr;\n          gap: 2rem;\n          align-items: start;\n        }\n\n        /* Card */\n        .card {\n          background: white;\n          border-radius: 8px;\n          border: 1px solid #e5e7eb;\n          overflow: hidden;\n        }\n\n        .card-header {\n          padding: 1.5rem;\n          border-bottom: 1px solid #e5e7eb;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n\n        .card-header h2 {\n          margin: 0 0 0.25rem 0;\n          font-size: 1.125rem;\n          font-weight: 600;\n          color: #111827;\n        }\n\n        .card-header p {\n          margin: 0;\n          font-size: 0.875rem;\n          color: #6b7280;\n        }\n\n        .card-body {\n          padding: 1.5rem;\n        }\n\n        /* Upload Zone */\n        .upload-zone {\n          margin-bottom: 1.5rem;\n        }\n\n        .upload-label {\n          display: block;\n          cursor: pointer;\n        }\n\n        .upload-content {\n          border: 2px dashed #d1d5db;\n          border-radius: 8px;\n          padding: 3rem 2rem;\n          text-align: center;\n          transition: all 0.2s;\n          background: #fafbfc;\n        }\n\n        .upload-label:hover .upload-content {\n          border-color: #2c5aa0;\n          background: #f0f4ff;\n        }\n\n        .upload-icon {\n          width: 48px;\n          height: 48px;\n          margin: 0 auto 1rem;\n          color: #9ca3af;\n        }\n\n        .upload-title {\n          margin: 0 0 0.25rem 0;\n          font-size: 0.875rem;\n          font-weight: 500;\n          color: #374151;\n        }\n\n        .upload-subtitle {\n          margin: 0;\n          font-size: 0.75rem;\n          color: #9ca3af;\n        }\n\n        /* Alerts */\n        .alert {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          padding: 0.875rem 1rem;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          margin-bottom: 1.5rem;\n        }\n\n        .alert-icon {\n          width: 20px;\n          height: 20px;\n          flex-shrink: 0;\n        }\n\n        .alert-error {\n          background: #fef2f2;\n          color: #991b1b;\n          border: 1px solid #fecaca;\n        }\n\n        .alert-success {\n          background: #f0fdf4;\n          color: #166534;\n          border: 1px solid #bbf7d0;\n        }\n\n        /* Format Info */\n        .format-info {\n          background: #f9fafb;\n          border: 1px solid #e5e7eb;\n          border-radius: 6px;\n          padding: 1rem;\n        }\n\n        .format-info h3 {\n          margin: 0 0 0.75rem 0;\n          font-size: 0.875rem;\n          font-weight: 600;\n          color: #374151;\n        }\n\n        .format-info pre {\n          margin: 0 0 0.75rem 0;\n          background: #1f2937;\n          border-radius: 4px;\n          padding: 1rem;\n          overflow-x: auto;\n        }\n\n        .format-info code {\n          font-family: 'Monaco', 'Courier New', monospace;\n          font-size: 0.75rem;\n          line-height: 1.6;\n          color: #10b981;\n        }\n\n        .format-note {\n          margin: 0;\n          font-size: 0.75rem;\n          color: #6b7280;\n        }\n\n        /* Buttons */\n        .btn-clear {\n          padding: 0.5rem 1rem;\n          background: white;\n          color: #dc2626;\n          border: 1px solid #fecaca;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.2s;\n        }\n\n        .btn-clear:hover {\n          background: #fef2f2;\n          border-color: #dc2626;\n        }\n\n        .btn-share-mpa {\n          width: 100%;\n          padding: 0.875rem 1rem;\n          margin-top: 1.5rem;\n          background: linear-gradient(135deg, #10b981, #059669);\n          color: white;\n          border: none;\n          border-radius: 6px;\n          font-size: 0.875rem;\n          font-weight: 600;\n          cursor: pointer;\n          transition: all 0.3s;\n        }\n\n        .btn-share-mpa:hover:not(:disabled) {\n          transform: translateY(-2px);\n          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);\n        }\n\n        .btn-share-mpa:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n\n        /* Table */\n        .table-wrapper {\n          overflow-x: auto;\n          border-radius: 6px;\n          border: 1px solid #e5e7eb;\n        }\n\n        .players-table {\n          width: 100%;\n          border-collapse: collapse;\n        }\n\n        .players-table thead {\n          background: #f9fafb;\n        }\n\n        .players-table th {\n          padding: 0.75rem 1rem;\n          text-align: left;\n          font-size: 0.75rem;\n          font-weight: 600;\n          color: #6b7280;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n          border-bottom: 1px solid #e5e7eb;\n        }\n\n        .players-table td {\n          padding: 0.875rem 1rem;\n          font-size: 0.875rem;\n          color: #374151;\n          border-bottom: 1px solid #f3f4f6;\n        }\n\n        .players-table tbody tr:last-child td {\n          border-bottom: none;\n        }\n\n        .players-table tbody tr:hover {\n          background: #fafbfc;\n        }\n\n        /* Responsive */\n        @media (max-width: 768px) {\n          .software-dashboard {\n            flex-direction: column;\n          }\n\n          .dashboard-sidebar {\n            width: 100%;\n            position: relative;\n            height: auto;\n            border-right: none;\n            border-bottom: 1px solid #e5e7eb;\n            padding: 1.5rem 1rem;\n          }\n\n          .sidebar-header {\n            margin-bottom: 1rem;\n            padding-bottom: 1rem;\n          }\n\n          .sidebar-logo {\n            width: 60px;\n            height: 60px;\n          }\n\n          .sidebar-header h1 {\n            font-size: 1rem;\n          }\n\n          .dashboard-main {\n            margin-left: 0;\n            padding: 1rem;\n          }\n\n          .dashboard-container {\n            grid-template-columns: 1fr;\n          }\n\n          .card-header {\n            flex-direction: column;\n            align-items: flex-start;\n            gap: 1rem;\n          }\n\n          .btn-clear {\n            width: 100%;\n          }\n\n          .upload-content {\n            padding: 2rem 1rem;\n          }\n\n          .table-wrapper {\n            font-size: 0.75rem;\n          }\n\n          .players-table th,\n          .players-table td {\n            padding: 0.5rem 0.75rem;\n          }\n        }\n      "})]})},ko=e=>{let{setCurrentPage:t,setIsStateLoggedIn:n,setStateUserData:a}=e;const[i,o]=(0,r.useState)({username:"",password:""}),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),p=e=>{const{name:t,value:n}=e.target;o(e=>h(h({},e),{},{[t]:n})),l&&c("")};return(0,s.jsxs)("div",{className:"digital-login-page state-login-page",children:[(0,s.jsxs)("div",{className:"login-background",children:[(0,s.jsx)("div",{className:"login-grid-pattern"}),(0,s.jsxs)("div",{className:"login-particles",children:[(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"}),(0,s.jsx)("div",{className:"particle"})]})]}),(0,s.jsx)("div",{className:"login-container-digital",children:(0,s.jsxs)("div",{className:"login-card state-login-card",children:[(0,s.jsx)("div",{className:"login-header-digital",children:(0,s.jsx)("div",{className:"logo-section",children:(0,s.jsxs)("div",{className:"brand-info",children:[(0,s.jsx)("h1",{children:"PORTAL MPA"}),(0,s.jsx)("p",{children:"State Authentication System"})]})})}),(0,s.jsxs)("div",{className:"login-form-container",children:[(0,s.jsxs)("div",{className:"access-header",children:[(0,s.jsxs)("div",{className:"access-info",children:[(0,s.jsx)("h2",{children:"State Association Access"}),(0,s.jsx)("p",{className:"login-description",children:"Enter your credentials to access the state dashboard"})]}),(0,s.jsxs)("div",{className:"security-badge state-badge",children:[(0,s.jsx)("div",{className:"security-icon",children:"\ud83c\udfdb\ufe0f"}),(0,s.jsx)("span",{children:"State Portal"})]})]}),(0,s.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(!0),c(""),!i.username.trim())return c("Username is required"),void u(!1);if(!i.password.trim())return c("Password is required"),void u(!1);console.log("Attempting state login with:",{username:i.username.trim(),password:"***"});try{const e=await f.stateLogin({username:i.username.trim(),password:i.password.trim()});console.log("State login response:",e),e.success?(console.log("State login successful, setting up session"),n&&n(!0),a&&a(e.user),localStorage.setItem("isStateLoggedIn","true"),localStorage.setItem("stateUserData",JSON.stringify(e.user)),localStorage.setItem("stateLoginTimestamp",Date.now().toString()),t("state-dashboard"),console.log("Redirecting to state dashboard")):(console.log("State login failed:",e.message),c(e.message||"Login failed"))}catch(l){console.error("State login error:",l),l.message.includes("401")?c("Invalid username or password. Please check your credentials."):l.message.includes("500")?c("Server error. Please try again later."):l.message.includes("fetch")?c("Network error. Please check your connection and try again."):c(l.message||"Login failed. Please try again.")}finally{u(!1)}},className:"digital-login-form",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("div",{className:"input-icon",children:"\ud83d\udc64"}),(0,s.jsx)("input",{type:"text",id:"username",name:"username",value:i.username,onChange:p,placeholder:"State Username",required:!0,disabled:d,className:"digital-input"}),(0,s.jsx)("div",{className:"input-border"})]}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("div",{className:"input-icon",children:"\ud83d\udd11"}),(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:i.password,onChange:p,placeholder:"Secure Password",required:!0,disabled:d,className:"digital-input"}),(0,s.jsx)("div",{className:"input-border"})]}),l&&(0,s.jsxs)("div",{className:"error-alert",children:[(0,s.jsx)("div",{className:"error-icon",children:"\u26a0\ufe0f"}),(0,s.jsx)("span",{children:l})]}),(0,s.jsx)("button",{type:"submit",className:"digital-login-btn state-login-btn ".concat(d?"loading":""),disabled:d,children:(0,s.jsxs)("div",{className:"btn-content",children:[(0,s.jsx)("span",{children:d?"Authenticating...":"Access State Dashboard"}),d&&(0,s.jsx)("div",{className:"loading-spinner"})]})})]}),(0,s.jsx)("div",{className:"login-actions",children:(0,s.jsx)("button",{className:"back-btn-digital",onClick:()=>t("home"),disabled:d,children:"\u2190 Return to Portal"})})]})]})})]})},Co=e=>{let{setCurrentPage:t,userData:n,setIsStateLoggedIn:a}=e;const[i,o]=(0,r.useState)("dashboard"),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[m,g]=(0,r.useState)("Pending Review"),[x,b]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[S,N]=(0,r.useState)(""),[k,C]=(0,r.useState)(!1),[A,_]=(0,r.useState)(""),[P,L]=(0,r.useState)(""),[T,E]=(0,r.useState)(""),[z,R]=(0,r.useState)(!1),[F,I]=(0,r.useState)(!1),[D,M]=(0,r.useState)(null),[O,B]=(0,r.useState)(""),q=(null===n||void 0===n?void 0:n.stateName)||"Sarawak",U=async()=>{u(!0),p("");try{const e=(await f.getAllApplications()).filter(e=>e.state&&e.state.toLowerCase()===q.toLowerCase());c(e)}catch(e){console.error("Error loading applications:",e),p("Failed to load applications. Please try again.")}finally{u(!1)}};(0,r.useEffect)(()=>{"tournaments"===i&&U()},[i]);const W=e=>l.filter(t=>t.status===e),H={"Pending Review":W("Pending Review").length,"Under Review":W("Under Review").length,"More Info Required":W("More Info Required").length,Approved:W("Approved").length,Rejected:W("Rejected").length},V=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})},G=e=>{switch(e){case"Pending Review":default:return"status-pending";case"Under Review":return"status-review";case"More Info Required":return"status-info-required";case"Approved":return"status-approved";case"Rejected":return"status-rejected"}},Y=e=>{if(!e||!e.classification)return!1;const t=e.classification.toLowerCase();return"district"===t||"divisional"===t||"state"===t},K=async()=>{if(x&&S.trim()){C(!0);try{const e=await fetch("".concat(f.baseURL,"/applications/").concat(x.applicationId,"/state-reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:S.trim(),rejectedBy:q,rejectedByUser:(null===n||void 0===n?void 0:n.username)||"State Admin"})}),t=await e.json();t.success?(_("Application rejected successfully!"),j(!1),v(!1),N(""),U(),setTimeout(()=>_(""),3e3)):p(t.message||"Failed to reject application")}catch(e){console.error("Error rejecting application:",e),p("Failed to reject application. Please try again.")}finally{C(!1)}}else p("Please provide a rejection reason")};return(0,s.jsxs)("div",{className:"state-dashboard",children:[(0,s.jsxs)("div",{className:"dashboard-sidebar",children:[(0,s.jsx)("div",{className:"sidebar-header",children:(0,s.jsxs)("div",{className:"sidebar-title",children:[(0,s.jsx)("h2",{children:"State Portal"}),(0,s.jsx)("p",{children:q})]})}),(0,s.jsxs)("nav",{className:"sidebar-nav",children:[(0,s.jsxs)("button",{className:"nav-item ".concat("dashboard"===i?"active":""),onClick:()=>o("dashboard"),children:[(0,s.jsx)("span",{className:"nav-icon",children:"\ud83c\udfe0"}),(0,s.jsx)("span",{className:"nav-text",children:"Dashboard"})]}),(0,s.jsxs)("button",{className:"nav-item ".concat("tournaments"===i?"active":""),onClick:()=>o("tournaments"),children:[(0,s.jsx)("span",{className:"nav-icon",children:"\ud83d\udccb"}),(0,s.jsx)("span",{className:"nav-text",children:"Tournament Management"})]}),(0,s.jsxs)("button",{className:"nav-item disabled",children:[(0,s.jsx)("span",{className:"nav-icon",children:"\ud83d\udcca"}),(0,s.jsx)("span",{className:"nav-text",children:"Statistics"}),(0,s.jsx)("span",{className:"nav-badge",children:"Soon"})]}),(0,s.jsxs)("button",{className:"nav-item disabled",children:[(0,s.jsx)("span",{className:"nav-icon",children:"\u2709\ufe0f"}),(0,s.jsx)("span",{className:"nav-text",children:"Messages"}),(0,s.jsx)("span",{className:"nav-badge",children:"Soon"})]})]}),(0,s.jsxs)("div",{className:"sidebar-footer",children:[(0,s.jsxs)("div",{className:"user-info",children:[(0,s.jsx)("span",{className:"user-icon",children:"\ud83d\udc64"}),(0,s.jsx)("span",{className:"user-name",children:(null===n||void 0===n?void 0:n.username)||"User"})]}),(0,s.jsx)("button",{className:"logout-btn",onClick:()=>{a(!1),localStorage.removeItem("isStateLoggedIn"),localStorage.removeItem("stateUserData"),localStorage.removeItem("stateLoginTimestamp"),t("home")},children:"Logout"})]})]}),(0,s.jsxs)("div",{className:"dashboard-main",children:[(0,s.jsx)("div",{className:"dashboard-header",children:(0,s.jsxs)("div",{className:"header-left",children:[(0,s.jsx)("h1",{children:"dashboard"===i?"State Association Dashboard":"Tournament Management"}),(0,s.jsxs)("p",{children:["Welcome, ",(null===n||void 0===n?void 0:n.stateName)||(null===n||void 0===n?void 0:n.username)||"State User"]})]})}),(0,s.jsxs)("div",{className:"dashboard-content",children:["dashboard"===i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"state-info-section",children:[(0,s.jsx)("h3",{children:"Your State Information"}),(0,s.jsxs)("div",{className:"info-cards",children:[(0,s.jsxs)("div",{className:"info-card",children:[(0,s.jsx)("div",{className:"info-icon",children:"\ud83d\udccd"}),(0,s.jsxs)("div",{className:"info-details",children:[(0,s.jsx)("span",{className:"info-label",children:"State"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.stateName)||"N/A"})]})]}),(0,s.jsxs)("div",{className:"info-card",children:[(0,s.jsx)("div",{className:"info-icon",children:"\ud83d\udc64"}),(0,s.jsxs)("div",{className:"info-details",children:[(0,s.jsx)("span",{className:"info-label",children:"Username"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.username)||"N/A"})]})]}),(0,s.jsxs)("div",{className:"info-card",children:[(0,s.jsx)("div",{className:"info-icon",children:"\u2709\ufe0f"}),(0,s.jsxs)("div",{className:"info-details",children:[(0,s.jsx)("span",{className:"info-label",children:"Email"}),(0,s.jsx)("span",{className:"info-value",children:(null===n||void 0===n?void 0:n.email)||"N/A"})]})]})]})]}),(0,s.jsxs)("div",{className:"quick-actions-section",children:[(0,s.jsx)("h3",{children:"Quick Actions"}),(0,s.jsxs)("div",{className:"feature-cards",children:[(0,s.jsxs)("div",{className:"feature-card clickable",onClick:()=>o("tournaments"),children:[(0,s.jsx)("div",{className:"feature-icon",children:"\ud83d\udccb"}),(0,s.jsx)("h4",{children:"Tournament Management"}),(0,s.jsxs)("p",{children:["View and manage tournament applications in ",q]})]}),(0,s.jsxs)("div",{className:"feature-card",children:[(0,s.jsx)("div",{className:"feature-icon",children:"\ud83d\udcca"}),(0,s.jsx)("h4",{children:"State Statistics"}),(0,s.jsx)("p",{children:"View statistics and reports for your state"}),(0,s.jsx)("span",{className:"coming-soon-badge",children:"Coming Soon"})]}),(0,s.jsxs)("div",{className:"feature-card",children:[(0,s.jsx)("div",{className:"feature-icon",children:"\u2709\ufe0f"}),(0,s.jsx)("h4",{children:"Communications"}),(0,s.jsx)("p",{children:"Send and receive messages from MPA"}),(0,s.jsx)("span",{className:"coming-soon-badge",children:"Coming Soon"})]})]})]})]}),"tournaments"===i&&(0,s.jsxs)("div",{className:"tournament-management",children:[h&&(0,s.jsx)("div",{className:"error-message",children:h}),(0,s.jsxs)("div",{className:"status-folders",children:[(0,s.jsx)("div",{className:"status-folder ".concat("Pending Review"===m?"active":""),onClick:()=>g("Pending Review"),children:(0,s.jsxs)("div",{className:"folder-info",children:[(0,s.jsx)("span",{className:"folder-name",children:"Pending Review"}),(0,s.jsx)("span",{className:"folder-count",children:H["Pending Review"]})]})}),(0,s.jsx)("div",{className:"status-folder ".concat("Under Review"===m?"active":""),onClick:()=>g("Under Review"),children:(0,s.jsxs)("div",{className:"folder-info",children:[(0,s.jsx)("span",{className:"folder-name",children:"Under Review"}),(0,s.jsx)("span",{className:"folder-count",children:H["Under Review"]})]})}),(0,s.jsx)("div",{className:"status-folder ".concat("More Info Required"===m?"active":""),onClick:()=>g("More Info Required"),children:(0,s.jsxs)("div",{className:"folder-info",children:[(0,s.jsx)("span",{className:"folder-name",children:"More Info Required"}),(0,s.jsx)("span",{className:"folder-count",children:H["More Info Required"]})]})}),(0,s.jsx)("div",{className:"status-folder ".concat("Approved"===m?"active":""),onClick:()=>g("Approved"),children:(0,s.jsxs)("div",{className:"folder-info",children:[(0,s.jsx)("span",{className:"folder-name",children:"Approved"}),(0,s.jsx)("span",{className:"folder-count",children:H.Approved})]})}),(0,s.jsx)("div",{className:"status-folder ".concat("Rejected"===m?"active":""),onClick:()=>g("Rejected"),children:(0,s.jsxs)("div",{className:"folder-info",children:[(0,s.jsx)("span",{className:"folder-name",children:"Rejected"}),(0,s.jsx)("span",{className:"folder-count",children:H.Rejected})]})})]}),(0,s.jsxs)("div",{className:"applications-list",children:[(0,s.jsxs)("h3",{children:[m," Applications (",H[m],")"]}),d?(0,s.jsx)("div",{className:"loading-spinner",children:"Loading applications..."}):0===W(m).length?(0,s.jsxs)("div",{className:"empty-state",children:[(0,s.jsx)("div",{className:"empty-icon",children:"\ud83d\udced"}),(0,s.jsxs)("p",{children:["No ",m.toLowerCase()," applications found for ",q,"."]})]}):(0,s.jsx)("div",{className:"tournament-cards-grid",children:W(m).map(e=>(0,s.jsxs)("div",{className:"tournament-card",children:[(0,s.jsxs)("div",{className:"tournament-card-header",children:[(0,s.jsx)("h4",{className:"tournament-title",children:e.eventTitle||"N/A"}),(0,s.jsx)("span",{className:"tournament-status-badge ".concat(G(e.status)),children:e.status})]}),(0,s.jsxs)("div",{className:"tournament-card-body",children:[(0,s.jsxs)("div",{className:"tournament-info-row",children:[(0,s.jsx)("div",{className:"tournament-info-item",children:(0,s.jsxs)("div",{className:"info-content",children:[(0,s.jsx)("span",{className:"info-label",children:"Organiser"}),(0,s.jsx)("span",{className:"info-value",children:e.organiserName||"N/A"})]})}),(0,s.jsx)("div",{className:"tournament-info-item",children:(0,s.jsxs)("div",{className:"info-content",children:[(0,s.jsx)("span",{className:"info-label",children:"Location"}),(0,s.jsxs)("span",{className:"info-value",children:[e.city||"N/A",", ",e.state||"N/A"]})]})})]}),(0,s.jsxs)("div",{className:"tournament-info-row",children:[(0,s.jsx)("div",{className:"tournament-info-item",children:(0,s.jsxs)("div",{className:"info-content",children:[(0,s.jsx)("span",{className:"info-label",children:"Event Date"}),(0,s.jsx)("span",{className:"info-value",children:V(e.eventStartDate)})]})}),(0,s.jsx)("div",{className:"tournament-info-item",children:(0,s.jsxs)("div",{className:"info-content",children:[(0,s.jsx)("span",{className:"info-label",children:"Level"}),(0,s.jsx)("span",{className:"info-value",children:e.classification||"N/A"})]})})]}),(0,s.jsx)("div",{className:"tournament-info-row single",children:(0,s.jsx)("div",{className:"tournament-info-item",children:(0,s.jsxs)("div",{className:"info-content",children:[(0,s.jsx)("span",{className:"info-label",children:"Venue"}),(0,s.jsx)("span",{className:"info-value",children:e.venue||"N/A"})]})})})]}),(0,s.jsxs)("div",{className:"tournament-card-footer",children:[(0,s.jsxs)("span",{className:"submitted-date",children:["Submitted: ",V(e.submittedAt||e.createdAt)]}),(0,s.jsxs)("div",{className:"card-actions",children:[Y(e)&&(0,s.jsxs)("div",{className:"card-status-dropdown",children:[(0,s.jsx)("label",{children:"Status:"}),(0,s.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{if(e&&t&&t!==e.status){if("Rejected"===t||"More Info Required"===t)return M(e),B(t),E(""),void I(!0);C(!0),p("");try{const r=await fetch("".concat(f.baseURL,"/applications/").concat(e.applicationId,"/state-status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t,stateName:q,stateUser:(null===n||void 0===n?void 0:n.username)||"State Admin",notes:""})}),a=await r.json();a.success?(_('Status updated to "'.concat(t,'" successfully!')),U(),setTimeout(()=>_(""),3e3)):(p(a.message||"Failed to update status"),setTimeout(()=>p(""),3e3))}catch(r){console.error("Error updating status:",r),p("Failed to update status. Please try again."),setTimeout(()=>p(""),3e3)}finally{C(!1)}}})(e,t.target.value),disabled:k,className:"status-select",children:[(0,s.jsx)("option",{value:"Pending Review",children:"Pending Review"}),(0,s.jsx)("option",{value:"Under Review",children:"Under Review"}),(0,s.jsx)("option",{value:"More Info Required",children:"More Info Required"}),(0,s.jsx)("option",{value:"Approved",children:"Approved"}),(0,s.jsx)("option",{value:"Rejected",children:"Rejected"})]})]}),(0,s.jsx)("button",{className:"view-details-btn",onClick:()=>(b(e),L(""),E(""),R(!1),p(""),void v(!0)),children:"Detail"})]})]})]},e._id||e.id))})]})]})]})]}),A&&(0,s.jsxs)("div",{className:"success-toast",children:[(0,s.jsx)("span",{className:"success-icon",children:"\u2713"}),A]}),y&&(x?(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,s.jsxs)("div",{className:"modal-content application-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Application Details"}),(0,s.jsx)("button",{className:"modal-close-btn",onClick:()=>v(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("div",{className:"application-status-banner",children:(0,s.jsx)("span",{className:"status-badge ".concat(G(x.status)),children:x.status})}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Tournament Information"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Event Title"}),(0,s.jsx)("span",{children:x.eventTitle||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Event Type"}),(0,s.jsx)("span",{children:x.eventType||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Classification"}),(0,s.jsx)("span",{children:x.classification||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Event Start Date"}),(0,s.jsx)("span",{children:V(x.eventStartDate)})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Event End Date"}),(0,s.jsx)("span",{children:V(x.eventEndDate)})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Venue"}),(0,s.jsx)("span",{children:x.venue||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"City"}),(0,s.jsx)("span",{children:x.city||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"State"}),(0,s.jsx)("span",{children:x.state||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Organiser Information"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Organiser Name"}),(0,s.jsx)("span",{children:x.organiserName||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Registration No"}),(0,s.jsx)("span",{children:x.registrationNo||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Person In Charge"}),(0,s.jsx)("span",{children:x.personInCharge||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("span",{children:x.email||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Contact"}),(0,s.jsx)("span",{children:x.telContact||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Event Details"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Expected Participants"}),(0,s.jsx)("span",{children:x.expectedParticipants||"N/A"})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Scoring Format"}),(0,s.jsx)("span",{children:x.scoringFormat||"N/A"})]})]}),x.eventSummary&&(0,s.jsxs)("div",{className:"detail-item full-width",children:[(0,s.jsx)("label",{children:"Event Summary"}),(0,s.jsx)("p",{className:"event-summary",children:x.eventSummary})]})]}),x.categories&&x.categories.length>0&&(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Categories & Entry Fees"}),(0,s.jsx)("div",{className:"categories-table-container",children:(0,s.jsxs)("table",{className:"categories-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Malaysian Fee (RM)"}),(0,s.jsx)("th",{children:"International Fee (RM)"})]})}),(0,s.jsx)("tbody",{children:x.categories.map((e,t)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:"object"===typeof e?e.category:e}),(0,s.jsx)("td",{children:"object"===typeof e&&e.malaysianEntryFee?"RM ".concat(e.malaysianEntryFee.toFixed(2)):"-"}),(0,s.jsx)("td",{children:"object"===typeof e&&e.internationalEntryFee>0?"RM ".concat(e.internationalEntryFee.toFixed(2)):"-"})]},t))})]})})]}),x.rejectionReason&&(0,s.jsxs)("div",{className:"detail-section rejection-section",children:[(0,s.jsx)("h3",{children:"Rejection Reason"}),(0,s.jsx)("p",{className:"rejection-reason",children:x.rejectionReason})]}),x.moreInfoRequired&&(0,s.jsxs)("div",{className:"detail-section more-info-section",children:[(0,s.jsx)("h3",{children:"Additional Information Needed"}),(0,s.jsx)("p",{className:"more-info-text",children:x.moreInfoRequired}),x.moreInfoRequestedBy&&(0,s.jsxs)("p",{className:"more-info-meta",children:["Requested by: ",x.moreInfoRequestedBy," on ",V(x.moreInfoRequestedDate)]})]}),(0,s.jsxs)("div",{className:"detail-section",children:[(0,s.jsx)("h3",{children:"Submission Info"}),(0,s.jsxs)("div",{className:"detail-grid",children:[(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Submitted At"}),(0,s.jsx)("span",{children:V(x.submittedAt||x.createdAt)})]}),(0,s.jsxs)("div",{className:"detail-item",children:[(0,s.jsx)("label",{children:"Application ID"}),(0,s.jsx)("span",{className:"application-id",children:x.applicationId||x._id})]})]})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[!Y(x)&&(0,s.jsx)("span",{className:"info-note",children:"National/International events are reviewed by MPA Admin"}),(0,s.jsx)("button",{className:"btn-secondary",onClick:()=>v(!1),children:"Close"})]})]})}):null),w?(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>j(!1),children:(0,s.jsxs)("div",{className:"modal-content reject-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Reject Application"}),(0,s.jsx)("button",{className:"modal-close-btn",onClick:()=>j(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("p",{className:"reject-warning",children:["You are about to reject the application for: ",(0,s.jsx)("strong",{children:null===x||void 0===x?void 0:x.eventTitle})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Rejection Reason *"}),(0,s.jsx)("textarea",{value:S,onChange:e=>N(e.target.value),placeholder:"Please provide a detailed reason for rejection...",rows:4,required:!0})]}),h&&(0,s.jsx)("div",{className:"error-message",children:h})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn-cancel",onClick:()=>j(!1),disabled:k,children:"Cancel"}),(0,s.jsx)("button",{className:"btn-reject-confirm",onClick:K,disabled:k||!S.trim(),children:k?"Rejecting...":"Confirm Rejection"})]})]})}):null,F&&D&&(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>{I(!1),M(null),B(""),E("")},children:(0,s.jsxs)("div",{className:"modal-content notes-modal",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header ".concat("Rejected"===O?"reject-header":"info-header"),children:[(0,s.jsx)("h2",{children:"Rejected"===O?"Reject Application":"Request More Information"}),(0,s.jsx)("button",{className:"modal-close-btn",onClick:()=>{I(!1),M(null),B(""),E("")},children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("p",{className:"notes-modal-info",children:"Rejected"===O?(0,s.jsxs)(s.Fragment,{children:["You are about to reject: ",(0,s.jsx)("strong",{children:null===D||void 0===D?void 0:D.eventTitle})]}):(0,s.jsxs)(s.Fragment,{children:["Requesting more information for: ",(0,s.jsx)("strong",{children:null===D||void 0===D?void 0:D.eventTitle})]})}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Rejected"===O?"Rejection Reason *":"Information Needed *"}),(0,s.jsx)("textarea",{value:T,onChange:e=>E(e.target.value),placeholder:"Rejected"===O?"Please provide a detailed reason for rejection...":"Please specify what additional information is needed...",rows:4,required:!0})]}),h&&(0,s.jsx)("div",{className:"error-message",children:h})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn-cancel",onClick:()=>{I(!1),M(null),B(""),E(""),p("")},disabled:k,children:"Cancel"}),(0,s.jsx)("button",{className:"Rejected"===O?"btn-reject-confirm":"btn-info-confirm",onClick:async()=>{if(D&&O)if("Rejected"===O&&T.trim().length<10)p("Please provide a detailed rejection reason (at least 10 characters)");else if("More Info Required"===O&&T.trim().length<5)p("Please specify what additional information is needed");else{C(!0),p("");try{const e=await fetch("".concat(f.baseURL,"/applications/").concat(D.applicationId,"/state-status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:O,stateName:q,stateUser:(null===n||void 0===n?void 0:n.username)||"State Admin",notes:T.trim()})}),t=await e.json();t.success?(_('Status updated to "'.concat(O,'" successfully!')),I(!1),M(null),B(""),E(""),U(),setTimeout(()=>_(""),3e3)):p(t.message||"Failed to update status")}catch(e){console.error("Error updating status:",e),p("Failed to update status. Please try again.")}finally{C(!1)}}},disabled:k||!T.trim(),children:k?"Submitting...":"Rejected"===O?"Confirm Rejection":"Request Info"})]})]})})]})},Ao=n.p+"static/media/ref1.4ca7b69ad4e6ca2b589a.png",_o=n.p+"static/media/safesportcode.90dc4a8dcf9692c905e9.pdf";const Po=function(){const{getActiveNotices:e}=x(),[t,n]=(0,r.useState)("home"),[a,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!1),[y,v]=(0,r.useState)(!1),[w,j]=(0,r.useState)(!1),[S,N]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[A,_]=(0,r.useState)(null),[P,L]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[z,R]=(0,r.useState)([]);(0,r.useEffect)(()=>{(async()=>{try{const e=(await f.getApprovedTournaments()).filter(e=>{var t;return null===(t=e.tournamentPoster)||void 0===t?void 0:t.cloudinaryUrl});R(e)}catch(e){console.error("Error fetching approved tournaments:",e)}})()},[]),(0,r.useEffect)(()=>{const e=e=>{w&&!e.target.closest(".apply-dropdown-container")&&j(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[w]);const F=()=>{j(!w)};return(0,r.useEffect)(()=>{(async()=>{const e=localStorage.getItem("isLoggedIn"),t=localStorage.getItem("username"),n=localStorage.getItem("loginTimestamp");if("true"===e&&t&&n){const e=864e5;if(Date.now()-parseInt(n)>e)return console.log("Session expired due to time limit, clearing auth"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userAuthority"),localStorage.removeItem("username"),localStorage.removeItem("loginTimestamp"),void l(!1);try{await f.healthCheck(),l(!0)}catch(r){console.log("Session expired or server unavailable, clearing auth"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userAuthority"),localStorage.removeItem("username"),localStorage.removeItem("loginTimestamp"),l(!1)}}})()},[]),(0,s.jsxs)("div",{className:"App",children:["login"!==t&&"state-dashboard"!==t&&!k&&(0,s.jsx)(o,{currentPage:t,setCurrentPage:n,isLoggedIn:a,setIsLoggedIn:l}),(0,s.jsx)("main",{className:"App-main",children:(()=>{switch(t){case"login":return(0,s.jsx)(m,{setCurrentPage:n,setIsLoggedIn:l});case"admin":return a?(0,s.jsx)(io,{setCurrentPage:n}):(0,s.jsx)(m,{setCurrentPage:n,setIsLoggedIn:l});case"register-organization":return(0,s.jsx)(so,{setCurrentPage:n});case"organization-terms":return(0,s.jsx)(uo,{setCurrentPage:n});case"organization-privacy":return(0,s.jsx)(ho,{setCurrentPage:n});case"tournament-application":return(0,s.jsx)(mo,{setCurrentPage:n});case"status":return(0,s.jsx)(go,{setCurrentPage:n});case"terms":return(0,s.jsx)(xo,{setCurrentPage:n});case"software-login":return(0,s.jsx)(So,{setCurrentPage:n,setUserData:_});case"software-registration":return(0,s.jsx)(jo,{setCurrentPage:n,setUserData:_});case"software-dashboard":return(0,s.jsx)(No,{setCurrentPage:n,userData:A});case"state-login":return(0,s.jsx)(ko,{setCurrentPage:n,setIsStateLoggedIn:L,setStateUserData:E});case"state-dashboard":return P?(0,s.jsx)(Co,{setCurrentPage:n,userData:T,setIsStateLoggedIn:L}):(0,s.jsx)(ko,{setCurrentPage:n,setIsStateLoggedIn:L,setStateUserData:E});case"about":return(0,s.jsxs)("div",{className:"page-content",children:[(0,s.jsxs)("div",{className:"hero-section",children:[(0,s.jsx)("h1",{children:"About Malaysia Pickleball Association"}),(0,s.jsx)("p",{className:"hero-subtitle",children:"Governing and promoting pickleball sports across Malaysia"})]}),(0,s.jsxs)("div",{className:"content-grid",children:[(0,s.jsxs)("div",{className:"content-card",children:[(0,s.jsx)("h3",{children:"Our Mission"}),(0,s.jsx)("p",{children:"To develop, promote and govern the sport of pickleball throughout Malaysia, fostering excellence at all levels from grassroots to elite competition."})]}),(0,s.jsxs)("div",{className:"content-card",children:[(0,s.jsx)("h3",{children:"Our Vision"}),(0,s.jsx)("p",{children:"To establish Malaysia as a leading nation in pickleball within the Southeast Asian region and beyond."})]}),(0,s.jsxs)("div",{className:"content-card",children:[(0,s.jsx)("h3",{children:"Governance"}),(0,s.jsx)("p",{children:"As the official governing body, we ensure fair play, maintain standards, and oversee all sanctioned tournaments and competitions."})]})]})]});case"contact":return(0,s.jsxs)("div",{className:"page-content",children:[(0,s.jsxs)("div",{className:"hero-section",children:[(0,s.jsx)("h1",{children:"Contact Malaysia Pickleball Association"}),(0,s.jsx)("p",{className:"hero-subtitle",children:"Get in touch with our team for assistance"})]}),(0,s.jsx)("div",{className:"contact-content",children:(0,s.jsxs)("div",{className:"contact-methods",children:[(0,s.jsxs)("div",{className:"contact-method",children:[(0,s.jsx)("div",{className:"method-icon",children:"\ud83d\udcde"}),(0,s.jsx)("h3",{children:"Phone"}),(0,s.jsx)("p",{children:"+60 3-1234 5678"}),(0,s.jsx)("p",{children:"Monday - Friday, 9:00 AM - 5:00 PM"})]}),(0,s.jsxs)("div",{className:"contact-method",children:[(0,s.jsx)("div",{className:"method-icon",children:"\u2709\ufe0f"}),(0,s.jsx)("h3",{children:"Email"}),(0,s.jsx)("p",{children:"info@malaysiapickleball.org"}),(0,s.jsx)("p",{children:"We'll respond within 24 hours"})]}),(0,s.jsxs)("div",{className:"contact-method",children:[(0,s.jsx)("div",{className:"method-icon",children:"\ud83d\udccd"}),(0,s.jsx)("h3",{children:"Office"}),(0,s.jsx)("p",{children:"Level 3, Sports Complex"}),(0,s.jsx)("p",{children:"Kuala Lumpur, Malaysia"})]})]})})]});default:return(0,s.jsx)("div",{className:"home-content",children:(0,s.jsxs)("section",{className:"hero-banner",children:[(0,s.jsxs)("div",{className:"floating-elements",children:[(0,s.jsx)("div",{className:"floating-shape shape-1"}),(0,s.jsx)("div",{className:"floating-shape shape-2"}),(0,s.jsx)("div",{className:"floating-shape shape-3"}),(0,s.jsx)("div",{className:"floating-shape shape-4"}),(0,s.jsx)("div",{className:"floating-shape shape-5"})]}),(0,s.jsxs)("div",{className:"hero-content",children:[(0,s.jsx)("img",{src:i,alt:"MPA Logo",className:"hero-logo"}),(0,s.jsx)("div",{className:"hero-portal-text",children:"Portal"}),(0,s.jsx)("h1",{className:"hero-title",children:"Malaysia Pickleball Association"}),(0,s.jsx)("p",{className:"hero-subtitle",children:"Official Tournament Management Portal"}),(0,s.jsx)("p",{className:"hero-description",children:"Your gateway to competitive pickleball in Malaysia. Organizer login and guide, take assessments to test your knowledge, track your applications, and join our growing community of players."}),(0,s.jsxs)("div",{className:"mobile-quick-menu",children:[(0,s.jsxs)("button",{className:"mobile-quick-menu-toggle",onClick:()=>N(!S),children:["Quick Menu",(0,s.jsx)("span",{className:"dropdown-arrow ".concat(S?"open":""),children:"\u25bc"})]}),S&&(0,s.jsxs)("div",{className:"mobile-quick-menu-dropdown",children:[(0,s.jsx)("button",{className:"mobile-quick-menu-item",onClick:()=>{C(!0),N(!1)},children:"Assessment Login"}),(0,s.jsx)("button",{className:"mobile-quick-menu-item",onClick:()=>{n("software-login"),N(!1)},children:"Tournament Software Login"}),(0,s.jsx)("button",{className:"mobile-quick-menu-item",onClick:()=>{u(!0),N(!1)},children:"Organizer Login"}),(0,s.jsx)("button",{className:"mobile-quick-menu-item",onClick:()=>{p(!0),N(!1)},children:"Tournament Guidelines"}),(0,s.jsx)("button",{className:"mobile-quick-menu-item",onClick:()=>{n("status"),N(!1)},children:"Check Application Status"})]})]}),(0,s.jsx)("div",{className:"hero-actions",children:(0,s.jsxs)("div",{className:"hero-actions-column",children:[(0,s.jsxs)("div",{className:"hero-actions-row",children:[(0,s.jsx)("button",{className:"cta-assessment",onClick:()=>C(!0),children:"Assessment Login"}),(0,s.jsx)("button",{className:"cta-tournament-software",onClick:()=>n("software-login"),children:"Login Tournament Software"})]}),(0,s.jsxs)("div",{className:"hero-actions-row",children:[(0,s.jsxs)("div",{className:"apply-dropdown-container",children:[(0,s.jsxs)("button",{className:"cta-primary dropdown-toggle",onClick:F,children:["Organizer Login and Guide",(0,s.jsx)("span",{className:"dropdown-arrow ".concat(w?"open":""),children:"\u25bc"})]}),w&&(0,s.jsxs)("div",{className:"apply-dropdown-menu",children:[(0,s.jsxs)("div",{className:"dropdown-header",children:[(0,s.jsx)("h4",{children:"Quick Resources"}),(0,s.jsx)("p",{children:"Review these important documents before applying"})]}),(0,s.jsx)("button",{className:"dropdown-item",onClick:()=>{p(!0),j(!1)},children:(0,s.jsxs)("div",{className:"dropdown-content",children:[(0,s.jsx)("strong",{children:"Tournament Guidelines"}),(0,s.jsx)("small",{children:"Complete guide for organizers"})]})}),(0,s.jsx)("button",{className:"dropdown-item",onClick:()=>{v(!0),j(!1)},children:(0,s.jsxs)("div",{className:"dropdown-content",children:[(0,s.jsx)("strong",{children:"Important Notice"}),(0,s.jsx)("small",{children:"Key requirements and regulations"})]})}),(0,s.jsx)("button",{className:"dropdown-item",onClick:()=>{window.open(_o,"_blank"),j(!1)},children:(0,s.jsxs)("div",{className:"dropdown-content",children:[(0,s.jsx)("strong",{children:"Safe Sport Code"}),(0,s.jsx)("small",{children:"Safety guidelines and protocols"})]})}),(0,s.jsx)("div",{className:"dropdown-divider"}),(0,s.jsx)("button",{className:"dropdown-item primary-action",onClick:()=>{u(!0),j(!1)},children:(0,s.jsxs)("div",{className:"dropdown-content",children:[(0,s.jsx)("strong",{children:"Start Application"}),(0,s.jsx)("small",{children:"Begin tournament application process"})]})})]})]}),(0,s.jsx)("button",{className:"cta-secondary",onClick:()=>n("status"),children:"Check Application Status"})]})]})}),(0,s.jsx)("div",{className:"optimization-notice",children:(0,s.jsx)("p",{children:"For optimal functionality, please use a laptop or desktop."})})]})]})})}})()}),"login"!==t&&"state-dashboard"!==t&&!k&&(0,s.jsx)(c,{setCurrentPage:n,isLoggedIn:a,setIsLoggedIn:l}),(0,s.jsx)(co,{isOpen:d,onClose:()=>u(!1),onLoginSuccess:()=>n("tournament-application"),onRegisterClick:()=>{n("register-organization"),u(!1)}}),h&&(0,s.jsx)("div",{className:"tournament-guidelines-modal",children:(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>p(!1),children:(0,s.jsxs)("div",{className:"modal-content tournament-guidelines-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Tournament Guidelines for Organisers"}),(0,s.jsx)("button",{className:"modal-close-btn",onClick:()=>p(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body tournament-guidelines-body",children:[(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Tournament Banners/Social Media Notices"}),(0,s.jsx)("p",{className:"guidelines-note",children:"(kindly refer to figure 1)"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"All promotional materials (banners, social media posts, flyers, etc.) must prominently display the organizer's name and MPA/State Pickleball logo(s)."}),(0,s.jsx)("li",{children:'Include the phrase "Supported by" above the MPA/State logos to acknowledge the endorsement.'}),(0,s.jsx)("li",{children:"Ensure the logos are high-resolution and appropriately sized for visibility."}),(0,s.jsx)("li",{children:"Include essential tournament details such as date, location, registration deadlines, and contact information."})]}),(0,s.jsxs)("div",{className:"reference-image",children:[(0,s.jsx)("img",{src:Ao,alt:"Figure 1: Tournament Banner/Poster Guidelines Example",className:"guidelines-ref-image"}),(0,s.jsxs)("p",{className:"image-caption",children:[(0,s.jsx)("strong",{children:"Figure 1:"})," Example of proper tournament banner/poster layout with MPA logo placement"]})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Tournament Director"}),(0,s.jsx)("ul",{children:(0,s.jsx)("li",{children:"A Tournament Director (TD) must be appointed to oversee all aspects of the event. The TD is responsible for ensuring compliance with USA Pickleball rules, managing staff, resolving disputes, and ensuring the smooth operation of the tournament."})})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"USA Pickleball Rulebook 2025"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"The tournament must adhere to the USA Pickleball Rulebook 2025. All referees, players, and staff must know the latest rules and updates."}),(0,s.jsx)("li",{children:"Stand by a printed USA Pickleball Rulebook on the referee table."})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Tournament Code of Conduct"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Provide all players with a copy of the Tournament Code of Conduct prior to the event."}),(0,s.jsx)("li",{children:"Ensure the Code of Conduct is prominently displayed at the venue in multiple locations (e.g., registration desk, player lounges, and spectator areas)."}),(0,s.jsx)("li",{children:"The Code of Conduct should outline expectations for sportsmanship, behaviours, and consequences for violations."})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Consent to Indemnify Form"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"All players must complete and sign a Consent to Indemnify Form before participating."}),(0,s.jsx)("li",{children:"This form should include clauses regarding liability, injury waivers, and acknowledgment of tournament rules."})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Venue Requirements"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Ensure the venue is safe, well-maintained, and compliant with local regulations."}),(0,s.jsx)("li",{children:"Provide players and spectators with adequate seating, hydration stations, and first aid facilities."})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Verbal Warnings, Technical Warnings, Technical Fouls, Ejections and Expulsions"}),(0,s.jsx)("h4",{children:"Referee and Tournament Director Responsibilities"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Referees and the Tournament Director must be thoroughly trained in issuing verbal warnings, technical warnings, and technical fouls, ejections, and expulsion as outlined in Section 13G and 13M of the USA Pickleball Rulebook 2025."}),(0,s.jsx)("li",{children:"Ensure the tournament director and referees maintain professionalism and consistency when addressing rule violations."})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Dispute Resolution"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Establish a clear process for resolving disputes, including appeals to the Tournament Director."}),(0,s.jsx)("li",{children:"Ensure all decisions are documented and communicated to the involved parties."})]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Safe Sport Code"}),(0,s.jsx)("p",{children:"The Safe Sport Code is a set of guidelines developed by the Ministry of Youth and Sports (KBS) to guide the creation of a safe sports environment with clear guidelines that define the jurisdiction of all parties in addressing disruptions and abuse in sports. The organizer is required to read and adhere to the code. A copy of the Safe Sport Code is to be provided to the participant."})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Additional Recommendations"}),(0,s.jsx)("h4",{children:"Player Communication"}),(0,s.jsx)("p",{children:"Send a pre-tournament notification/email/meeting to all registered players/team managers, including the Code of Conduct, Consent to Indemnify Form, and a summary of key rules (Information/Fact Sheet)."}),(0,s.jsx)("h4",{children:"Referee Training"}),(0,s.jsx)("p",{children:"Conduct a pre-tournament briefing for referees to review rules, protocols, and expectations."}),(0,s.jsx)("h4",{children:"Spectator Engagement"}),(0,s.jsx)("p",{children:"Encourage spectators to follow the Code of Conduct and respect players and officials."}),(0,s.jsx)("h4",{children:"Post-Tournament Feedback"}),(0,s.jsx)("p",{children:"Collect feedback from players, referees, and staff to improve future events."})]}),(0,s.jsxs)("div",{className:"guidelines-section important",children:[(0,s.jsx)("h3",{children:"Registration Fee Advisory"}),(0,s.jsxs)("p",{children:["In the interest of promoting inclusivity and accessibility in the sport of pickleball, the Malaysia Pickleball Association (MPA) strongly advises all tournament organisers to cap participant registration fees at a maximum of ",(0,s.jsx)("strong",{children:"RM200 per person"}),". This recommendation aims to ensure wider participation from various community segments while maintaining affordability across all levels of competition. Any exception to this advisory must be submitted in writing and approved by MPA before the commencement of registration."]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Rally Scoring Format"}),(0,s.jsxs)("p",{children:["For matches utilizing the rally scoring format, all matches shall be played to ",(0,s.jsx)("strong",{children:"21 points"}),"."]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"Figure 1. Banner/Poster Guidelines"}),(0,s.jsxs)("div",{className:"banner-guidelines",children:[(0,s.jsx)("h4",{children:"Draft Template"}),(0,s.jsxs)("div",{className:"template-section",children:[(0,s.jsx)("h2",{children:"PICKLEBALL TOURNAMENT CODE OF CONDUCT"}),(0,s.jsx)("p",{children:(0,s.jsx)("em",{children:"[Tournament Name]"})}),(0,s.jsx)("h4",{children:"1. POLICY STATEMENT"}),(0,s.jsx)("p",{children:"The Tournament Organiser and its members are committed to fostering a respectful, safe, and inclusive environment for all participants, guests, and staff during the [Tournament Name] and related events. This Code of Conduct outlines the expectations for behavior and the consequences of violations."}),(0,s.jsx)("h4",{children:"2. CONTEXT AND BACKGROUND"}),(0,s.jsx)("p",{children:"The [Organiser] is dedicated to maintaining a positive and welcoming atmosphere at all tournaments and championships. This includes promoting appropriate behavior, addressing misconduct, and ensuring the safety and enjoyment of all participants."}),(0,s.jsx)("h4",{children:"3. APPLICATION"}),(0,s.jsx)("p",{children:"This Code of Conduct applies to:"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"All individuals participating in [Tournament Name] programs, activities, and events."}),(0,s.jsx)("li",{children:"Guests and visitors entering the [Organiser's] facility, regardless of whether they are players."})]}),(0,s.jsx)("h4",{children:"4. EXPECTATIONS FOR ALL PARTICIPANTS"}),(0,s.jsx)("h5",{children:"4.1 Respect"}),(0,s.jsx)("p",{children:"All participants are expected to treat others with respect and dignity. This includes, but is not limited to:"}),(0,s.jsx)("h6",{children:"Respect for Individuals"}),(0,s.jsx)("p",{children:"Treat fellow players, guests, visitors, and staff with courtesy and respect, regardless of physical characteristics, athletic ability, age, ancestry, colour, race, citizenship, ethnic origin, creed, disability, family status, economic or marital status, gender identity or expression, or sexual orientation."}),(0,s.jsx)("h6",{children:"Appropriate Attire"}),(0,s.jsx)("p",{children:"Wear safe and appropriate clothing. Avoid attire with offensive logos, designs, or language."}),(0,s.jsx)("h6",{children:"Prohibition of Harassment"}),(0,s.jsx)("p",{children:"Harassment of any kind\u2014verbal, physical, or emotional\u2014is strictly prohibited."}),(0,s.jsx)("h6",{children:"Language and Behaviour"}),(0,s.jsx)("p",{children:"Avoid the use of profanity, inappropriate language, bullying, or intimidation."}),(0,s.jsx)("h6",{children:"Sportsmanship"}),(0,s.jsx)("p",{children:"Demonstrate ethical conduct, sportsmanship, and leadership at all times. Acknowledge great plays and positively promote the sport."}),(0,s.jsx)("h6",{children:"Court Etiquette"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"Clearly announce the score before serving to avoid disputes."}),(0,s.jsx)("li",{children:"Acknowledge opponents at the net after each game and promptly exit the court to keep the schedule on track."}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Line Calls:"}),' Make fair and accurate line calls. If in doubt, call the ball "in."']}),(0,s.jsx)("li",{children:"Avoid giving unsolicited advice or instruction during gameplay."}),(0,s.jsx)("li",{children:"All players are expected to play to their best of their abilities, with sportsmanship, ethics and respect fellow players and official's decisions during the tournament."}),(0,s.jsx)("li",{children:"No influence of alcohol or substances, smoking, vaping, or other misdemeanours deemed unacceptable by the Tournament Director or Umpire."})]}),(0,s.jsx)("h5",{children:"4.2 Safety"}),(0,s.jsx)("h6",{children:"Warm-Up and Preparation"}),(0,s.jsx)("p",{children:"Perform a proper warm-up before playing to reduce the risk of injury. Stretch before and after matches."}),(0,s.jsx)("h6",{children:"Physical Limits"}),(0,s.jsx)("p",{children:"Be mindful of your physical condition and avoid over-exertion during play."}),(0,s.jsx)("h6",{children:"Court Safety"}),(0,s.jsx)("p",{children:'If a ball from another court enters your court, immediately stop play by announcing "ball on court." Resume play only after the ball is returned.'}),(0,s.jsx)("h5",{children:"4.3 Loyalty"}),(0,s.jsx)("h6",{children:"Public Conduct"}),(0,s.jsx)("p",{children:"Refrain from making negative comments about the sport of Pickleball, the Organizer, or its partners on public forums (e.g., Facebook, Instagram, X). Address concerns directly with the Organizer's representatives."}),(0,s.jsx)("h6",{children:"Feedback"}),(0,s.jsx)("p",{children:"Constructive feedback is encouraged. Members are welcome to share their thoughts and suggestions to help improve the tournament experience."}),(0,s.jsx)("h4",{children:"5. CONSEQUENCES FOR VIOLATIONS"}),(0,s.jsx)("p",{children:"(Verbal Warning, Technical Warning, Technical Fouls)"}),(0,s.jsx)("p",{children:"Failure to adhere to this Code of Conduct may result in disciplinary action, including but not limited to:"}),(0,s.jsx)("h6",{children:"First Offence"}),(0,s.jsx)("p",{children:"A verbal warning or technical warning will be issued by the Tournament Director or Referee."}),(0,s.jsx)("h6",{children:"Second Offence"}),(0,s.jsx)("p",{children:"A technical warning or technical foul will be issued by the Tournament Director or Referee. A single point will be deducted from the offender or team."}),(0,s.jsx)("h6",{children:"Game or Match Forfeit"}),(0,s.jsx)("p",{children:"The referee can impose a game or match forfeit based on a combination of Technical Warnings or Technical Fouls."}),(0,s.jsx)("h6",{children:"Ejections and Expulsions"}),(0,s.jsx)("p",{children:"The Tournament Director may eject a player from the tournament for flagrant and particularly injurious behavior that, in the director's opinion, impacts the tournament's success and integrity."}),(0,s.jsx)("h6",{children:"Immediate Ban"}),(0,s.jsx)("p",{children:"Repeated violations may result in the offender or offending team being banned from the tournament and future tournaments organized by the organizer."}),(0,s.jsx)("h6",{children:"Investigation Fee"}),(0,s.jsx)("p",{children:"If the offender requests further investigation, the organising committee must be paid a fee of [RMXXX] before proceeding."}),(0,s.jsx)("h4",{children:"6. Safe Sport Code"}),(0,s.jsx)("p",{children:"The Safe Sport Code is a set of guidelines developed by the Ministry of Youth and Sports (KBS) to guide the creation of a safe sports environment with clear guidelines that define the jurisdiction of all parties in addressing disruptions and abuse in sports. The participant is required to read and adhere to the code. (please obtain the Safe Sport Code from the Organiser)."}),(0,s.jsx)("h4",{children:"7. CONCLUSION"}),(0,s.jsx)("p",{children:"We appreciate your cooperation in upholding these standards of respect, safety, and sportsmanship. Together, we can ensure that [Tournament Name] remains a fun, safe, and positive environment for all participants."}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"On behalf of the Organising Committee"})}),(0,s.jsxs)("p",{children:["______________________",(0,s.jsx)("br",{}),"Tournament Director"]}),(0,s.jsx)("div",{className:"template-note",children:(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"**The Tournament Code of Conduct provided by the MPA is a template designed to serve as a guideline for organizers. Organizers are encouraged to review and adapt the document as necessary to ensure it aligns with the specific requirements, values, and context of their tournament. Any modifications should be made in consultation with relevant stakeholders (e.g.:- The Organising Committee) to maintain fairness, inclusivity, and compliance with applicable regulations.)"})})})]})]})]})]}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsx)("button",{className:"btn-secondary",onClick:()=>p(!1),children:"Close"})})]})})}),y&&(0,s.jsx)("div",{className:"tournament-guidelines-modal",children:(0,s.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,s.jsxs)("div",{className:"modal-content tournament-guidelines-content",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Important Notice"}),(0,s.jsx)("button",{className:"modal-close-btn",onClick:()=>v(!1),children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body tournament-guidelines-body",children:[(0,s.jsx)("div",{className:"guidelines-section",children:(0,s.jsx)("p",{children:"The Malaysia Pickleball Association recognizes the commendable efforts and the significance of such tournaments in developing the sport and participation, developing talent, and enhancing the country's pickleball profile. However, we would like to remind you of the following key actions to ensure the smooth and successful execution of the tournament:"})}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"1. Permit Application with the Pesuruhjaya Sukan Malaysia (PJS)"}),(0,s.jsxs)("p",{children:["Please ensure that you apply for the necessary permits from the Pesuruhjaya Sukan Malaysia (PJS) before the event commences. Compliance with government regulations is essential to legitimizing the tournament and avoiding potential issues. The application for using the KBS logo must be submitted via the link ",(0,s.jsx)("a",{href:"https://www.kbs.gov.my/logo-kbs.html",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"},children:"https://www.kbs.gov.my/logo-kbs.html"}),". Once approval has been granted, the KBS logo must be displayed on the tournament banners/promotional media during the tournament."]})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"2. Safety Protocols"}),(0,s.jsx)("p",{children:"The safety and well-being of all participants, officials, and spectators must remain a top priority. We urge you to implement comprehensive safety measures, including first aid provisions, proper court maintenance, and adherence to health guidelines as per local authorities. Additionally, provide qualified first-aiders/medical personnel and ambulance standby throughout the event. Personal accident insurance is compulsory for the players."})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"3. MPA Logo"}),(0,s.jsx)("p",{children:"All promotional materials (banners, social media posts, flyers, etc.) must prominently display the Malaysia Pickleball Association Logo."})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"4. Additional Guidelines"}),(0,s.jsx)("p",{children:"Please adhere to the additional guidelines attached to the letter to ensure the tournament is well-organized, professionally executed, and maintains the integrity of the sport. We would also like to highlight that, in line with the official Pickleball scoring (and for the benefit of the participants), for each match please adopt the Traditional Scoring (002) of up to 11 pts (or more); however, if the organizer, for whatever reason(s), wish to adopt the Rally Scoring, the points for each match must not be less than 21."})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"5. Registration Fee Advisory"}),(0,s.jsxs)("p",{children:["To promote inclusivity and accessibility in pickleball, the Malaysia Pickleball Association (MPA) strongly advises all tournament organisers to cap registration fees for Malaysian participants at a maximum of ",(0,s.jsx)("strong",{children:"RM200 per person"}),"."]}),(0,s.jsx)("p",{children:"This guideline is intended to encourage broader participation across diverse community groups while ensuring tournaments remain affordable at all levels of competition."})]}),(0,s.jsxs)("div",{className:"guidelines-section",children:[(0,s.jsx)("h3",{children:"6. Cancellation Penalty"}),(0,s.jsxs)("p",{children:["Should the organizer wish to cancel their event, Malaysia Pickleball Association (MPA) must be notified in writing at least thirty (30) days prior to the scheduled event date, failing which a penalty of ",(0,s.jsx)("strong",{children:"MYR5,000"})," will be imposed on the organizer."]})]}),(0,s.jsxs)("div",{className:"guidelines-section important",children:[(0,s.jsx)("h3",{children:"Important"}),(0,s.jsx)("p",{children:"The association shall not be held liable or responsible for any deaths, accidents, injuries, mishaps that may occur during the event. It is the organizer's responsibility to ensure that all participants sign a consent and indemnification form before participating in the event."}),(0,s.jsx)("p",{children:"Please also seek a support letter from your respective State Pickleball Association."}),(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"This support letter shall become null and void if the organizer fails to obtain the approved permit from the Pesuruhjaya Sukan Malaysia (PJS)."})})]})]}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsx)("button",{className:"btn-secondary",onClick:()=>v(!1),children:"Close"})})]})})}),(0,s.jsx)(wo,{isOpen:k,onClose:()=>C(!1)})]})},Lo=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:i,getTTFB:s}=t;n(e),r(e),a(e),i(e),s(e)})};a.createRoot(document.getElementById("root")).render((0,s.jsx)(r.StrictMode,{children:(0,s.jsx)(b,{children:(0,s.jsx)(Po,{})})})),Lo()})();
//# sourceMappingURL=main.542d971d.js.map